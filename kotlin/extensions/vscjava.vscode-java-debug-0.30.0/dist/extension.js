/*! For license information please see extension.js.LICENSE.txt */
module.exports=(()=>{var e={6281:(e,t,n)=>{"use strict";var r=n(7396),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(n(4309).wp(e&&t,this._client),n(5823).wp(e,this._client),n(454).wp(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=i},894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5282),i=n(7396),o=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,i,o){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new s(r)}:null},e.runWithContext=function(t,n){return e.enabled?e.session.bind(n,((r={})[e.CONTEXT_NAME]=t,r))():n();var r},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=n(9562):this.cls=n(3057)),e.session=this.cls.createNamespace("AI-CLS-Session"),i.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=o;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n))r.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===t)return void(o.value=n)}this.props.push({key:t,value:n})}},e.bannedCharacters=/[,=]/,e}()},6639:e=>{"use strict";var t=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var r=function(t,r,i){void 0===i&&(i=new Error(e._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:i}),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();e.exports=t},8723:(e,t,n)=>{"use strict";var r=n(8605),i=n(7211),o=n(5282),s=n(5740),a=n(9036),c=n(8339),u=n(894),l=n(9962),p=n(8090),f=n(7396),d=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),f.IsInitialized&&(n(7886).wp(e,this._client),n(4777).wp(e,this._client),n(5071).wp(e,this._client),n(1227).wp(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0,r.get;var n=r.request,o=i.request,s=function(n,r){var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];n[e.alreadyAutoCollectedFlag]=!0,n&&r&&i&&(u.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:r,request:n}))};r.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=n.call.apply(n,[r,e].concat(t));return s(o,e),o},i.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=o.call.apply(o,[i,e].concat(t));return s(r,e),r},r.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,o=(i=r.request).call.apply(i,[r,e].concat(t));return o.end(),o},i.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=(r=i.request).call.apply(r,[i,e].concat(t));return o.end(),o}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,f=new c(n.options,n.request),d=u.CorrelationContextManager.getCurrentContext();if(d&&d.operation&&d.operation.traceparent&&p.isValidTraceId(d.operation.traceparent.traceId)?(d.operation.traceparent.updateSpanId(),r=d.operation.traceparent.getBackCompatRequestId()):l.w3cEnabled?(i=(v=new p).toString(),r=v.getBackCompatRequestId()):r=d&&d.operation&&d.operation.parentId+e.requestNumber+++".",s.canIncludeCorrelationHeader(t,f.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var h=n.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(t,n.request,h)}catch(e){o.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(d&&d.operation)try{if(n.request.setHeader(a.requestIdHeader,r),n.request.setHeader(a.parentIdHeader,d.operation.id),n.request.setHeader(a.rootIdHeader,r),i||d.operation.traceparent)n.request.setHeader(a.traceparentHeader,i||d.operation.traceparent.toString());else if(l.w3cEnabled){var v=(new p).toString();n.request.setHeader(a.traceparentHeader,v)}if(d.operation.tracestate){var g=d.operation.tracestate.toString();g&&n.request.setHeader(a.traceStateHeader,g)}var m=d.customProperties.serializeToHeader();m&&n.request.setHeader(a.correlationContextHeader,m)}catch(e){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){f.onResponse(e);var i=f.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)})),n.request.on("error",(function(e){f.onError(e);var i=f.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)})))}else o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=d},8339:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(8835),s=n(5290),a=n(5740),c=n(9036),u=n(3054),l=n(9962),p=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=o.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a=n.hostname+" | "+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP,n.port&&(a+=":"+n.port);var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=o.parse(e);else{var n=e;e={},n&&Object.keys(n).forEach((function(t){e[t]=n[t]}))}if(e.path){var r=o.parse(e.path);e.pathname=r.pathname,e.search=r.search}return e.host&&e.port&&!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(u);e.exports=p},6694:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(8835),s=n(5290),a=n(5740),c=n(9036),u=n(3054),l=n(9962),p=n(6333),f=n(8090),d=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=o.parse(e.url),r=n.pathname,i=n.search;return o.format({protocol:t?"https":"http",host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader],r=e.headers[c.traceparentHeader],i=e.headers[c.requestIdHeader],o=e.headers[c.parentIdHeader],s=e.headers[c.rootIdHeader];this.correlationContextHeader=e.headers[c.correlationContextHeader],l.w3cEnabled&&(r||n)?(this.traceparent=new f(r),this.tracestate=r&&n&&new p(n),this.setBackCompatFromThisTraceContext()):i?l.w3cEnabled?(this.traceparent=new f(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new f,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(u);e.exports=d},731:(e,t,n)=>{"use strict";var r=n(8605),i=n(7211),o=n(5282),s=n(5740),a=n(9036),c=n(6694),u=n(894),l=n(4350),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){u.CorrelationContextManager.wrapEmitter(r),u.CorrelationContextManager.wrapEmitter(i);var o=r&&!r[e.alreadyAutoCollectedFlag];if(r&&o){var s=new c(r),a=t._generateCorrelationContext(s);u.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(r[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:r,response:i},s)),"function"==typeof n&&n(r,i)}))}else"function"==typeof n&&n(r,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},s=r.createServer;r.createServer=function(e){var t=s(n(e));return o(t),t};var a=i.createServer;i.createServer=function(e,t){var r=a(e,n(t));return o(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=u.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=u.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,a,n,null,null)})),n.request.on&&n.request.on("error",(function(r){e.endRequest(t,a,n,null,r)}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,i){i?t.onError(i,r):t.onResponse(n.response,r);var o=t.getRequestTelemetry(n);if(o.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var s in n.tagOverrides)o.tagOverrides[s]=n.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=n.request,o.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},1629:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9253),o=n(4470),s=n(5282),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,r,i){var o=this;if(void 0===r&&(r={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(Object(function(){var e=new Error("Cannot find module 'applicationinsights-native-metrics'");throw e.code="MODULE_NOT_FOUND",e}()));e._emitter=new a,e._metricsAvailable=!0,s.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle=setInterval((function(){return o._trackNativeMetrics()}),i),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[i.ENV_nativeMetricsDisableAll],n=process.env[i.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(n){var o=n.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++)s[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:r({},e,s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,n=e._emitter.getGCData();for(var r in n){var i=n[r].metrics,s=r+" Garbage Collection Duration",a=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:s,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var n,r=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:r,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,n)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,n,r=process.memoryUsage(),i=r.heapUsed,s=r.heapTotal,a=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:i,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,n)})}},e}();t.AutoCollectNativePerformance=a},4350:(e,t,n)=>{"use strict";var r=n(2087),i=n(3580),o=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalRequestExecutionTime+=r,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],p=(u.model,u.speed,u.times),f=l.times;t+=p.user-f.user||0,n+=p.sys-f.sys||0,o+=p.nice-f.nice||0,s+=p.idle-f.idle||0,a+=p.irq-f.irq||0}var d=void 0;if("function"==typeof process.cpuUsage){var h=process.cpuUsage(),v=process.hrtime(),g=h.user-this._lastAppCpuUsage.user+(h.system-this._lastAppCpuUsage.system)||0;void 0!==this._lastHrtime&&2===this._lastHrtime.length&&(d=100*g/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=h,this._lastHrtime=v}var m=t+n+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(m-s)/m*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:d||t/m*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,o=n.totalFailedRequestCount-t.totalFailedRequestCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var u=r/a,l=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,o=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var u=r/a,l=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,o=n.time-t.time;if(o>0){var s=r/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=o},3054:e=>{"use strict";var t=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=t},5823:(e,t,n)=>{"use strict";var r=n(5290),i=n(4953),o=[],s={10:r.SeverityLevel.Verbose,20:r.SeverityLevel.Verbose,30:r.SeverityLevel.Information,40:r.SeverityLevel.Warning,50:r.SeverityLevel.Error,60:r.SeverityLevel.Critical},a=function(e){var t=e.data.result;o.forEach((function(n){var r=s[e.data.level];t instanceof Error?n.trackException({exception:t}):n.trackTrace({message:t,severity:r})}))};t.wp=function(e,t){e?(0===o.length&&i.channel.subscribe("bunyan",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("bunyan",a)}},4309:(e,t,n)=>{"use strict";var r=n(5290),i=n(4953),o=[],s=function(e){var t=e.data.message;o.forEach((function(n){t instanceof Error?n.trackException({exception:t}):(t.lastIndexOf("\n")==t.length-1&&(t=t.substring(0,t.length-1)),n.trackTrace({message:t,severity:e.data.stderr?r.SeverityLevel.Warning:r.SeverityLevel.Information}))}))};t.wp=function(e,t){e?(0===o.length&&i.channel.subscribe("console",s),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("console",s)}},7396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5282);t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var i="DiagnosticChannel";if(t.IsInitialized){var o=n(4106),s=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),a={bunyan:o.bunyan,console:o.console,mongodb:o.mongodb,mongodbCore:o.mongodbCore,mysql:o.mysql,redis:o.redis,pg:o.pg,pgPool:o.pgPool,winston:o.winston};for(var c in a)-1===s.indexOf(c)&&(a[c].enable(),r.info(i,"Subscribed to "+c+" events"));s.length>0&&r.info(i,"Some modules will not be patched",s)}else r.info(i,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");t.registerContextPreservation=function(e){t.IsInitialized&&n(4953).channel.addContextPreservation(e)}},7886:(e,t,n)=>{"use strict";var r=n(4953),i=[];t.qP=function(e){e.data.event.commandName,i.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},t.wp=function(e,n){e?(0===i.length&&r.channel.subscribe("mongodb",t.qP),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("mongodb",t.qP)}},4777:(e,t,n)=>{"use strict";var r=n(4953),i=[];t.qP=function(e){i.forEach((function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=(n._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"mysql"})}))},t.wp=function(e,n){e?(0===i.length&&r.channel.subscribe("mysql",t.qP),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("mysql",t.qP)}},1227:(e,t,n)=>{"use strict";var r=n(4953),i=[];t.qP=function(e){i.forEach((function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"postgres"})}))},t.wp=function(e,n){e?(0===i.length&&r.channel.subscribe("postgres",t.qP),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("postgres",t.qP)}},5071:(e,t,n)=>{"use strict";var r=n(4953),i=[];t.qP=function(e){i.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})}))},t.wp=function(e,n){e?(0===i.length&&r.channel.subscribe("redis",t.qP),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("redis",t.qP)}},454:(e,t,n)=>{"use strict";var r=n(5290),i=n(4953),o=[],s={syslog:function(e){var t={emerg:r.SeverityLevel.Critical,alert:r.SeverityLevel.Critical,crit:r.SeverityLevel.Critical,error:r.SeverityLevel.Error,warning:r.SeverityLevel.Warning,notice:r.SeverityLevel.Information,info:r.SeverityLevel.Information,debug:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},npm:function(e){var t={error:r.SeverityLevel.Error,warn:r.SeverityLevel.Warning,info:r.SeverityLevel.Information,verbose:r.SeverityLevel.Verbose,debug:r.SeverityLevel.Verbose,silly:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},unknown:function(e){return r.SeverityLevel.Information}},a=function(e){var t=e.data.message;o.forEach((function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=s[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}}))};t.wp=function(e,t){e?(0===o.length&&i.channel.subscribe("winston",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("winston",a)}},3580:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(n=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(r=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((i={})[r.PROCESSOR_TIME]=n.PROCESSOR_TIME,i[r.REQUEST_RATE]=n.REQUEST_RATE,i[r.REQUEST_DURATION]=n.REQUEST_DURATION,i[n.COMMITTED_BYTES]=n.COMMITTED_BYTES,i[n.REQUEST_FAILURE_RATE]=n.REQUEST_FAILURE_RATE,i[n.DEPENDENCY_RATE]=n.DEPENDENCY_RATE,i[n.DEPENDENCY_FAILURE_RATE]=n.DEPENDENCY_FAILURE_RATE,i[n.DEPENDENCY_DURATION]=n.DEPENDENCY_DURATION,i[n.EXCEPTION_RATE]=n.EXCEPTION_RATE,i),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability}},9382:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9958),i=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=i,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof r.EventData||e instanceof r.ExceptionData||e instanceof r.MessageData||e instanceof r.MetricData||e instanceof r.PageViewData||e instanceof r.RemoteDependencyData||e instanceof r.RequestData}},7220:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(8934));e.exports=o},4101:e=>{"use strict";e.exports=function(){}},9871:e=>{"use strict";e.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}},320:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(4101));e.exports=o},8602:(e,t,n)=>{"use strict";var r=n(495);e.exports=function(){this.kind=r.Measurement}},495:e=>{"use strict";var t;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(t||(t={})),e.exports=t},8934:e=>{"use strict";e.exports=function(){}},7300:e=>{"use strict";e.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}},4526:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(8934));e.exports=o},935:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(n(8934));e.exports=o},8082:e=>{"use strict";e.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}},901:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(n(8934));e.exports=o},3092:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(n(8934));e.exports=o},6279:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(4526));e.exports=o},6290:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(n(8934));e.exports=o},7339:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(8934));e.exports=o},9697:e=>{"use strict";var t;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(t||(t={})),e.exports=t},6376:e=>{"use strict";e.exports=function(){}},9958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=n(7220),t.Base=n(4101),t.ContextTagKeys=n(9871),t.Data=n(320),t.DataPoint=n(8602),t.DataPointType=n(495),t.Domain=n(8934),t.Envelope=n(7300),t.EventData=n(4526),t.ExceptionData=n(935),t.ExceptionDetails=n(8082),t.MessageData=n(901),t.MetricData=n(3092),t.PageViewData=n(6279),t.RemoteDependencyData=n(6290),t.RequestData=n(7339),t.SeverityLevel=n(9697),t.StackFrame=n(6376)},5481:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability"}(n=t.TelemetryType||(t.TelemetryType={}))},2626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(5481))},5290:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(9382)),r(n(9958)),r(n(2626))},3504:(e,t,n)=>{"use strict";var r=n(5282),i=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var n=this._stringify(e);"string"==typeof n&&(this._buffer.push(n),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else r.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;if(!n){var r=this._buffer.join("\n");e?(this._sender.saveOnCrash(r),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(r):new Buffer(r),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){r.warn("Failed to serialize payload",t,e)}},e}();e.exports=i},9253:(e,t,n)=>{"use strict";var r=n(9962),i=n(5158),o=n(3580),s=n(8835),a=function(){function e(t){var n=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var r=process.env[e.ENV_connectionString],a=i.parse(t),c=i.parse(r),u=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||u||c.instrumentationkey||e._getInstrumentationKey(),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return n.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=a},5158:(e,t,n)=>{"use strict";var r=n(3580),i=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var i=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+i+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+i+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();e.exports=i},4470:(e,t,n)=>{"use strict";var r=n(2087),i=n(5747),o=n(5622),s=n(5290),a=n(5282),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.sdkVersion=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c},9962:(e,t,n)=>{"use strict";var r=n(5740),i=n(5282),o=function(){function e(){}return e.queryCorrelationId=function(t,n){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))n(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(n);else{e.pendingLookups[o]=[n];var s=function(){if(e.pendingLookups[o]){var n={method:"GET",disableAppInsightsAutoCollection:!0};i.info(e.TAG,n);var a=r.makeRequest(t,o,n,(function(n){if(200===n.statusCode){var r="";n.setEncoding("utf-8"),n.on("data",(function(e){r+=e})),n.on("end",(function(){i.info(e.TAG,r);var t=e.correlationIdPrefix+r;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){i.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter((function(e){return e!=n})),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,i){if(t.length+n.length<e.requestIdMaxLength)return t+n+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,o)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();e.exports=o},9813:(e,t,n)=>{"use strict";var r=n(5290),i=n(5740),o=n(894),s=function(){function e(){}return e.createEnvelope=function(t,n,o,s,a){var c=null;switch(n){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t)}if(o&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in o)c.baseData.properties[u]||(c.baseData.properties[u]=o[u]);else c.baseData.properties=o;c.baseData.properties=i.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",p=new r.Envelope;return p.data=c,p.iKey=l,p.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(s,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=a?a.samplingPercentage:100,n===r.TelemetryType.Metric&&(p.sampleRate=100),p},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=i.w3cTraceId();var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),n.baseData=t,n},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var n=e.exception.stack,o=new r.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(n),o.hasFullStack=i.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=i.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),n.baseData=t,n},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),i.baseData=t,i},e.createAvailabilityData=function(e){var t=new r.AvailabilityData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),n.baseData=t,n},e.getTags=function(e,t){var n=o.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var i in e.tags)r[i]=e.tags[i];if(t)for(var i in t)r[i]=t[i];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,o=0;o<=n.length;o++){var s=n[o];if(a.regex.test(s)){var c=new a(n[o],r++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var u=0,l=t.length-1,p=0,f=u,d=l;u<l;){if((p+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var h=d-f+1;t.splice(f,h);break}f=u,d=l,u++,l--}}return t},e}(),a=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=i.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=i.trim(r[2])||this.method,this.fileName=i.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=s},5282:e=>{"use strict";var t=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();e.exports=t},1259:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7625),s=n(731),a=n(8723),c=n(5282),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?s.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?s.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);e.exports=u},7148:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(2087),o=n(5290),s=n(3580),a=n(5740),c=n(5282),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||o;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:u,MachineName:o,Instance:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.name;return r({},n,{Name:i})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return r({},n,{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),r({},n,{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:n.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var i={key:r,value:n[r]};t.push(i)}var o=e.data.baseData.properties||{};for(var r in o)o.hasOwnProperty(r)&&(i={key:r,value:o[r]},t.push(i));return t},e.keys=new o.ContextTagKeys,e}();e.exports=l},9184:(e,t,n)=>{"use strict";var r=n(7211),i=n(8723),o=n(5282),s=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,n,s){var a,c,u=this,l=JSON.stringify(t),p=((a={})[i.disableCollectionRequestOption]=!0,a.host=this._config.quickPulseHost,a.method="POST",a.path="/QuickPulseService.svc/"+s+"?ikey="+this._config.instrumentationKey,a.headers=((c={Expect:"100-continue"})["x-ms-qps-transmission-time"]=1e4*Date.now(),c["Content-Type"]="application/json",c["Content-Length"]=Buffer.byteLength(l),c),a),f=r.request(p,(function(e){var t="true"===e.headers["x-ms-qps-subscribed"];u._consecutiveErrors=0,n(t,e)}));f.on("error",(function(t){u._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";u._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+u._consecutiveErrors+" consecutive times. Most recent error:",o.warn(e.TAG,r,t)):o.info(e.TAG,r,t),n()})),f.write(l),f.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=s},3668:(e,t,n)=>{"use strict";var r=n(5282),i=n(9253),o=n(7148),s=n(9184),a=n(3580),c=n(4470),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new i(e),this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=a.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=o.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,n=Object.keys(this._metrics).map((function(e){return t._metrics[e]})),r=o.createQuickPulseEnvelope(n,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(r):this._ping(r);var i=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(r.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=u},9036:e=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},2588:(e,t,n)=>{"use strict";var r=n(5747),i=n(2087),o=n(5622),s=n(8761),a=n(3129),c=n(5282),u=n(8723),l=n(5740),p=function(){function e(t,n,i){if(this._config=t,this._onSuccess=n,this._onError=i,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=r.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,n){var r=this,i=this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};s.gzip(t,(function(s,a){var p=a;s?(c.warn(s),p=t,o.headers["Content-Length"]=t.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=a.length),c.info(e.TAG,o),o[u.disableCollectionRequestOption]=!0;var f=l.makeRequest(r._config,i,o,(function(i){i.setEncoding("utf-8");var o="";i.on("data",(function(e){o+=e})),i.on("end",(function(){r._numConsecutiveFailures=0,c.info(e.TAG,o),"function"==typeof r._onSuccess&&r._onSuccess(o),"function"==typeof n&&n(o),r._enableDiskRetryMode&&(200===i.statusCode?setTimeout((function(){return r._sendFirstFileOnDisk()}),r._resendInterval).unref():408!==i.statusCode&&429!==i.statusCode&&439!==i.statusCode&&500!==i.statusCode&&503!==i.statusCode||r._storeToDisk(t))}))}));f.on("error",(function(i){if(r._numConsecutiveFailures++,!r._enableDiskRetryMode||r._numConsecutiveFailures>0&&r._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";r._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+r._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,o,i)}else o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",c.info(e.TAG,o,i);if(r._onErrorHelper(i),"function"==typeof n){var s="error sending telemetry";i&&"function"==typeof i.toString&&(s=i.toString()),n(s)}r._enableDiskRetryMode&&r._storeToDisk(t)})),f.write(p),f.end()}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,n){var r=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",(function(e){return n(e)})),r.on("close",(function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",(function(e){return r+=e})),n.on("error",(function(e){return t(e,null)})),n.on("close",(function(n,i){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,o),(function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)}))}))):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;r.lstat(e,(function(i,o){i&&"ENOENT"===i.code?r.mkdir(e,(function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)})):!i&&o.isDirectory()?n._applyACLRules(e,t):t(i||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){r.readdir(e,(function(n,i){if(n)return t(n,-1);var s=null,a=0,c=0;if(0!==i.length)for(var u=0;u<i.length;u++)r.stat(o.join(e,i[u]),(function(e,n){c++,e?s=e:n.isFile()&&(a+=n.size),c===i.length&&t(s,s?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=r.readdirSync(e),n=0,i=0;i<t.length;i++)n+=r.statSync(o.join(e,t[i])).size;return n},e.prototype._storeToDisk=function(t){var n=this,s=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+s),this._confirmDirExists(s,(function(i){if(i)return c.warn(e.TAG,"Error while checking/creating directory: "+(i&&i.message)),void n._onErrorHelper(i);n._getShallowDirectorySize(s,(function(i,a){if(i||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(i&&i.message)),void n._onErrorHelper(i);if(a>n._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var u=(new Date).getTime()+".ai.json",l=o.join(s,u);c.info(e.TAG,"saving data to disk at: "+l),r.writeFile(l,t,{mode:384},(function(e){return n._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){var n=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+n),r.existsSync(n)||r.mkdirSync(n),this._applyACLRulesSync(n);var s=this._getShallowDirectorySizeSync(n);if(s>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+s);var a=(new Date).getTime()+".ai.json",u=o.join(n,a);c.info(e.TAG,"saving data before crash to disk at: "+u),r.writeFileSync(u,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,n=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);r.exists(n,(function(e){e&&r.readdir(n,(function(e,i){if(e)t._onErrorHelper(e);else if((i=i.filter((function(e){return o.basename(e).indexOf(".ai.json")>-1}))).length>0){var s=i[0],a=o.join(n,s);r.readFile(a,(function(e,n){e?t._onErrorHelper(e):r.unlink(a,(function(e){e?t._onErrorHelper(e):t.send(n)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===i.type(),e}();e.exports=p},7625:(e,t,n)=>{"use strict";var r=n(8835),i=n(9253),o=n(4470),s=n(5290),a=n(3504),c=n(9428),u=n(894),l=n(2588),p=n(5740),f=n(5282),d=n(9813),h=function(){function e(e){this._telemetryProcessors=[];var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var n=new l(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!p.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var n=d.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString());var r=this.runTelemetryProcessors(n,e.contextObjects);r=r&&c.samplingTelemetryProcessor(n,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),r&&this.channel.send(n)}else f.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var i=0;i<r;++i)try{var o=this._telemetryProcessors[i];if(o&&!1===o.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,f.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n},e}();e.exports=h},8090:(e,t,n)=>{"use strict";var r=n(5740),i=n(9962),o=function(){function e(t,n){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var a=i.getRootId(n);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==n.indexOf("|")&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=a,this.spanId=n}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();e.exports=o},6333:e=>{"use strict";var t=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(r[c[0]])return null;r[c[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();e.exports=t},5740:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(8605),o=n(7211),s=n(8835),a=n(7619),c=n(5282),u=n(9036),l=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++)if(n=o[s],(n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,o[s].length);break}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++)if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[u.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var o=r[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,n,a,u){n&&0===n.indexOf("//")&&(n="https:"+n);var l=s.parse(n),p=r({},a,{host:l.hostname,port:l.port,path:l.pathname}),f=void 0;if("https:"===l.protocol&&(f=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(f=t.proxyHttpUrl||void 0),f){0===f.indexOf("//")&&(f="http:"+f);var d=s.parse(f);"https:"===d.protocol?(c.info("Proxies that use HTTPS are not supported"),f=void 0):p=r({},p,{host:d.hostname,port:d.port||"80",path:n,headers:r({},p.headers,{Host:l.hostname})})}var h="https:"===l.protocol&&!f;return h&&void 0!==t.httpsAgent?p.agent=t.httpsAgent:h||void 0===t.httpAgent?h&&(p.agent=e.tlsRestrictedAgent):p.agent=t.httpAgent,h?o.request(p,u):i.request(p,u)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),i=u.requestContextSourceKey+"=";r.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(u.requestContextHeader,n+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=l},4127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4350),i=n(5290);t.performanceMetricsTelemetryProcessor=function(e,t){switch(t&&t.addDocument(e),e.data.baseType){case i.TelemetryTypeString.Exception:r.countException();break;case i.TelemetryTypeString.Request:var n=e.data.baseData;r.countRequest(n.duration,n.success);break;case i.TelemetryTypeString.Dependency:var o=e.data.baseData;r.countDependency(o.duration,o.success)}return!0}},2037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5290);function i(e){var t=2147483647,n=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var r=0;r<e.length;r++)n=((n<<5)+n|0)+e.charCodeAt(r)|0;return(n=n<=-2147483648?t:Math.abs(n))/t*100}t.samplingTelemetryProcessor=function(e,t){var n=e.sampleRate;return null==n||n>=100||!(!e.data||r.TelemetryType.Metric!==r.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?i(t.correlationContext.operation.id)<n:100*Math.random()<n)},t.getSamplingHashCode=i},9428:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2037)),r(n(4127))},9574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(894),o=n(6281),s=n(6639),a=n(4350),c=n(8723),u=n(731),l=n(9962),p=n(5282),f=n(3668),d=n(1629);t.TelemetryClient=n(1259),t.Contracts=n(5290),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(r=t.DistributedTracingModes||(t.DistributedTracingModes={}));var h,v,g,m,y,_,E,b,C,w=!0,T=!1,I=!0,A=!0,x=!0,S=!0,O=!0,P=!0,R=!1,k=!0,N=void 0,D=void 0,L=!1;function M(){return t.defaultClient?(L=!0,g.enable(w,T),m.enable(I),y.enable(A),_.enable(k,v),E.useAutoCorrelation(P,h),E.enable(x),b.enable(S),t.liveMetricsClient&&R&&t.liveMetricsClient.enable(R)):p.warn("Start cannot be called before setup"),j}t.setup=function(e){return t.defaultClient?p.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),g=new o(t.defaultClient),m=new s(t.defaultClient),y=new a(t.defaultClient),E=new u(t.defaultClient),b=new c(t.defaultClient),_||(_=new d.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(O,N,D),j},t.start=M,t.getCorrelationContext=function(){return P?i.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return i.CorrelationContextManager.wrapCallback(e)};var j=function(){function e(){}return e.setDistributedTracingMode=function(t){return l.w3cEnabled=t===r.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,n){return void 0===n&&(n=!1),w=t,T=n,L&&g.enable(t,n),e},e.setAutoCollectExceptions=function(t){return I=t,L&&m.enable(t),e},e.setAutoCollectPerformance=function(t,n){void 0===n&&(n=!0),A=t;var r=d.AutoCollectNativePerformance.parseEnabled(n);return k=r.isEnabled,v=r.disabledMetrics,L&&(y.enable(t),_.enable(r.isEnabled,r.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return x=t,L&&E.enable(t),e},e.setAutoCollectDependencies=function(t){return S=t,L&&b.enable(t),e},e.setAutoDependencyCorrelation=function(t,n){return P=t,h=n,L&&E.useAutoCorrelation(t,n),e},e.setUseDiskRetryCaching=function(n,r,i){return O=n,N=r,D=i,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(n,r,i),e},e.setInternalLogging=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),p.enableDebug=t,p.disableWarnings=!n,e},e.setSendLiveMetrics=function(n){return void 0===n&&(n=!1),t.defaultClient?(!t.liveMetricsClient&&n?(t.liveMetricsClient=new f(t.defaultClient.config.instrumentationKey),C=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(C),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(n),R=n,e):(p.warn("Live metrics client cannot be setup without the default client"),e)},e.start=M,e}();t.Configuration=j,t.dispose=function(){t.defaultClient=null,L=!1,g&&g.dispose(),m&&m.dispose(),y&&y.dispose(),_&&_.dispose(),E&&E.dispose(),b&&b.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),R=!1,t.liveMetricsClient=void 0)}},9822:(e,t,n)=>{"use strict";const r=process.binding("async_wrap"),i=r.Providers.TIMERWRAP,o={nextTick:n(3269),promise:n(9565),timers:n(7190)},s=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(t,n,r,o){if(n!==i)for(const i of e)i(t,this,n,r,o);else s.add(t)},this.pre=function(e){if(!s.has(e))for(const n of t)n(e,this)},this.post=function(e,t){if(!s.has(e))for(const r of n)r(e,this,t)},this.destroy=function(e){if(s.has(e))s.delete(e);else for(const t of r)t(e)}}function u(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function l(){this._state=new a,this._hooks=new c,this.version=n(1910).i8,this.providers=r.Providers;for(const e of Object.keys(o))o[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&u(this.initFns,e.init),e.pre&&u(this.preFns,e.pre),e.post&&u(this.postFns,e.post),e.destroy&&u(this.destroyFns,e.destroy)},e.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}},3223:(e,t,n)=>{"use strict";const r=n(9822);if(global._asyncHook){if(global._asyncHook.version!==n(1910).i8)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else n(2512).filter.attach((function(e,t){return t.filter((function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),e.exports=global._asyncHook=new r},1910:e=>{"use strict";e.exports={i8:"1.7.6"}},3269:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,n=this._state,r=process.nextTick;process.nextTick=function(){if(!n.enabled)return r.apply(process,arguments);const i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];const o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");const s=new t,a=--n.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},r.apply(process,i)}}},9565:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,n=this._state,r=global.Promise,i=r.prototype.then;function o(t,n,r,i){return"function"!=typeof t?i?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}r.prototype.then=function(r,s){if(!n.enabled)return i.call(this,r,s);const a=new t,c=--n.counter;return e.init.call(a,c,0,null,null),i.call(this,o(r,a,c,!0),o(s,a,c,!1))}}},7190:(e,t,n)=>{"use strict";const r=n(8213);function i(){}function o(){}function s(){}const a=new Map,c=new Map,u=new Map;let l=null,p=!1;function f(e,t,n,i,o,s,a){const c=r[n],u=r[i];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);const n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];const i=n[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');const u=new o,f=--t.counter;let d;return e.init.call(u,f,0,null,null),n[0]=function(){l=d,e.pre.call(u,f);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(u,f,!0),s.delete(d),e.destroy.call(null,f)}))}e.post.call(u,f,!1),l=null,(a||p)&&(p=!1,s.delete(d),e.destroy.call(null,f))},d=c.apply(r,n),s.set(d,f),d},r[i]=function(t){if(l===t&&null!==t)p=!0;else if(s.has(t)){const n=s.get(t);s.delete(t),e.destroy.call(null,n)}u.apply(r,arguments)}}e.exports=function(){f(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),f(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),f(this._hooks,this._state,"setImmediate","clearImmediate",s,u,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}},8286:e=>{"use strict";e.exports=(e,t)=>class extends e{constructor(e){var n,r;super((function(e,o){n=this,r=[function(n){return t(i,!1),e(n)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(n,r)}catch(e){r[1](e)}return i}}},9090:(e,t,n)=>{var r,i,o=n(6372).wrap,s=[],a=0,c=!1,u=[];function l(e,t){var n=e.length,r=t.length,i=[];if(0===n&&0===r)return i;for(var o=0;o<n;o++)i[o]=e[o];if(0===r)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}if(process._fatalException){var p,f=!1;r=function(e){var t=s.length;if(f||0===t)return!1;var n=!1;f=!0;for(var r=0;r<t;++r){var i=s[r];if(0!=(8&i.flags)){var o=p&&p[i.uid];n=i.error(o,e)||n}}return f=!1,u.length>0&&(s=u.pop()),p=void 0,n&&!c},i=function(e,t,n){var r=[];c=!0;for(var i=0;i<n;++i){var o=t[i];if(r[o.uid]=o.data,0!=(1&o.flags)){var a=o.create(o.data);void 0!==a&&(r[o.uid]=a)}}return c=!1,function(){p=r,u.push(s),s=l(t,s),c=!0;for(var i=0;i<n;++i)(2&t[i].flags)>0&&t[i].before(this,r[t[i].uid]);c=!1;var o=e.apply(this,arguments);for(c=!0,i=0;i<n;++i)(4&t[i].flags)>0&&t[i].after(this,r[t[i].uid]);return c=!1,s=u.pop(),p=void 0,o}},o(process,"_fatalException",(function(e){return function(t){return r(t)||e(t)}}))}else{var d=!1;r=function(e){if(d)throw e;for(var t=!1,n=s.length,r=0;r<n;++r){var i=s[r];0!=(8&i.flags)&&(t=i.error(null,e)||t)}if(!t&&c)throw e},i=function(e,t,n){var i=[];c=!0;for(var o=0;o<n;++o){var a=t[o];if(i[a.uid]=a.data,0!=(1&a.flags)){var p=a.create(a.data);void 0!==p&&(i[a.uid]=p)}}return c=!1,function(){var o,a=!1,p=!1;u.push(s),s=l(t,s),c=!0;for(var f=0;f<n;++f)(2&t[f].flags)>0&&t[f].before(this,i[t[f].uid]);c=!1;try{o=e.apply(this,arguments)}catch(e){for(a=!0,f=0;f<n;++f)if(0!=(8&s[f].flags))try{p=s[f].error(i[t[f].uid],e)||p}catch(e){throw d=!0,e}if(!p)throw process.removeListener("uncaughtException",r),process._originalNextTick((function(){process.addListener("uncaughtException",r)})),e}finally{if(!a||p){for(c=!0,f=0;f<n;++f)(4&t[f].flags)>0&&t[f].after(this,i[t[f].uid]);c=!1}s=u.pop()}return o}},process.addListener("uncaughtException",r)}function h(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++a,this.data=void 0===t?null:t}function v(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof h?e:new h(e,t)}h.prototype.create=void 0,h.prototype.before=void 0,h.prototype.after=void 0,h.prototype.error=void 0,h.prototype.data=void 0,h.prototype.uid=0,h.prototype.flags=0,process.createAsyncListener=v,process.addAsyncListener=function(e,t){var n;n=e instanceof h?e:v(e,t);for(var r=!1,i=0;i<s.length;i++)if(n===s[i]){r=!0;break}return r||s.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<s.length;t++)if(e===s[t]){s.splice(t,1);break}},e.exports=function(e){var t=s.length;if(0===t)return e;for(var n=s.slice(),r=0;r<t;++r)if(n[r].flags>0)return i(e,n,t);return function(e,t,n){c=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return c=!1,function(){u.push(s),s=l(t,s);var n=e.apply(this,arguments);return s=u.pop(),n}}(e,n,t)}},7645:(e,t,n)=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var r=n(6372),i=n(6625),o=r.wrap,s=r.massWrap,a=n(9090),c=n(1669),u=i.gte(process.version,"6.0.0"),l=i.gte(process.version,"7.0.0"),p=i.gte(process.version,"8.0.0"),f=i.gte(process.version,"11.0.0"),d=n(1631);function h(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function v(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}l&&!d._normalizeArgs?d._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,n,r=e[0],i={};"object"==typeof r&&null!==r?i=r:"string"==typeof(t=r)&&!1===(n=t,(n=Number(n))>=0&&n)?i.path=r:(i.port=r,e.length>1&&"string"==typeof e[1]&&(i.host=e[1]));var o=e[e.length-1];return"function"!=typeof o?[i,null]:[i,o]}:l||d._normalizeConnectArgs||(d._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in d.Server.prototype?o(d.Server.prototype,"_setUpListenHandle",h):o(d.Server.prototype,"_listen2",h),o(d.Socket.prototype,"connect",(function(e){return function(){var t;(t=p&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:l?d._normalizeArgs(arguments):d._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var n=e.apply(this,t);return v(this),n}}));var g=n(8605);o(g.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=a((function(e){return v(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var m=n(3129);function y(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),o(e._handle,"close",k))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}m.ChildProcess?o(m.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return y(this),t}})):s(m,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return y(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var _=[];process._nextDomainTick&&_.push("_nextDomainTick"),process._tickDomainCallback&&_.push("_tickDomainCallback"),s(process,_,R),o(process,"nextTick",k);var E=["setTimeout","setInterval"];global.setImmediate&&E.push("setImmediate");var b=n(8213),C=global.setTimeout===b.setTimeout;s(b,E,k),C&&s(global,E,k);var w=n(881);s(w,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],R),w.resolveNaptr&&o(w,"resolveNaptr",R);var T,I,A=n(5747);s(A,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],R),A.lchown&&o(A,"lchown",R),A.lchmod&&o(A,"lchmod",R),A.ftruncate&&o(A,"ftruncate",R);try{T=n(8761)}catch(e){}if(T&&T.Deflate&&T.Deflate.prototype){var x=Object.getPrototypeOf(T.Deflate.prototype);x._transform?o(x,"_transform",R):x.write&&x.flush&&x.end&&s(x,["write","flush","end"],R)}try{I=n(6417)}catch(e){}if(I){var S=["pbkdf2","randomBytes"];f||S.push("pseudoRandomBytes"),s(I,S,R)}var O=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(O){var P=process.addAsyncListener({create:function(){O=!1}});global.Promise.resolve(!0).then((function(){O=!1})),process.removeAsyncListener(P)}function R(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=a(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,n,r,i,o,s,c))};default:return t}}function k(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s,c))};default:return t}}O&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var i,o,s=new e((function(e,t){i=this,o=[function(t){return r(s,!1),e(t)},function(e){return r(s,!1),t(e)}]}));s.__proto__=t.prototype;try{n.apply(i,o)}catch(e){o[1](e)}return s}function r(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(i))}function i(t,n,o,s){var a;try{return{returnVal:a=n.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){return(a.__asl_wrapper||i).apply(this,arguments)}:r(s,!0)}}function s(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,r));return n.__asl_wrapper=function(e,r,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,r,o,s)):i(e,r,o,s)},n;function r(e){return"function"!=typeof e?e:a((function(r){var o=(t.__asl_wrapper||i)(this,e,r,n);if(o.error)throw o.errorVal;return o.returnVal}))}}}c.inherits(t,e),o(e.prototype,"then",s),e.prototype.chain&&o(e.prototype,"chain",s),u?global.Promise=n(8286)(e,r):(["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t)}()},4046:(e,t,n)=>{"use strict";const r=n(1669),i=n(2357),o=n(9867),s=n(3223),a="error@context",c=[];for(let e in s.providers)c[s.providers[e]]=e;const u=process.env.DEBUG_CLS_HOOKED;let l=-1;function p(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function f(e){return process.namespaces[e]}function d(e){let t=f(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function h(e){process.env.DEBUG&&process._rawDebug(e)}function v(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:f,createNamespace:function(e){i.ok(e,"namespace must be given a name."),u&&h("CREATING NAMESPACE "+e);let t=new p(e);return t.id=l,s.addHooks({init(n,i,o,s,a){l=n,s?(t._contexts.set(n,t._contexts.get(s)),u&&h("PARENTID: "+e+" uid:"+n+" parent:"+s+" provider:"+o)):t._contexts.set(l,t.active),u&&h("INIT "+e+" uid:"+n+" parent:"+s+" provider:"+c[o]+" active:"+r.inspect(t.active,!0))},pre(n,i){l=n;let o=t._contexts.get(n);o?(u&&h(" PRE "+e+" uid:"+n+" handle:"+v(i)+" context:"+r.inspect(o)),t.enter(o)):u&&h(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+v(i))},post(n,i){l=n;let o=t._contexts.get(n);o?(u&&h(" POST "+e+" uid:"+n+" handle:"+v(i)+" context:"+r.inspect(o)),t.exit(o)):u&&h(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+v(i))},destroy(n){l=n,u&&h("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(l))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:d,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){d(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:a},p.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&h("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},p.prototype.get=function(e){if(this.active)return u&&h("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[e];u&&h("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0))},p.prototype.createContext=function(){u&&h("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=l,u&&h("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},p.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return u&&h(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e[a]=t),e}finally{u&&h(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},p.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},p.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return u&&h(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(u&&h(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[a]=t,u&&h(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},p.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[a]=t),e}finally{n.exit(t)}}},p.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),u&&h("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},p.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),u&&h("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&h("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},p.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},p.prototype.fromException=function(e){return e[a]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),u){var g=n(2512);for(var m in g.filter._modifiers)g.filter.deattach(m)}},3964:(e,t,n)=>{"use strict";const r=n(1669),i=n(2357),o=n(9867),s=n(7303),a="error@context",c=process.env.DEBUG_CLS_HOOKED;let u=-1;function l(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function p(e){return process.namespaces[e]}function f(e){let t=p(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function d(...e){c&&process._rawDebug(`${r.format(...e)}`)}e.exports={getNamespace:p,createNamespace:function(e){i.ok(e,"namespace must be given a name."),c&&d(`NS-CREATING NAMESPACE (${e})`);let t=new l(e);return t.id=u,s.createHook({init(n,i,o,a){if(u=s.executionAsyncId(),t.active){if(t._contexts.set(n,t.active),c){d(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(0===u){const o=s.triggerAsyncId(),l=t._contexts.get(o);if(l){if(t._contexts.set(n,l),c){d(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(c){d(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}if(c&&"PROMISE"===i){d(r.inspect(a,{showHidden:!0}));const s=a.parentId;d(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(n){let i;if(u=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u),i){if(c){const o=s.triggerAsyncId();d(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`),t._indent+=2}t.enter(i)}else if(c){const i=s.triggerAsyncId();d(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){let i;if(u=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u),i){if(c){const o=s.triggerAsyncId();t._indent-=2;d(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}t.exit(i)}else if(c){const o=s.triggerAsyncId();t._indent-=2;d(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}},destroy(n){if(u=s.executionAsyncId(),c){const i=s.triggerAsyncId();d(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${n} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(t._contexts.get(u))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:f,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){f(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:a},l.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,c&&d(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},l.prototype.get=function(e){if(this.active){if(c){const t=s.executionAsyncId(),n=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);d(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),d(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[e]}if(c){const t=s.currentId(),n=s.triggerAsyncId();d(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},l.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,c){const t=s.executionAsyncId(),n=s.triggerAsyncId();d(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${r.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},l.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(c){const e=s.triggerAsyncId(),n=s.executionAsyncId();d(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${r.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[a]=t),e}finally{if(c){const e=s.triggerAsyncId(),n=s.executionAsyncId();d(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${r.inspect(t)}`)}this.exit(t)}},l.prototype.runAndReturn=function(e){let t;return this.run((function(n){t=e(n)})),t},l.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return c&&d("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(c&&d("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[a]=t,c&&d("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},l.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[a]=t),e}finally{n.exit(t)}}},l.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),c){const t=s.executionAsyncId(),n=s.triggerAsyncId();d(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}this._set.push(this.active),this.active=e},l.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),c){const t=s.executionAsyncId(),n=s.triggerAsyncId();d(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&d("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},l.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},l.prototype.fromException=function(e){return e[a]},process.namespaces={}},9562:(e,t,n)=>{"use strict";const r=n(6625);process&&r.gte(process.versions.node,"8.0.0")?e.exports=n(3964):e.exports=n(4046)},4247:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t,n,r=e.replace(/^v/,"").replace(/\+.*$/,""),i=(n="-",-1===(t=r).indexOf(n)?t.length:t.indexOf(n)),o=r.substring(0,i).split(".");return o.push(r.substring(i+1)),o}function n(e){return isNaN(Number(e))?e:Number(e)}function r(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function i(e,i){[e,i].forEach(r);for(var o=t(e),s=t(i),a=0;a<Math.max(o.length-1,s.length-1);a++){var c=parseInt(o[a]||0,10),u=parseInt(s[a]||0,10);if(c>u)return 1;if(u>c)return-1}var l=o[o.length-1],p=s[s.length-1];if(l&&p){var f=l.split(".").map(n),d=p.split(".").map(n);for(a=0;a<Math.max(f.length,d.length);a++){if(void 0===f[a]||"string"==typeof d[a]&&"number"==typeof f[a])return-1;if(void 0===d[a]||"string"==typeof f[a]&&"number"==typeof d[a])return 1;if(f[a]>d[a])return 1;if(d[a]>f[a])return-1}}else if(l||p)return l?-1:1;return 0}var o=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(t){return"string"==typeof t&&e.test(t)},i.compare=function(e,t,n){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(n);var r=i(e,t);return s[n].indexOf(r)>-1},i})?n.apply(t,[]):n)||(e.exports=r)},3057:(e,t,n)=>{"use strict";var r=n(2357),i=n(9867),o="error@context";function s(e){this.name=e,this.active=null,this._set=[],this.id=null}function a(e){return process.namespaces[e]}function c(e){var t=a(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){c(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||n(7645),s.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},s.prototype.get=function(e){if(this.active)return this.active[e]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[o]=t),e}finally{this.exit(t)}},s.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},s.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[o]=t),e}finally{n.exit(t)}}},s.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},s.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},s.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;var t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},s.prototype.fromException=function(e){return e[o]},process.namespaces||u(),e.exports={getNamespace:a,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new s(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:c,reset:u}},8604:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4953);t.AzureMonitorSymbol="Azure_Monitor_Tracer";var o=function(){function e(){}return e.prototype.onStart=function(e){},e.prototype.onEnd=function(e){i.channel.publish("azure-coretracing",e)},e.prototype.shutdown=function(){},e}();t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){try{var n=new(0,Object(function(){var e=new Error("Cannot find module '@opentelemetry/tracing'");throw e.code="MODULE_NOT_FOUND",e}()).BasicTracer)(i.channel.spanContextPropagator?{scopeManager:i.channel.spanContextPropagator}:void 0),s=n.startSpan;n.startSpan=function(e,t){if(!t||!t.parent){var i=n.getCurrentSpan();i&&i.operation&&i.operation.traceparent&&(t=r({},t,{parent:{traceId:i.operation.traceparent.traceId,spanId:i.operation.traceparent.spanId}}))}var o=s.call(this,e,t);return o.addEvent("Application Insights Integration enabled"),o},n.addSpanProcessor(new o),n[t.AzureMonitorSymbol]=!0,e.setTracer(n)}catch(e){}return e}},t.enable=function(){i.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}},8859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4953);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,n){var i=t.apply(this,arguments);if(!n){var o=i;o||(o=t.call(this,e,!0)),r.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},t.enable=function(){r.channel.registerMonkeyPatch("bunyan",t.bunyan)}},2495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4953),i=n(2413);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new i.Writable,n=new i.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t}),!0},n.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t,stderr:!0}),!0};for(var o=new e.Console(t,n),s=function(t){var n=e[t];n&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)s(c[a]);return e}},t.enable=function(){r.channel.registerMonkeyPatch("console",t.console),n(7082)}},4106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8604);t.azuresdk=r;var i=n(8859);t.bunyan=i;var o=n(2495);t.console=o;var s=n(2028);t.mongodbCore=s;var a=n(8436);t.mongodb=a;var c=n(8002);t.mysql=c;var u=n(9024);t.pgPool=u;var l=n(8060);t.pg=l;var p=n(4487);t.redis=p;var f=n(6661);t.tedious=f;var d=n(4650);t.winston=d,t.enable=function(){i.enable(),o.enable(),s.enable(),a.enable(),c.enable(),l.enable(),u.enable(),p.enable(),d.enable(),r.enable(),f.enable()}},2028:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4953);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},8436:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4953);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return i.channel.bindToContext((function(e){return e()}))}}}),n={};return t.on("started",(function(e){n[e.requestId]||(n[e.requestId]=r({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var t=e.instrument(),n={},o={};return t.on("started",(function(e){n[e.requestId]||(o[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=r({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=i.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var r=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=i.channel.bindToContext(arguments[1])),r.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},r={};return t.on("started",(function(e){n[e.requestId]||(r[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete r[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete r[e.requestId])})),e}},t.enable=function(){i.channel.registerMonkeyPatch("mongodb",t.mongo2),i.channel.registerMonkeyPatch("mongodb",t.mongo3),i.channel.registerMonkeyPatch("mongodb",t.mongo330)}},8002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4953),i=n(5622);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var o=function(e,t){return function(t,n){var i=e[t];i&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(n?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=r.channel.bindToContext(n(s,o))):arguments[e]=r.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=n(4694)(i.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,t){return function(n){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;r.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:o,time:e.startDate}),t.apply(this,arguments)}}));var c=n(420)(i.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},t.enable=function(){r.channel.registerMonkeyPatch("mysql",t.mysql)}},9024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4953);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=r.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},8060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4953),i=n(8614);t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var n=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function l(e){e&&e[o]&&(e=e[o]);var t=r.channel.bindToContext((function(t,n){var o=process.hrtime(u);if(c.result=n&&{rowCount:n.rowCount,command:n.command},c.error=t,c.duration=Math.ceil(1e3*o[0]+o[1]/1e6),r.channel.publish("postgres",c),t){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,o,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(c.query.preparable={text:e,args:t},s=l(s)):(c.query.text=e,s?s=l(s):t=l(t)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=l(s):t?t=l(t):e.callback=l(e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=n.apply(this,arguments)},e}},t.postgres7={versionSpecifier:"7.*",patch:function(e,t){var n=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,s){var a,c=this,u=!!s,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},p=process.hrtime();function f(e){e&&e[o]&&(e=e[o]);var t=r.channel.bindToContext((function(t,n){var o=process.hrtime(p);if(l.result=n&&{rowCount:n.rowCount,command:n.command},l.error=t,l.duration=Math.ceil(1e3*o[0]+o[1]/1e6),r.channel.publish("postgres",l),t){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,o,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(l.query.preparable={text:e,args:t},s=(u="function"==typeof s)?f(s):s):(l.query.text=e,s?s=(u="function"==typeof s)?f(s):s:t=(u="function"==typeof t)?f(t):t):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,s?(u="function"==typeof s,s=f(s)):t?t=(u="function"==typeof t)?f(t):t:(u="function"==typeof e.callback,e.callback=u?f(e.callback):e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=n.apply(this,arguments),u?a:a.then((function(e){return f()(void 0,e),new c._Promise((function(t,n){t(e)}))})).catch((function(e){return f()(e,void 0),new c._Promise((function(t,n){n(e)}))}))},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg",t.postgres6),r.channel.registerMonkeyPatch("pg",t.postgres7)}},4487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4953);t.redis={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=r.channel.bindToContext((function(t,a){var c=process.hrtime(o),u=1e3*c[0]+c[1]/1e6|0;r.channel.publish("redis",{duration:u,address:i,commandObj:e,err:t,result:a,time:s}),"function"==typeof n&&n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){r.channel.registerMonkeyPatch("redis",t.redis)}},6661:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4953);t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var t=process.hrtime(),n={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return i.channel.bindToContext((function(o,s,a){var c=process.hrtime(t);n=r({},n,{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!o&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:o,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),i.channel.publish("tedious",n),e.call(this,o,s,a)}))}var n=arguments[0];arguments[0].callback=e(n.callback),t.apply(this,arguments)},e}},t.enable=function(){i.channel.registerMonkeyPatch("tedious",t.tedious)}},4650:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4953);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return i(t,e),t.prototype.log=function(e,t){var n=e.message,r=e.level,i=e.meta,a=o(e,["message","level","meta"]);r="function"==typeof Symbol.for?e[Symbol.for("level")]:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,r);for(var u in i=i||{},a)a.hasOwnProperty(u)&&(i[u]=a[u]);s.channel.publish("winston",{message:n,level:r,levelKind:c,meta:i}),t()},t}(e.Transport);function n(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);this.add(new t(e,{level:n}))}var r=e.createLogger;e.createLogger=function(){var i,o=arguments[0].levels||e.config.npm.levels;for(var s in o)o.hasOwnProperty(s)&&(i=void 0===i||o[s]>o[i]?s:i);var a=r.apply(this,arguments);a.add(new t(e,{level:i}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),n.apply(this,arguments)},a};var a=e.createLogger;return e.configure=function(){a.apply(this,arguments),n.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,i){var o;return o=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",s.channel.publish("winston",{level:n,message:r,meta:i,levelKind:o}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter((function(e){return e!==r})),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},t.enable=function(){s.channel.registerMonkeyPatch("winston",t.winston2),s.channel.registerMonkeyPatch("winston",t.winston3)}},4694:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4694,e.exports=t},420:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=420,e.exports=t},4953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7424),i=n(7424);t.makePatchingRequire=i.makePatchingRequire;var o=function(e){return!0},s=function(){function e(){this.version=n(5236).i8,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=o),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=o);var r=this.subscribers[e];if(r)for(var i=0;i<r.length;++i)if(r[i].listener===t&&r[i].filter===n)return r.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new s,n(2282).prototype.require=r.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),t.channel=global.diagnosticsSource},7424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5622),i=n(6625),o=n(2282),s=Object.keys(process.binding("natives")),a=o.prototype.require;t.makePatchingRequire=function(e){var t={};return function(n){var c=a.apply(this,arguments);if(e[n]){var u=o._resolveFilename(n,this);if(t.hasOwnProperty(u))return t[u];var l=void 0;if(s.indexOf(n)<0)try{l=a.call(this,r.join(n,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var p=l.indexOf("-");p>=0&&(l=l.substring(0,p));for(var f=c,d=0,h=e[n];d<h.length;d++){var v=h[d];i.satisfies(l,v.versionSpecifier)&&(f=v.patch(f,u))}return t[u]=f}return c}}},5236:e=>{"use strict";e.exports={i8:"0.2.0"}},9867:(e,t,n)=>{"use strict";var r=n(6372),i=r.wrap,o=r.unwrap,s="wrap@before";function a(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function c(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function u(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}e.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function r(e){return function(t,n){var o=c(this,t).slice();try{var a=e.call(this,t,n);return function(e,t,n){var r=c(e,t).filter((function(e){return-1===n.indexOf(e)}));r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[s];if("function"==typeof o)o(i);else if(Array.isArray(o))for(var a=o.length,c=0;c<a;c++)o[c](i)}}(e,r)}(this,t,o),a}finally{this.on.__wrapped||i(this,"on",r),this.addListener.__wrapped||i(this,"addListener",r)}}}e[s]?"function"==typeof e[s]?a(e,s,[e[s],t]):Array.isArray(e[s])&&e[s].push(t):a(e,s,t),e.__wrapped||(i(e,"addListener",r),i(e,"on",r),i(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var r=this._events[t];function s(e){return function(){this._events[t]=r;try{return e.apply(this,arguments)}finally{r=this._events[t],this._events[t]=u(r,n)}}}i(this,"removeListener",s);try{return this._events[t]=u(r,n),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=r}}})),a(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[s],delete e.__wrapped})),a(e,"__wrapped",!0))}},6486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,p=9007199254740991,f=NaN,d=4294967295,h=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],v="[object Arguments]",g="[object Array]",m="[object Boolean]",y="[object Date]",_="[object Error]",E="[object Function]",b="[object GeneratorFunction]",C="[object Map]",w="[object Number]",T="[object Object]",I="[object Promise]",A="[object RegExp]",x="[object Set]",S="[object String]",O="[object Symbol]",P="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",N="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",q="[object Uint8Array]",U="[object Uint8ClampedArray]",H="[object Uint16Array]",F="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,W=RegExp(J.source),z=RegExp(G.source),Q=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+|\s+$/g,ie=/^\s+/,oe=/\s+$/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="["+Te+"]",Ae="["+be+"]",xe="\\d+",Se="["+Ce+"]",Oe="[^\\ud800-\\udfff"+Te+xe+"\\u2700-\\u27bf"+Ce+we+"]",Pe="\\ud83c[\\udffb-\\udfff]",Re="[^\\ud800-\\udfff]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+we+"]",Le="(?:"+Se+"|"+Oe+")",Me="(?:"+De+"|"+Oe+")",je="(?:['](?:d|ll|m|re|s|t|ve))?",qe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+Ae+"|"+Pe+")?",He="[\\ufe0e\\ufe0f]?",Fe=He+Ue+"(?:\\u200d(?:"+[Re,ke,Ne].join("|")+")"+He+Ue+")*",Ve="(?:"+["[\\u2700-\\u27bf]",ke,Ne].join("|")+")"+Fe,$e="(?:"+[Re+Ae+"?",Ae,ke,Ne,"[\\ud800-\\udfff]"].join("|")+")",Be=RegExp("[']","g"),Je=RegExp(Ae,"g"),Ge=RegExp(Pe+"(?="+Pe+")|"+$e+Fe,"g"),We=RegExp([De+"?"+Se+"+"+je+"(?="+[Ie,De,"$"].join("|")+")",Me+"+"+qe+"(?="+[Ie,De+Le,"$"].join("|")+")",De+"?"+Le+"+"+je,De+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,Ve].join("|"),"g"),ze=RegExp("[\\u200d\\ud800-\\udfff"+be+"\\ufe0e\\ufe0f]"),Qe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ke=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ye=-1,Xe={};Xe[N]=Xe[D]=Xe[L]=Xe[M]=Xe[j]=Xe[q]=Xe[U]=Xe[H]=Xe[F]=!0,Xe[v]=Xe[g]=Xe[R]=Xe[m]=Xe[k]=Xe[y]=Xe[_]=Xe[E]=Xe[C]=Xe[w]=Xe[T]=Xe[A]=Xe[x]=Xe[S]=Xe[P]=!1;var Ze={};Ze[v]=Ze[g]=Ze[R]=Ze[k]=Ze[m]=Ze[y]=Ze[N]=Ze[D]=Ze[L]=Ze[M]=Ze[j]=Ze[C]=Ze[w]=Ze[T]=Ze[A]=Ze[x]=Ze[S]=Ze[O]=Ze[q]=Ze[U]=Ze[H]=Ze[F]=!0,Ze[_]=Ze[E]=Ze[P]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof global&&global&&global.Object===Object&&global,it="object"==typeof self&&self&&self.Object===Object&&self,ot=rt||it||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ct=at&&at.exports===st,ut=ct&&rt.process,lt=function(){try{return at&&at.require&&at.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),pt=lt&&lt.isArrayBuffer,ft=lt&&lt.isDate,dt=lt&&lt.isMap,ht=lt&&lt.isRegExp,vt=lt&&lt.isSet,gt=lt&&lt.isTypedArray;function mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function yt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function wt(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function At(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function xt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function St(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Pt=jt("length");function Rt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function kt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):kt(e,Lt,n)}function Dt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Lt(e){return e!=e}function Mt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:f}function jt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Ut(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ht(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Ft(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return function(t){return e(t)}}function $t(e,t){return It(t,(function(t){return e[t]}))}function Bt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function Gt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function Wt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var zt=qt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Qt=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Kt(e){return"\\"+et[e]}function Yt(e){return ze.test(e)}function Xt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Zt(e,t){return function(n){return e(t(n))}}function en(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function tn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function rn(e){return Yt(e)?function(e){for(var t=Ge.lastIndex=0;Ge.test(e);)++t;return t}(e):Pt(e)}function on(e){return Yt(e)?function(e){return e.match(Ge)||[]}(e):function(e){return e.split("")}(e)}var sn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),an=function e(t){var n,r=(t=null==t?ot:an.defaults(ot.Object(),t,an.pick(ot,Ke))).Array,be=t.Date,Ce=t.Error,we=t.Function,Te=t.Math,Ie=t.Object,Ae=t.RegExp,xe=t.String,Se=t.TypeError,Oe=r.prototype,Pe=we.prototype,Re=Ie.prototype,ke=t["__core-js_shared__"],Ne=Pe.toString,De=Re.hasOwnProperty,Le=0,Me=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",je=Re.toString,qe=Ne.call(Ie),Ue=ot._,He=Ae("^"+Ne.call(De).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=ct?t.Buffer:i,Ve=t.Symbol,$e=t.Uint8Array,Ge=Fe?Fe.allocUnsafe:i,ze=Zt(Ie.getPrototypeOf,Ie),et=Ie.create,rt=Re.propertyIsEnumerable,it=Oe.splice,st=Ve?Ve.isConcatSpreadable:i,at=Ve?Ve.iterator:i,ut=Ve?Ve.toStringTag:i,lt=function(){try{var e=co(Ie,"defineProperty");return e({},"",{}),e}catch(e){}}(),Pt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,qt=be&&be.now!==ot.Date.now&&be.now,cn=t.setTimeout!==ot.setTimeout&&t.setTimeout,un=Te.ceil,ln=Te.floor,pn=Ie.getOwnPropertySymbols,fn=Fe?Fe.isBuffer:i,dn=t.isFinite,hn=Oe.join,vn=Zt(Ie.keys,Ie),gn=Te.max,mn=Te.min,yn=be.now,_n=t.parseInt,En=Te.random,bn=Oe.reverse,Cn=co(t,"DataView"),wn=co(t,"Map"),Tn=co(t,"Promise"),In=co(t,"Set"),An=co(t,"WeakMap"),xn=co(Ie,"create"),Sn=An&&new An,On={},Pn=qo(Cn),Rn=qo(wn),kn=qo(Tn),Nn=qo(In),Dn=qo(An),Ln=Ve?Ve.prototype:i,Mn=Ln?Ln.valueOf:i,jn=Ln?Ln.toString:i;function qn(e){if(ta(e)&&!Bs(e)&&!(e instanceof Vn)){if(e instanceof Fn)return e;if(De.call(e,"__wrapped__"))return Uo(e)}return new Fn(e)}var Un=function(){function e(){}return function(t){if(!ea(t))return{};if(et)return et(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Hn(){}function Fn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Jn;++t<n;)this.add(e[t])}function Wn(e){var t=this.__data__=new Bn(e);this.size=t.size}function zn(e,t){var n=Bs(e),r=!n&&$s(e),i=!n&&!r&&zs(e),o=!n&&!r&&!i&&ua(e),s=n||r||i||o,a=s?Ft(e.length,xe):[],c=a.length;for(var u in e)!t&&!De.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,c))||a.push(u);return a}function Qn(e){var t=e.length;return t?e[Jr(0,t-1)]:i}function Kn(e,t){return No(Ai(e),or(t,0,e.length))}function Yn(e){return No(Ai(e))}function Xn(e,t,n){(n!==i&&!Hs(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Zn(e,t,n){var r=e[t];De.call(e,t)&&Hs(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Hs(e[n][0],t))return n;return-1}function tr(e,t,n,r){return lr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&xi(t,Ra(t),e)}function rr(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Aa(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,c=1&t,u=2&t,l=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ea(e))return e;var p=Bs(e);if(p){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Ai(e,a)}else{var f=po(e),d=f==E||f==b;if(zs(e))return Ei(e,c);if(f==T||f==v||d&&!o){if(a=u||d?{}:ho(e),!c)return u?function(e,t){return xi(e,lo(e),t)}(e,function(e,t){return e&&xi(t,ka(t),e)}(a,e)):function(e,t){return xi(e,uo(e),t)}(e,nr(a,e))}else{if(!Ze[f])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case R:return bi(e);case m:case y:return new i(+e);case k:return function(e,t){var n=t?bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case D:case L:case M:case j:case q:case U:case H:case F:return Ci(e,n);case C:return new i;case w:case S:return new i(e);case A:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return new i;case O:return r=e,Mn?Ie(Mn.call(r)):{}}}(e,f,c)}}s||(s=new Wn);var h=s.get(e);if(h)return h;s.set(e,a),sa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):na(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var g=p?i:(l?u?to:eo:u?ka:Ra)(e);return _t(g||e,(function(r,i){g&&(r=e[i=r]),Zn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Se(o);return Oo((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,o=wt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=It(t,Vt(n))),r?(o=Tt,s=!1):t.length>=200&&(o=Bt,s=!1,t=new Gn(t));e:for(;++i<a;){var l=e[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,s&&p==p){for(var f=u;f--;)if(t[f]===p)continue e;c.push(l)}else o(t,p,r)||c.push(l)}return c}qn.templateSettings={escape:Q,evaluate:K,interpolate:Y,variable:"",imports:{_:qn}},qn.prototype=Hn.prototype,qn.prototype.constructor=qn,Fn.prototype=Un(Hn.prototype),Fn.prototype.constructor=Fn,Vn.prototype=Un(Hn.prototype),Vn.prototype.constructor=Vn,$n.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(xn){var n=t[e];return n===s?i:n}return De.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return xn?t[e]!==i:De.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xn&&t===i?s:t,this},Bn.prototype.clear=function(){this.__data__=[],this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():it.call(t,n,1),--this.size,0))},Bn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Bn.prototype.has=function(e){return er(this.__data__,e)>-1},Bn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(wn||Bn),string:new $n}},Jn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Jn.prototype.get=function(e){return so(this,e).get(e)},Jn.prototype.has=function(e){return so(this,e).has(e)},Jn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,s),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.clear=function(){this.__data__=new Bn,this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Wn.prototype.get=function(e){return this.__data__.get(e)},Wn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Bn){var r=n.__data__;if(!wn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(e,t),this.size=n.size,this};var lr=Pi(yr),pr=Pi(_r,!0);function fr(e,t){var n=!0;return lr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function dr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(c===i?a==a&&!ca(a):n(a,c)))var c=a,u=s}return u}function hr(e,t){var n=[];return lr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=vo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?vr(a,t-1,n,r,i):At(i,a):r||(i[i.length]=a)}return i}var gr=Ri(),mr=Ri(!0);function yr(e,t){return e&&gr(e,t,Ra)}function _r(e,t){return e&&mr(e,t,Ra)}function Er(e,t){return Ct(t,(function(t){return Ys(e[t])}))}function br(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[jo(t[n++])];return n&&n==r?e:i}function Cr(e,t,n){var r=t(e);return Bs(e)?r:At(r,n(e))}function wr(e){return null==e?e===i?"[object Undefined]":"[object Null]":ut&&ut in Ie(e)?function(e){var t=De.call(e,ut),n=e[ut];try{e[ut]=i;var r=!0}catch(e){}var o=je.call(e);return r&&(t?e[ut]=n:delete e[ut]),o}(e):function(e){return je.call(e)}(e)}function Tr(e,t){return e>t}function Ir(e,t){return null!=e&&De.call(e,t)}function Ar(e,t){return null!=e&&t in Ie(e)}function xr(e,t,n){for(var o=n?Tt:wt,s=e[0].length,a=e.length,c=a,u=r(a),l=1/0,p=[];c--;){var f=e[c];c&&t&&(f=It(f,Vt(t))),l=mn(f.length,l),u[c]=!n&&(t||s>=120&&f.length>=120)?new Gn(c&&f):i}f=e[0];var d=-1,h=u[0];e:for(;++d<s&&p.length<l;){var v=f[d],g=t?t(v):v;if(v=n||0!==v?v:0,!(h?Bt(h,g):o(p,g,n))){for(c=a;--c;){var m=u[c];if(!(m?Bt(m,g):o(e[c],g,n)))continue e}h&&h.push(g),p.push(v)}}return p}function Sr(e,t,n){var r=null==(e=Io(e,t=gi(t,e)))?e:e[jo(Ko(t))];return null==r?i:mt(r,e,n)}function Or(e){return ta(e)&&wr(e)==v}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Bs(e),c=Bs(t),u=a?g:po(e),l=c?g:po(t),p=(u=u==v?T:u)==T,f=(l=l==v?T:l)==T,d=u==l;if(d&&zs(e)){if(!zs(t))return!1;a=!0,p=!1}if(d&&!p)return s||(s=new Wn),a||ua(e)?Xi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new $e(e),new $e(t)));case m:case y:case w:return Hs(+e,+t);case _:return e.name==t.name&&e.message==t.message;case A:case S:return e==t+"";case C:var a=Xt;case x:var c=1&r;if(a||(a=tn),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var l=Xi(a(e),a(t),r,i,o,s);return s.delete(e),l;case O:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,u,n,r,o,s);if(!(1&n)){var h=p&&De.call(e,"__wrapped__"),E=f&&De.call(t,"__wrapped__");if(h||E){var b=h?e.value():e,I=E?t.value():t;return s||(s=new Wn),o(b,I,n,r,s)}}return!!d&&(s||(s=new Wn),function(e,t,n,r,o,s){var a=1&n,c=eo(e),u=c.length;if(u!=eo(t).length&&!a)return!1;for(var l=u;l--;){var p=c[l];if(!(a?p in t:De.call(t,p)))return!1}var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var h=!0;s.set(e,t),s.set(t,e);for(var v=a;++l<u;){var g=e[p=c[l]],m=t[p];if(r)var y=a?r(m,g,p,t,e,s):r(g,m,p,e,t,s);if(!(y===i?g===m||o(g,m,n,r,s):y)){h=!1;break}v||(v="constructor"==p)}if(h&&!v){var _=e.constructor,E=t.constructor;_==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,n,r,o,s))}(e,t,n,r,Pr,o))}function Rr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Ie(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],l=e[u],p=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var f=new Wn;if(r)var d=r(l,p,u,e,t,f);if(!(d===i?Pr(p,l,3,r,f):d))return!1}}return!0}function kr(e){return!(!ea(e)||(t=e,Me&&Me in t))&&(Ys(e)?He:ve).test(qo(e));var t}function Nr(e){return"function"==typeof e?e:null==e?rc:"object"==typeof e?Bs(e)?qr(e[0],e[1]):jr(e):fc(e)}function Dr(e){if(!bo(e))return vn(e);var t=[];for(var n in Ie(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e,t){return e<t}function Mr(e,t){var n=-1,i=Gs(e)?r(e.length):[];return lr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function jr(e){var t=ao(e);return 1==t.length&&t[0][2]?wo(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function qr(e,t){return yo(e)&&Co(t)?wo(jo(e),t):function(n){var r=Aa(n,e);return r===i&&r===t?xa(n,e):Pr(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&gr(t,(function(s,a){if(o||(o=new Wn),ea(s))!function(e,t,n,r,o,s,a){var c=xo(e,n),u=xo(t,n),l=a.get(u);if(l)Xn(e,n,l);else{var p=s?s(c,u,n+"",e,t,a):i,f=p===i;if(f){var d=Bs(u),h=!d&&zs(u),v=!d&&!h&&ua(u);p=u,d||h||v?Bs(c)?p=c:Ws(c)?p=Ai(c):h?(f=!1,p=Ei(u,!0)):v?(f=!1,p=Ci(u,!0)):p=[]:ia(u)||$s(u)?(p=c,$s(c)?p=ma(c):ea(c)&&!Ys(c)||(p=ho(u))):f=!1}f&&(a.set(u,p),o(p,u,r,s,a),a.delete(u)),Xn(e,n,p)}}(e,t,a,n,Ur,r,o);else{var c=r?r(xo(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Xn(e,a,c)}}),ka)}function Hr(e,t){var n=e.length;if(n)return go(t+=t<0?n:0,n)?e[t]:i}function Fr(e,t,n){t=t.length?It(t,(function(e){return Bs(e)?function(t){return br(t,1===e.length?e[0]:e)}:e})):[rc];var r=-1;return t=It(t,Vt(oo())),function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var c=wi(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(Mr(e,(function(e,n,i){return{criteria:It(t,(function(t){return t(e)})),index:++r,value:e}})))}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=br(e,s);n(a,s)&&Kr(o,gi(s,e),a)}return o}function $r(e,t,n,r){var i=r?Dt:Nt,o=-1,s=t.length,a=e;for(e===t&&(t=Ai(t)),n&&(a=It(e,Vt(n)));++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==e&&it.call(a,c,1),it.call(e,c,1);return e}function Br(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;go(i)?it.call(e,i,1):ci(e,i)}}return e}function Jr(e,t){return e+ln(En()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=ln(t/2))&&(e+=e)}while(t);return n}function Wr(e,t){return Po(To(e,t,rc),e+"")}function zr(e){return Qn(Ha(e))}function Qr(e,t){var n=Ha(e);return No(n,or(t,0,n.length))}function Kr(e,t,n,r){if(!ea(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=jo(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var p=c[u];(l=r?r(p,u,c):i)===i&&(l=ea(p)?p:go(t[o+1])?[]:{})}Zn(c,u,l),c=c[u]}return e}var Yr=Sn?function(e,t){return Sn.set(e,t),e}:rc,Xr=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:ec(t),writable:!0})}:rc;function Zr(e){return No(Ha(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return lr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,rc,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,u=ca(t),l=t===i;o<s;){var p=ln((o+s)/2),f=n(e[p]),d=f!==i,h=null===f,v=f==f,g=ca(f);if(a)var m=r||v;else m=l?v&&(r||d):c?v&&d&&(r||!h):u?v&&d&&!h&&(r||!g):!h&&!g&&(r?f<=t:f<t);m?o=p+1:s=p}return mn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Hs(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:ca(e)?f:+e}function si(e){if("string"==typeof e)return e;if(Bs(e))return It(e,si)+"";if(ca(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=wt,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Tt;else if(o>=200){var u=t?null:Gi(e);if(u)return tn(u);s=!1,i=Bt,c=new Gn}else c=t?[]:a;e:for(;++r<o;){var l=e[r],p=t?t(l):l;if(l=n||0!==l?l:0,s&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue e;t&&c.push(p),a.push(l)}else i(c,p,n)||(c!==a&&c.push(p),a.push(l))}return a}function ci(e,t){return null==(e=Io(e,t=gi(t,e)))||delete e[jo(Ko(t))]}function ui(e,t,n,r){return Kr(e,t,n(br(e,t)),r)}function li(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),xt(t,(function(e,t){return t.func.apply(t.thisArg,At([e],t.args))}),n)}function fi(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=ur(s[o]||a,e[c],t,n));return ai(vr(s,1),t,n)}function di(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var c=r<s?t[r]:i;n(a,e[r],c)}return a}function hi(e){return Ws(e)?e:[]}function vi(e){return"function"==typeof e?e:rc}function gi(e,t){return Bs(e)?e:yo(e,t)?[e]:Mo(ya(e))}var mi=Wr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var _i=Pt||function(e){return ot.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function bi(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function Ci(e,t){var n=t?bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=ca(e),a=t!==i,c=null===t,u=t==t,l=ca(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,s=e.length,a=n.length,c=-1,u=t.length,l=gn(s-a,0),p=r(u+l),f=!i;++c<u;)p[c]=t[c];for(;++o<a;)(f||o<s)&&(p[n[o]]=e[o]);for(;l--;)p[c++]=e[o++];return p}function Ii(e,t,n,i){for(var o=-1,s=e.length,a=-1,c=n.length,u=-1,l=t.length,p=gn(s-c,0),f=r(p+l),d=!i;++o<p;)f[o]=e[o];for(var h=o;++u<l;)f[h+u]=t[u];for(;++a<c;)(d||o<s)&&(f[h+n[a]]=e[o++]);return f}function Ai(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function xi(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=r?r(n[c],e[c],c,n,e):i;u===i&&(u=e[c]),o?rr(n,c,u):Zn(n,c,u)}return n}function Si(e,t){return function(n,r){var i=Bs(n)?yt:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Oi(e){return Wr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&mo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Ie(t);++r<o;){var c=n[r];c&&e(t,c,r,s)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!Gs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Ie(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=Ie(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function ki(e){return function(t){var n=Yt(t=ya(t))?on(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ni(e){return function(t){return xt(Ya($a(t).replace(Be,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Li(e){return function(t,n,r){var o=Ie(t);if(!Gs(t)){var s=oo(n,3);t=Ra(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Mi(e){return Zi((function(t){var n=t.length,r=n,s=Fn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Se(o);if(s&&!c&&"wrapper"==ro(a))var c=new Fn([],!0)}for(r=c?r:n;++r<n;){var u=ro(a=t[r]),l="wrapper"==u?no(a):i;c=l&&_o(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ro(l[0])].apply(c,l[3]):1==a.length&&_o(a)?c[u]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Bs(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ji(e,t,n,o,s,a,c,l,p,f){var d=t&u,h=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Di(e);return function i(){for(var u=arguments.length,_=r(u),E=u;E--;)_[E]=arguments[E];if(g)var b=io(i),C=Wt(_,b);if(o&&(_=Ti(_,o,s,g)),a&&(_=Ii(_,a,c,g)),u-=C,g&&u<f){var w=en(_,b);return Bi(e,t,ji,i.placeholder,n,_,w,l,p,f-u)}var T=h?n:this,I=v?T[e]:e;return u=_.length,l?_=Ao(_,l):m&&u>1&&_.reverse(),d&&p<u&&(_.length=p),this&&this!==ot&&this instanceof i&&(I=y||Di(I)),I.apply(T,_)}}function qi(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function Hi(e){return Zi((function(t){return t=It(t,Vt(oo())),Wr((function(n){var r=this;return e(t,(function(e){return mt(e,r,n)}))}))}))}function Fi(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,un(e/rn(t)));return Yt(t)?yi(on(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&mo(t,n,o)&&(n=o=i),t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n,i){for(var o=-1,s=gn(un((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:da(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Bi(e,t,n,r,o,s,a,u,l,p){var f=8&t;t|=f?c:64,4&(t&=~(f?64:c))||(t&=-4);var d=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,u,l,p],h=n.apply(i,d);return _o(e)&&So(h,d),h.placeholder=r,Ro(h,e,t)}function Ji(e){var t=Te[e];return function(e,n){if(e=ga(e),(n=null==n?0:mn(ha(n),292))&&dn(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Gi=In&&1/tn(new In([,-0]))[1]==l?function(e){return new In(e)}:cc;function Wi(e){return function(t){var n=po(t);return n==C?Xt(t):n==x?nn(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function zi(e,t,n,s,l,p,f,d){var h=2&t;if(!h&&"function"!=typeof e)throw new Se(o);var v=s?s.length:0;if(v||(t&=-97,s=l=i),f=f===i?f:gn(ha(f),0),d=d===i?d:ha(d),v-=l?l.length:0,64&t){var g=s,m=l;s=l=i}var y=h?i:no(e),_=[e,t,n,s,l,g,m,p,f,d];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ti(l,c,t[4]):c,e[4]=l?en(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Ii(l,c,t[6]):c,e[6]=l?en(e[5],a):t[6]),(c=t[7])&&(e[7]=c),r&u&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(_,y),e=_[0],t=_[1],n=_[2],s=_[3],l=_[4],!(d=_[9]=_[9]===i?h?0:e.length:gn(_[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||16==t?function(e,t,n){var o=Di(e);return function s(){for(var a=arguments.length,c=r(a),u=a,l=io(s);u--;)c[u]=arguments[u];var p=a<3&&c[0]!==l&&c[a-1]!==l?[]:en(c,l);return(a-=p.length)<n?Bi(e,t,ji,s.placeholder,i,c,p,i,i,n-a):mt(this&&this!==ot&&this instanceof s?o:e,this,c)}}(e,t,d):t!=c&&33!=t||l.length?ji.apply(i,_):function(e,t,n,i){var o=1&t,s=Di(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,p=r(l+c),f=this&&this!==ot&&this instanceof t?s:e;++u<l;)p[u]=i[u];for(;c--;)p[u++]=arguments[++a];return mt(f,o?n:this,p)}}(e,t,n,s);else var E=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ro((y?Yr:So)(E,_),e,t)}function Qi(e,t,n,r){return e===i||Hs(e,Re[n])&&!De.call(r,n)?t:e}function Ki(e,t,n,r,o,s){return ea(e)&&ea(t)&&(s.set(t,e),Ur(e,t,i,Ki,s),s.delete(t)),e}function Yi(e){return ia(e)?i:e}function Xi(e,t,n,r,o,s){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),p=s.get(t);if(l&&p)return l==t&&p==e;var f=-1,d=!0,h=2&n?new Gn:i;for(s.set(e,t),s.set(t,e);++f<c;){var v=e[f],g=t[f];if(r)var m=a?r(g,v,f,t,e,s):r(v,g,f,e,t,s);if(m!==i){if(m)continue;d=!1;break}if(h){if(!Ot(t,(function(e,t){if(!Bt(h,t)&&(v===e||o(v,e,n,r,s)))return h.push(t)}))){d=!1;break}}else if(v!==g&&!o(v,g,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Zi(e){return Po(To(e,i,Jo),e+"")}function eo(e){return Cr(e,Ra,uo)}function to(e){return Cr(e,ka,lo)}var no=Sn?function(e){return Sn.get(e)}:cc;function ro(e){for(var t=e.name+"",n=On[t],r=De.call(On,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(De.call(qn,"placeholder")?qn:e).placeholder}function oo(){var e=qn.iteratee||ic;return e=e===ic?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Ra(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Co(i)]}return t}function co(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return kr(n)?n:i}var uo=pn?function(e){return null==e?[]:(e=Ie(e),Ct(pn(e),(function(t){return rt.call(e,t)})))}:vc,lo=pn?function(e){for(var t=[];e;)At(t,uo(e)),e=ze(e);return t}:vc,po=wr;function fo(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,o=!1;++r<i;){var s=jo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Zs(i)&&go(s,i)&&(Bs(e)||$s(e))}function ho(e){return"function"!=typeof e.constructor||bo(e)?{}:Un(ze(e))}function vo(e){return Bs(e)||$s(e)||!!(st&&e&&e[st])}function go(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Gs(n)&&go(t,n.length):"string"==r&&t in n)&&Hs(n[t],e)}function yo(e,t){if(Bs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||Z.test(e)||!X.test(e)||null!=t&&e in Ie(t)}function _o(e){var t=ro(e),n=qn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(Cn&&po(new Cn(new ArrayBuffer(1)))!=k||wn&&po(new wn)!=C||Tn&&po(Tn.resolve())!=I||In&&po(new In)!=x||An&&po(new An)!=P)&&(po=function(e){var t=wr(e),n=t==T?e.constructor:i,r=n?qo(n):"";if(r)switch(r){case Pn:return k;case Rn:return C;case kn:return I;case Nn:return x;case Dn:return P}return t});var Eo=ke?Ys:gc;function bo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Co(e){return e==e&&!ea(e)}function wo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ie(n))}}function To(e,t,n){return t=gn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(a),mt(e,this,c)}}function Io(e,t){return t.length<2?e:br(e,ei(t,0,-1))}function Ao(e,t){for(var n=e.length,r=mn(t.length,n),o=Ai(e);r--;){var s=t[r];e[r]=go(s,n)?o[s]:i}return e}function xo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var So=ko(Yr),Oo=cn||function(e,t){return ot.setTimeout(e,t)},Po=ko(Xr);function Ro(e,t,n){var r=t+"";return Po(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return _t(h,(function(n){var r="_."+n[0];t&n[1]&&!wt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ce):[]}(r),n)))}function ko(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function No(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Jr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Do,Lo,Mo=(Do=Ds((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===Lo.size&&Lo.clear(),e})),Lo=Do.cache,Do);function jo(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function qo(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Vn)return e.clone();var t=new Fn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ho=Wr((function(e,t){return Ws(e)?ur(e,vr(t,1,Ws,!0)):[]})),Fo=Wr((function(e,t){var n=Ko(t);return Ws(n)&&(n=i),Ws(e)?ur(e,vr(t,1,Ws,!0),oo(n,2)):[]})),Vo=Wr((function(e,t){var n=Ko(t);return Ws(n)&&(n=i),Ws(e)?ur(e,vr(t,1,Ws,!0),i,n):[]}));function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ha(n);return i<0&&(i=gn(r+i,0)),kt(e,oo(t,3),i)}function Bo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ha(n),o=n<0?gn(r+o,0):mn(o,r-1)),kt(e,oo(t,3),o,!0)}function Jo(e){return null!=e&&e.length?vr(e,1):[]}function Go(e){return e&&e.length?e[0]:i}var Wo=Wr((function(e){var t=It(e,hi);return t.length&&t[0]===e[0]?xr(t):[]})),zo=Wr((function(e){var t=Ko(e),n=It(e,hi);return t===Ko(n)?t=i:n.pop(),n.length&&n[0]===e[0]?xr(n,oo(t,2)):[]})),Qo=Wr((function(e){var t=Ko(e),n=It(e,hi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?xr(n,i,t):[]}));function Ko(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Yo=Wr(Xo);function Xo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var Zo=Zi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Br(e,It(t,(function(e){return go(e,n)?+e:e})).sort(wi)),r}));function es(e){return null==e?e:bn.call(e)}var ts=Wr((function(e){return ai(vr(e,1,Ws,!0))})),ns=Wr((function(e){var t=Ko(e);return Ws(t)&&(t=i),ai(vr(e,1,Ws,!0),oo(t,2))})),rs=Wr((function(e){var t=Ko(e);return t="function"==typeof t?t:i,ai(vr(e,1,Ws,!0),i,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(Ws(e))return t=gn(e.length,t),!0})),Ft(t,(function(t){return It(e,jt(t))}))}function os(e,t){if(!e||!e.length)return[];var n=is(e);return null==t?n:It(n,(function(e){return mt(t,i,e)}))}var ss=Wr((function(e,t){return Ws(e)?ur(e,t):[]})),as=Wr((function(e){return fi(Ct(e,Ws))})),cs=Wr((function(e){var t=Ko(e);return Ws(t)&&(t=i),fi(Ct(e,Ws),oo(t,2))})),us=Wr((function(e){var t=Ko(e);return t="function"==typeof t?t:i,fi(Ct(e,Ws),i,t)})),ls=Wr(is),ps=Wr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,os(e,n)}));function fs(e){var t=qn(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var hs=Zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Fn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),vs=Si((function(e,t,n){De.call(e,n)?++e[n]:rr(e,n,1)})),gs=Li($o),ms=Li(Bo);function ys(e,t){return(Bs(e)?_t:lr)(e,oo(t,3))}function _s(e,t){return(Bs(e)?Et:pr)(e,oo(t,3))}var Es=Si((function(e,t,n){De.call(e,n)?e[n].push(t):rr(e,n,[t])})),bs=Wr((function(e,t,n){var i=-1,o="function"==typeof t,s=Gs(e)?r(e.length):[];return lr(e,(function(e){s[++i]=o?mt(t,e,n):Sr(e,t,n)})),s})),Cs=Si((function(e,t,n){rr(e,n,t)}));function ws(e,t){return(Bs(e)?It:Mr)(e,oo(t,3))}var Ts=Si((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Is=Wr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Fr(e,vr(t,1),[])})),As=qt||function(){return ot.Date.now()};function xs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,zi(e,u,i,i,i,i,t)}function Ss(e,t){var n;if("function"!=typeof t)throw new Se(o);return e=ha(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Os=Wr((function(e,t,n){var r=1;if(n.length){var i=en(n,io(Os));r|=c}return zi(e,r,t,n,i)})),Ps=Wr((function(e,t,n){var r=3;if(n.length){var i=en(n,io(Ps));r|=c}return zi(t,r,e,n,i)}));function Rs(e,t,n){var r,s,a,c,u,l,p=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new Se(o);function v(t){var n=r,o=s;return r=s=i,p=t,c=e.apply(o,n)}function g(e){return p=e,u=Oo(y,t),f?v(e):c}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-p>=a}function y(){var e=As();if(m(e))return _(e);u=Oo(y,function(e){var n=t-(e-l);return d?mn(n,a-(e-p)):n}(e))}function _(e){return u=i,h&&r?v(e):(r=s=i,c)}function E(){var e=As(),n=m(e);if(r=arguments,s=this,l=e,n){if(u===i)return g(l);if(d)return _i(u),u=Oo(y,t),v(l)}return u===i&&(u=Oo(y,t)),c}return t=ga(t)||0,ea(n)&&(f=!!n.leading,a=(d="maxWait"in n)?gn(ga(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),E.cancel=function(){u!==i&&_i(u),p=0,r=l=s=u=i},E.flush=function(){return u===i?c:_(As())},E}var ks=Wr((function(e,t){return cr(e,1,t)})),Ns=Wr((function(e,t,n){return cr(e,ga(t)||0,n)}));function Ds(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Se(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ds.Cache||Jn),n}function Ls(e){if("function"!=typeof e)throw new Se(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ds.Cache=Jn;var Ms=mi((function(e,t){var n=(t=1==t.length&&Bs(t[0])?It(t[0],Vt(oo())):It(vr(t,1),Vt(oo()))).length;return Wr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return mt(e,this,r)}))})),js=Wr((function(e,t){var n=en(t,io(js));return zi(e,c,i,t,n)})),qs=Wr((function(e,t){var n=en(t,io(qs));return zi(e,64,i,t,n)})),Us=Zi((function(e,t){return zi(e,256,i,i,i,t)}));function Hs(e,t){return e===t||e!=e&&t!=t}var Fs=$i(Tr),Vs=$i((function(e,t){return e>=t})),$s=Or(function(){return arguments}())?Or:function(e){return ta(e)&&De.call(e,"callee")&&!rt.call(e,"callee")},Bs=r.isArray,Js=pt?Vt(pt):function(e){return ta(e)&&wr(e)==R};function Gs(e){return null!=e&&Zs(e.length)&&!Ys(e)}function Ws(e){return ta(e)&&Gs(e)}var zs=fn||gc,Qs=ft?Vt(ft):function(e){return ta(e)&&wr(e)==y};function Ks(e){if(!ta(e))return!1;var t=wr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Ys(e){if(!ea(e))return!1;var t=wr(e);return t==E||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==ha(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=dt?Vt(dt):function(e){return ta(e)&&po(e)==C};function ra(e){return"number"==typeof e||ta(e)&&wr(e)==w}function ia(e){if(!ta(e)||wr(e)!=T)return!1;var t=ze(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==qe}var oa=ht?Vt(ht):function(e){return ta(e)&&wr(e)==A},sa=vt?Vt(vt):function(e){return ta(e)&&po(e)==x};function aa(e){return"string"==typeof e||!Bs(e)&&ta(e)&&wr(e)==S}function ca(e){return"symbol"==typeof e||ta(e)&&wr(e)==O}var ua=gt?Vt(gt):function(e){return ta(e)&&Zs(e.length)&&!!Xe[wr(e)]},la=$i(Lr),pa=$i((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(Gs(e))return aa(e)?on(e):Ai(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=po(e);return(t==C?Xt:t==x?tn:Ha)(e)}function da(e){return e?(e=ga(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ha(e){var t=da(e),n=t%1;return t==t?n?t-n:t:0}function va(e){return e?or(ha(e),0,d):0}function ga(e){if("number"==typeof e)return e;if(ca(e))return f;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(re,"");var n=he.test(e);return n||ge.test(e)?nt(e.slice(2),n?2:8):de.test(e)?f:+e}function ma(e){return xi(e,ka(e))}function ya(e){return null==e?"":si(e)}var _a=Oi((function(e,t){if(bo(t)||Gs(t))xi(t,Ra(t),e);else for(var n in t)De.call(t,n)&&Zn(e,n,t[n])})),Ea=Oi((function(e,t){xi(t,ka(t),e)})),ba=Oi((function(e,t,n,r){xi(t,ka(t),e,r)})),Ca=Oi((function(e,t,n,r){xi(t,Ra(t),e,r)})),wa=Zi(ir),Ta=Wr((function(e,t){e=Ie(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&mo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=ka(s),c=-1,u=a.length;++c<u;){var l=a[c],p=e[l];(p===i||Hs(p,Re[l])&&!De.call(e,l))&&(e[l]=s[l])}return e})),Ia=Wr((function(e){return e.push(i,Ki),mt(Da,i,e)}));function Aa(e,t,n){var r=null==e?i:br(e,t);return r===i?n:r}function xa(e,t){return null!=e&&fo(e,t,Ar)}var Sa=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),ec(rc)),Oa=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Pa=Wr(Sr);function Ra(e){return Gs(e)?zn(e):Dr(e)}function ka(e){return Gs(e)?zn(e,!0):function(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=bo(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}(e)}var Na=Oi((function(e,t,n){Ur(e,t,n)})),Da=Oi((function(e,t,n,r){Ur(e,t,n,r)})),La=Zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=It(t,(function(t){return t=gi(t,e),r||(r=t.length>1),t})),xi(e,to(e),n),r&&(n=sr(n,7,Yi));for(var i=t.length;i--;)ci(n,t[i]);return n})),Ma=Zi((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return xa(e,n)}))}(e,t)}));function ja(e,t){if(null==e)return{};var n=It(to(e),(function(e){return[e]}));return t=oo(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var qa=Wi(Ra),Ua=Wi(ka);function Ha(e){return null==e?[]:$t(e,Ra(e))}var Fa=Ni((function(e,t,n){return t=t.toLowerCase(),e+(n?Va(t):t)}));function Va(e){return Ka(ya(e).toLowerCase())}function $a(e){return(e=ya(e))&&e.replace(ye,zt).replace(Je,"")}var Ba=Ni((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ja=Ni((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ga=ki("toLowerCase"),Wa=Ni((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),za=Ni((function(e,t,n){return e+(n?" ":"")+Ka(t)})),Qa=Ni((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ka=ki("toUpperCase");function Ya(e,t,n){return e=ya(e),(t=n?i:t)===i?function(e){return Qe.test(e)}(e)?function(e){return e.match(We)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Xa=Wr((function(e,t){try{return mt(e,i,t)}catch(e){return Ks(e)?e:new Ce(e)}})),Za=Zi((function(e,t){return _t(t,(function(t){t=jo(t),rr(e,t,Os(e[t],e))})),e}));function ec(e){return function(){return e}}var tc=Mi(),nc=Mi(!0);function rc(e){return e}function ic(e){return Nr("function"==typeof e?e:sr(e,1))}var oc=Wr((function(e,t){return function(n){return Sr(n,e,t)}})),sc=Wr((function(e,t){return function(n){return Sr(e,n,t)}}));function ac(e,t,n){var r=Ra(t),i=Er(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Ra(t)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Ys(e);return _t(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,At([this.value()],arguments))})})),e}function cc(){}var uc=Hi(It),lc=Hi(bt),pc=Hi(Ot);function fc(e){return yo(e)?jt(jo(e)):function(e){return function(t){return br(t,e)}}(e)}var dc=Vi(),hc=Vi(!0);function vc(){return[]}function gc(){return!1}var mc,yc=Ui((function(e,t){return e+t}),0),_c=Ji("ceil"),Ec=Ui((function(e,t){return e/t}),1),bc=Ji("floor"),Cc=Ui((function(e,t){return e*t}),1),wc=Ji("round"),Tc=Ui((function(e,t){return e-t}),0);return qn.after=function(e,t){if("function"!=typeof t)throw new Se(o);return e=ha(e),function(){if(--e<1)return t.apply(this,arguments)}},qn.ary=xs,qn.assign=_a,qn.assignIn=Ea,qn.assignInWith=ba,qn.assignWith=Ca,qn.at=wa,qn.before=Ss,qn.bind=Os,qn.bindAll=Za,qn.bindKey=Ps,qn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Bs(e)?e:[e]},qn.chain=fs,qn.chunk=function(e,t,n){t=(n?mo(e,t,n):t===i)?1:gn(ha(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=r(un(o/t));s<o;)c[a++]=ei(e,s,s+=t);return c},qn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},qn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return At(Bs(n)?Ai(n):[n],vr(t,1))},qn.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new Se(o);return[n(e[0]),e[1]]})):[],Wr((function(n){for(var r=-1;++r<t;){var i=e[r];if(mt(i[0],this,n))return mt(i[1],this,n)}}))},qn.conforms=function(e){return function(e){var t=Ra(e);return function(n){return ar(n,e,t)}}(sr(e,1))},qn.constant=ec,qn.countBy=vs,qn.create=function(e,t){var n=Un(e);return null==t?n:nr(n,t)},qn.curry=function e(t,n,r){var o=zi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},qn.curryRight=function e(t,n,r){var o=zi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},qn.debounce=Rs,qn.defaults=Ta,qn.defaultsDeep=Ia,qn.defer=ks,qn.delay=Ns,qn.difference=Ho,qn.differenceBy=Fo,qn.differenceWith=Vo,qn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:ha(t))<0?0:t,r):[]},qn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:ha(t)))<0?0:t):[]},qn.dropRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0,!0):[]},qn.dropWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0):[]},qn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ha(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ha(r))<0&&(r+=o),r=n>r?0:va(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},qn.filter=function(e,t){return(Bs(e)?Ct:hr)(e,oo(t,3))},qn.flatMap=function(e,t){return vr(ws(e,t),1)},qn.flatMapDeep=function(e,t){return vr(ws(e,t),l)},qn.flatMapDepth=function(e,t,n){return n=n===i?1:ha(n),vr(ws(e,t),n)},qn.flatten=Jo,qn.flattenDeep=function(e){return null!=e&&e.length?vr(e,l):[]},qn.flattenDepth=function(e,t){return null!=e&&e.length?vr(e,t=t===i?1:ha(t)):[]},qn.flip=function(e){return zi(e,512)},qn.flow=tc,qn.flowRight=nc,qn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},qn.functions=function(e){return null==e?[]:Er(e,Ra(e))},qn.functionsIn=function(e){return null==e?[]:Er(e,ka(e))},qn.groupBy=Es,qn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},qn.intersection=Wo,qn.intersectionBy=zo,qn.intersectionWith=Qo,qn.invert=Sa,qn.invertBy=Oa,qn.invokeMap=bs,qn.iteratee=ic,qn.keyBy=Cs,qn.keys=Ra,qn.keysIn=ka,qn.map=ws,qn.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},qn.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},qn.matches=function(e){return jr(sr(e,1))},qn.matchesProperty=function(e,t){return qr(e,sr(t,1))},qn.memoize=Ds,qn.merge=Na,qn.mergeWith=Da,qn.method=oc,qn.methodOf=sc,qn.mixin=ac,qn.negate=Ls,qn.nthArg=function(e){return e=ha(e),Wr((function(t){return Hr(t,e)}))},qn.omit=La,qn.omitBy=function(e,t){return ja(e,Ls(oo(t)))},qn.once=function(e){return Ss(2,e)},qn.orderBy=function(e,t,n,r){return null==e?[]:(Bs(t)||(t=null==t?[]:[t]),Bs(n=r?i:n)||(n=null==n?[]:[n]),Fr(e,t,n))},qn.over=uc,qn.overArgs=Ms,qn.overEvery=lc,qn.overSome=pc,qn.partial=js,qn.partialRight=qs,qn.partition=Ts,qn.pick=Ma,qn.pickBy=ja,qn.property=fc,qn.propertyOf=function(e){return function(t){return null==e?i:br(e,t)}},qn.pull=Yo,qn.pullAll=Xo,qn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,oo(n,2)):e},qn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},qn.pullAt=Zo,qn.range=dc,qn.rangeRight=hc,qn.rearg=Us,qn.reject=function(e,t){return(Bs(e)?Ct:hr)(e,Ls(oo(t,3)))},qn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Br(e,i),n},qn.rest=function(e,t){if("function"!=typeof e)throw new Se(o);return Wr(e,t=t===i?t:ha(t))},qn.reverse=es,qn.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:ha(t),(Bs(e)?Kn:Qr)(e,t)},qn.set=function(e,t,n){return null==e?e:Kr(e,t,n)},qn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Kr(e,t,n,r)},qn.shuffle=function(e){return(Bs(e)?Yn:Zr)(e)},qn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=r):(t=null==t?0:ha(t),n=n===i?r:ha(n)),ei(e,t,n)):[]},qn.sortBy=Is,qn.sortedUniq=function(e){return e&&e.length?ii(e):[]},qn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},qn.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=i),(n=n===i?d:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=si(t))&&Yt(e)?yi(on(e),0,n):e.split(t,n):[]},qn.spread=function(e,t){if("function"!=typeof e)throw new Se(o);return t=null==t?0:gn(ha(t),0),Wr((function(n){var r=n[t],i=yi(n,0,t);return r&&At(i,r),mt(e,this,i)}))},qn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},qn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:ha(t))<0?0:t):[]},qn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:ha(t)))<0?0:t,r):[]},qn.takeRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!1,!0):[]},qn.takeWhile=function(e,t){return e&&e.length?li(e,oo(t,3)):[]},qn.tap=function(e,t){return t(e),e},qn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Se(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rs(e,t,{leading:r,maxWait:t,trailing:i})},qn.thru=ds,qn.toArray=fa,qn.toPairs=qa,qn.toPairsIn=Ua,qn.toPath=function(e){return Bs(e)?It(e,jo):ca(e)?[e]:Ai(Mo(ya(e)))},qn.toPlainObject=ma,qn.transform=function(e,t,n){var r=Bs(e),i=r||zs(e)||ua(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ea(e)&&Ys(o)?Un(ze(e)):{}}return(i?_t:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},qn.unary=function(e){return xs(e,1)},qn.union=ts,qn.unionBy=ns,qn.unionWith=rs,qn.uniq=function(e){return e&&e.length?ai(e):[]},qn.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},qn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},qn.unset=function(e,t){return null==e||ci(e,t)},qn.unzip=is,qn.unzipWith=os,qn.update=function(e,t,n){return null==e?e:ui(e,t,vi(n))},qn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,vi(n),r)},qn.values=Ha,qn.valuesIn=function(e){return null==e?[]:$t(e,ka(e))},qn.without=ss,qn.words=Ya,qn.wrap=function(e,t){return js(vi(t),e)},qn.xor=as,qn.xorBy=cs,qn.xorWith=us,qn.zip=ls,qn.zipObject=function(e,t){return di(e||[],t||[],Zn)},qn.zipObjectDeep=function(e,t){return di(e||[],t||[],Kr)},qn.zipWith=ps,qn.entries=qa,qn.entriesIn=Ua,qn.extend=Ea,qn.extendWith=ba,ac(qn,qn),qn.add=yc,qn.attempt=Xa,qn.camelCase=Fa,qn.capitalize=Va,qn.ceil=_c,qn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ga(n))==n?n:0),t!==i&&(t=(t=ga(t))==t?t:0),or(ga(e),t,n)},qn.clone=function(e){return sr(e,4)},qn.cloneDeep=function(e){return sr(e,5)},qn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},qn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},qn.conformsTo=function(e,t){return null==t||ar(e,t,Ra(t))},qn.deburr=$a,qn.defaultTo=function(e,t){return null==e||e!=e?t:e},qn.divide=Ec,qn.endsWith=function(e,t,n){e=ya(e),t=si(t);var r=e.length,o=n=n===i?r:or(ha(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},qn.eq=Hs,qn.escape=function(e){return(e=ya(e))&&z.test(e)?e.replace(G,Qt):e},qn.escapeRegExp=function(e){return(e=ya(e))&&ne.test(e)?e.replace(te,"\\$&"):e},qn.every=function(e,t,n){var r=Bs(e)?bt:fr;return n&&mo(e,t,n)&&(t=i),r(e,oo(t,3))},qn.find=gs,qn.findIndex=$o,qn.findKey=function(e,t){return Rt(e,oo(t,3),yr)},qn.findLast=ms,qn.findLastIndex=Bo,qn.findLastKey=function(e,t){return Rt(e,oo(t,3),_r)},qn.floor=bc,qn.forEach=ys,qn.forEachRight=_s,qn.forIn=function(e,t){return null==e?e:gr(e,oo(t,3),ka)},qn.forInRight=function(e,t){return null==e?e:mr(e,oo(t,3),ka)},qn.forOwn=function(e,t){return e&&yr(e,oo(t,3))},qn.forOwnRight=function(e,t){return e&&_r(e,oo(t,3))},qn.get=Aa,qn.gt=Fs,qn.gte=Vs,qn.has=function(e,t){return null!=e&&fo(e,t,Ir)},qn.hasIn=xa,qn.head=Go,qn.identity=rc,qn.includes=function(e,t,n,r){e=Gs(e)?e:Ha(e),n=n&&!r?ha(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},qn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ha(n);return i<0&&(i=gn(r+i,0)),Nt(e,t,i)},qn.inRange=function(e,t,n){return t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n){return e>=mn(t,n)&&e<gn(t,n)}(e=ga(e),t,n)},qn.invoke=Pa,qn.isArguments=$s,qn.isArray=Bs,qn.isArrayBuffer=Js,qn.isArrayLike=Gs,qn.isArrayLikeObject=Ws,qn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&wr(e)==m},qn.isBuffer=zs,qn.isDate=Qs,qn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},qn.isEmpty=function(e){if(null==e)return!0;if(Gs(e)&&(Bs(e)||"string"==typeof e||"function"==typeof e.splice||zs(e)||ua(e)||$s(e)))return!e.length;var t=po(e);if(t==C||t==x)return!e.size;if(bo(e))return!Dr(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},qn.isEqual=function(e,t){return Pr(e,t)},qn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},qn.isError=Ks,qn.isFinite=function(e){return"number"==typeof e&&dn(e)},qn.isFunction=Ys,qn.isInteger=Xs,qn.isLength=Zs,qn.isMap=na,qn.isMatch=function(e,t){return e===t||Rr(e,t,ao(t))},qn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Rr(e,t,ao(t),n)},qn.isNaN=function(e){return ra(e)&&e!=+e},qn.isNative=function(e){if(Eo(e))throw new Ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kr(e)},qn.isNil=function(e){return null==e},qn.isNull=function(e){return null===e},qn.isNumber=ra,qn.isObject=ea,qn.isObjectLike=ta,qn.isPlainObject=ia,qn.isRegExp=oa,qn.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=p},qn.isSet=sa,qn.isString=aa,qn.isSymbol=ca,qn.isTypedArray=ua,qn.isUndefined=function(e){return e===i},qn.isWeakMap=function(e){return ta(e)&&po(e)==P},qn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==wr(e)},qn.join=function(e,t){return null==e?"":hn.call(e,t)},qn.kebabCase=Ba,qn.last=Ko,qn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ha(n))<0?gn(r+o,0):mn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):kt(e,Lt,o,!0)},qn.lowerCase=Ja,qn.lowerFirst=Ga,qn.lt=la,qn.lte=pa,qn.max=function(e){return e&&e.length?dr(e,rc,Tr):i},qn.maxBy=function(e,t){return e&&e.length?dr(e,oo(t,2),Tr):i},qn.mean=function(e){return Mt(e,rc)},qn.meanBy=function(e,t){return Mt(e,oo(t,2))},qn.min=function(e){return e&&e.length?dr(e,rc,Lr):i},qn.minBy=function(e,t){return e&&e.length?dr(e,oo(t,2),Lr):i},qn.stubArray=vc,qn.stubFalse=gc,qn.stubObject=function(){return{}},qn.stubString=function(){return""},qn.stubTrue=function(){return!0},qn.multiply=Cc,qn.nth=function(e,t){return e&&e.length?Hr(e,ha(t)):i},qn.noConflict=function(){return ot._===this&&(ot._=Ue),this},qn.noop=cc,qn.now=As,qn.pad=function(e,t,n){e=ya(e);var r=(t=ha(t))?rn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Fi(ln(i),n)+e+Fi(un(i),n)},qn.padEnd=function(e,t,n){e=ya(e);var r=(t=ha(t))?rn(e):0;return t&&r<t?e+Fi(t-r,n):e},qn.padStart=function(e,t,n){e=ya(e);var r=(t=ha(t))?rn(e):0;return t&&r<t?Fi(t-r,n)+e:e},qn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(ya(e).replace(ie,""),t||0)},qn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=En();return mn(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return Jr(e,t)},qn.reduce=function(e,t,n){var r=Bs(e)?xt:Ut,i=arguments.length<3;return r(e,oo(t,4),n,i,lr)},qn.reduceRight=function(e,t,n){var r=Bs(e)?St:Ut,i=arguments.length<3;return r(e,oo(t,4),n,i,pr)},qn.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:ha(t),Gr(ya(e),t)},qn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},qn.result=function(e,t,n){var r=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[jo(t[r])];s===i&&(r=o,s=n),e=Ys(s)?s.call(e):s}return e},qn.round=wc,qn.runInContext=e,qn.sample=function(e){return(Bs(e)?Qn:zr)(e)},qn.size=function(e){if(null==e)return 0;if(Gs(e))return aa(e)?rn(e):e.length;var t=po(e);return t==C||t==x?e.size:Dr(e).length},qn.snakeCase=Wa,qn.some=function(e,t,n){var r=Bs(e)?Ot:ti;return n&&mo(e,t,n)&&(t=i),r(e,oo(t,3))},qn.sortedIndex=function(e,t){return ni(e,t)},qn.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},qn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Hs(e[r],t))return r}return-1},qn.sortedLastIndex=function(e,t){return ni(e,t,!0)},qn.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},qn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Hs(e[n],t))return n}return-1},qn.startCase=za,qn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:or(ha(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},qn.subtract=Tc,qn.sum=function(e){return e&&e.length?Ht(e,rc):0},qn.sumBy=function(e,t){return e&&e.length?Ht(e,oo(t,2)):0},qn.template=function(e,t,n){var r=qn.templateSettings;n&&mo(e,t,n)&&(t=i),e=ya(e),t=ba({},t,r,Qi);var o,s,a=ba({},t.imports,r.imports,Qi),c=Ra(a),u=$t(a,c),l=0,p=t.interpolate||_e,f="__p += '",d=Ae((t.escape||_e).source+"|"+p.source+"|"+(p===Y?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),h="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ye+"]")+"\n";e.replace(d,(function(t,n,r,i,a,c){return r||(r=i),f+=e.slice(l,c).replace(Ee,Kt),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),f+="';\n";var v=De.call(t,"variable")&&t.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(V,""):f).replace($,"$1").replace(B,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Xa((function(){return we(c,h+"return "+f).apply(i,u)}));if(g.source=f,Ks(g))throw g;return g},qn.times=function(e,t){if((e=ha(e))<1||e>p)return[];var n=d,r=mn(e,d);t=oo(t),e-=d;for(var i=Ft(r,t);++n<e;)t(n);return i},qn.toFinite=da,qn.toInteger=ha,qn.toLength=va,qn.toLower=function(e){return ya(e).toLowerCase()},qn.toNumber=ga,qn.toSafeInteger=function(e){return e?or(ha(e),-9007199254740991,p):0===e?e:0},qn.toString=ya,qn.toUpper=function(e){return ya(e).toUpperCase()},qn.trim=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=on(e),o=on(t);return yi(r,Jt(r,o),Gt(r,o)+1).join("")},qn.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=si(t)))return e;var r=on(e);return yi(r,0,Gt(r,on(t))+1).join("")},qn.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.replace(ie,"");if(!e||!(t=si(t)))return e;var r=on(e);return yi(r,Jt(r,on(t))).join("")},qn.truncate=function(e,t){var n=30,r="...";if(ea(t)){var o="separator"in t?t.separator:o;n="length"in t?ha(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=ya(e)).length;if(Yt(e)){var a=on(e);s=a.length}if(n>=s)return e;var c=n-rn(r);if(c<1)return r;var u=a?yi(a,0,c).join(""):e.slice(0,c);if(o===i)return u+r;if(a&&(c+=u.length-c),oa(o)){if(e.slice(c).search(o)){var l,p=u;for(o.global||(o=Ae(o.source,ya(fe.exec(o))+"g")),o.lastIndex=0;l=o.exec(p);)var f=l.index;u=u.slice(0,f===i?c:f)}}else if(e.indexOf(si(o),c)!=c){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+r},qn.unescape=function(e){return(e=ya(e))&&W.test(e)?e.replace(J,sn):e},qn.uniqueId=function(e){var t=++Le;return ya(e)+t},qn.upperCase=Qa,qn.upperFirst=Ka,qn.each=ys,qn.eachRight=_s,qn.first=Go,ac(qn,(mc={},yr(qn,(function(e,t){De.call(qn.prototype,t)||(mc[t]=e)})),mc),{chain:!1}),qn.VERSION="4.17.19",_t(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){qn[e].placeholder=qn})),_t(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:gn(ha(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),_t(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),_t(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),_t(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(rc)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Wr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Sr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ls(oo(e)))},Vn.prototype.slice=function(e,t){e=ha(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ha(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(d)},yr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=qn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(qn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof Vn,u=a[0],l=c||Bs(t),p=function(e){var t=o.apply(qn,At([e],a));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,d=!!this.__actions__.length,h=s&&!f,v=c&&!d;if(!s&&l){t=v?t:new Vn(this);var g=e.apply(t,a);return g.__actions__.push({func:ds,args:[p],thisArg:i}),new Fn(g,f)}return h&&v?e.apply(this,a):(g=this.thru(p),h?r?g.value()[0]:g.value():g)})})),_t(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);qn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Bs(i)?i:[],e)}return this[n]((function(n){return t.apply(Bs(n)?n:[],e)}))}})),yr(Vn.prototype,(function(e,t){var n=qn[t];if(n){var r=n.name+"";De.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[ji(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Bs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mn(t,e+s);break;case"takeRight":e=gn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,p=l.length,f=0,d=mn(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return pi(e,this.__actions__);var h=[];e:for(;c--&&f<d;){for(var v=-1,g=e[u+=t];++v<p;){var m=l[v],y=m.iteratee,_=m.type,E=y(g);if(2==_)g=E;else if(!E){if(1==_)continue e;break e}}h[f++]=g}return h},qn.prototype.at=hs,qn.prototype.chain=function(){return fs(this)},qn.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},qn.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},qn.prototype.plant=function(e){for(var t,n=this;n instanceof Hn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},qn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ds,args:[es],thisArg:i}),new Fn(t,this.__chain__)}return this.thru(es)},qn.prototype.toJSON=qn.prototype.valueOf=qn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},qn.prototype.first=qn.prototype.head,at&&(qn.prototype[at]=function(){return this}),qn}();ot._=an,(r=function(){return an}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},6625:(e,t)=>{var n;t=e.exports=J,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var p=s++;o[p]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var f=s++;o[f]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var h=s++;o[h]="(?:-("+o[f]+"(?:\\."+o[f]+")*))";var v=s++;o[v]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var m=s++;o[m]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var y=s++,_="v?"+o[l]+o[h]+"?"+o[m]+"?";o[y]="^"+_+"$";var E="[v=\\s]*"+o[p]+o[v]+"?"+o[m]+"?",b=s++;o[b]="^"+E+"$";var C=s++;o[C]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var T=s++;o[T]=o[a]+"|x|X|\\*";var I=s++;o[I]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[h]+")?"+o[m]+"?)?)?";var A=s++;o[A]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[v]+")?"+o[m]+"?)?)?";var x=s++;o[x]="^"+o[C]+"\\s*"+o[I]+"$";var S=s++;o[S]="^"+o[C]+"\\s*"+o[A]+"$";var O=s++;o[O]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[O]+"\\s+",i[P]=new RegExp(o[P],"g");var R=s++;o[R]="^"+o[O]+o[I]+"$";var k=s++;o[k]="^"+o[O]+o[A]+"$";var N=s++;o[N]="(?:\\^)";var D=s++;o[D]="(\\s*)"+o[N]+"\\s+",i[D]=new RegExp(o[D],"g");var L=s++;o[L]="^"+o[N]+o[I]+"$";var M=s++;o[M]="^"+o[N]+o[A]+"$";var j=s++;o[j]="^"+o[C]+"\\s*("+E+")$|^$";var q=s++;o[q]="^"+o[C]+"\\s*("+_+")$|^$";var U=s++;o[U]="(\\s*)"+o[C]+"\\s*("+E+"|"+o[I]+")",i[U]=new RegExp(o[U],"g");var H=s++;o[H]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var F=s++;o[F]="^\\s*("+o[A]+")\\s+-\\s+("+o[A]+")\\s*$";var V=s++;o[V]="(<|>)?=?\\s*\\*";for(var $=0;$<34;$++)n($,o[$]),i[$]||(i[$]=new RegExp(o[$]));function B(e,t){if(e instanceof J)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t?i[b]:i[y]).test(e))return null;try{return new J(e,t)}catch(e){return null}}function J(e,t){if(e instanceof J){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof J))return new J(e,t);n("SemVer",e,t),this.loose=t;var o=e.trim().match(t?i[b]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=B,t.valid=function(e,t){var n=B(e,t);return n?n.version:null},t.clean=function(e,t){var n=B(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=J,J.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},J.prototype.toString=function(){return this.version},J.prototype.compare=function(e){return n("SemVer.compare",this.version,this.loose,e),e instanceof J||(e=new J(e,this.loose)),this.compareMain(e)||this.comparePre(e)},J.prototype.compareMain=function(e){return e instanceof J||(e=new J(e,this.loose)),W(this.major,e.major)||W(this.minor,e.minor)||W(this.patch,e.patch)},J.prototype.comparePre=function(e){if(e instanceof J||(e=new J(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return W(r,i)}while(++t)},J.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new J(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Y(e,t))return null;var n=B(e),r=B(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=W;var G=/^[0-9]+$/;function W(e,t){var n=G.test(e),r=G.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function z(e,t,n){return new J(e,n).compare(new J(t,n))}function Q(e,t,n){return z(e,t,n)>0}function K(e,t,n){return z(e,t,n)<0}function Y(e,t,n){return 0===z(e,t,n)}function X(e,t,n){return 0!==z(e,t,n)}function Z(e,t,n){return z(e,t,n)>=0}function ee(e,t,n){return z(e,t,n)<=0}function te(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Y(e,n,r);break;case"!=":i=X(e,n,r);break;case">":i=Q(e,n,r);break;case">=":i=Z(e,n,r);break;case"<":i=K(e,n,r);break;case"<=":i=ee(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function ne(e,t){if(e instanceof ne){if(e.loose===t)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);n("comparator",e,t),this.loose=t,this.parse(e),this.semver===re?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return W(t,e)},t.major=function(e,t){return new J(e,t).major},t.minor=function(e,t){return new J(e,t).minor},t.patch=function(e,t){return new J(e,t).patch},t.compare=z,t.compareLoose=function(e,t){return z(e,t,!0)},t.rcompare=function(e,t,n){return z(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=Q,t.lt=K,t.eq=Y,t.neq=X,t.gte=Z,t.lte=ee,t.cmp=te,t.Comparator=ne;var re={};function ie(e,t){if(e instanceof ie)return e.loose===t?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function oe(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,n,r,i,o,s,a,c,u,l,p,f){return((t=oe(n)?"":oe(r)?">="+n+".0.0":oe(i)?">="+n+"."+r+".0":">="+t)+" "+(a=oe(c)?"":oe(u)?"<"+(+c+1)+".0.0":oe(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ae(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==re&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new ie(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,r){var i,o,s,a,c;switch(e=new J(e,r),t=new ie(t,r),n){case">":i=Q,o=ee,s=K,a=">",c=">=";break;case"<":i=K,o=Z,s=Q,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,f=null;if(l.forEach((function(e){e.semver===re&&(e=new ne(">=0.0.0")),p=p||e,f=f||e,i(e.semver,p.semver,r)?p=e:s(e.semver,f.semver,r)&&(f=e)})),p.operator===a||p.operator===c)return!1;if((!f.operator||f.operator===a)&&o(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.loose?i[j]:i[q],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new J(n[2],this.loose):this.semver=re},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return n("Comparator.test",e,this.loose),this.semver===re||("string"==typeof e&&(e=new J(e,this.loose)),te(e,this.operator,this.semver,this.loose))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var n;if(""===this.operator)return n=new ie(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new ie(this.value,t),ce(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=te(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=te(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),n("range",e,t);var r=t?i[F]:i[H];e=e.replace(r,se),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[P],"$1~")).replace(i[D],"$1^")).split(/\s+/).join(" ");var o=t?i[j]:i[q],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t?i[M]:i[L];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),oe(r)?a="":oe(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":oe(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t?i[k]:i[R];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),oe(r)?a="":oe(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":oe(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t?i[S]:i[x];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=oe(i),u=c||oe(o),l=u||oe(s);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(o=0),l&&(s=0),">"===r?(r=">=",u?(i=+i+1,o=0,s=0):l&&(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[V],"")}(e,t),n("stars",e),e}(e,t)})).join(" ").split(/\s+/);return this.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,t)}))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new J(e,this.loose));for(var t=0;t<this.set.length;t++)if(ae(this.set[t],e))return!0;return!1},t.satisfies=ce,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ie(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new J(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ie(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new J(r=e,n)))})),r},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,"<",n)},t.gtr=function(e,t,n){return ue(e,t,">",n)},t.outside=ue,t.prerelease=function(e,t){var n=B(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new ie(e,n),t=new ie(t,n),e.intersects(t)}},6372:e=>{"use strict";function t(e){return"function"==typeof e}var n=console.error.bind(console);function r(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function i(e){e&&e.logger&&(t(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function o(e,i,o){if(e&&e[i]){if(!o)return n("no wrapper function"),void n((new Error).stack);if(t(e[i])&&t(o)){var s=e[i],a=o(s,i);return r(a,"__original",s),r(a,"__unwrap",(function(){e[i]===a&&r(e,i,s)})),r(a,"__wrapped",!0),r(e,i,a),a}n("original object and wrapper must be functions")}else n("no original function "+i+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}i.wrap=o,i.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},i.unwrap=s,i.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):n("must provide one or more functions to unwrap on modules")},e.exports=i},465:e=>{e.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var r=0;r<t.length;r++){var i,o=t[r];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}n.push("    at "+i)}return n.join("\n")}},2512:(e,t,n)=>{if(global._stackChain){if(global._stackChain.version!==n(9414).i8)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=n(7898)},9414:e=>{"use strict";e.exports={i8:"1.3.7"}},7898:(e,t,n)=>{var r=n(465);function i(){this.extend=new a,this.filter=new a,this.format=new c,this.version=n(9414).i8}var o=!1;i.prototype.callSite=function e(t){t||(t={}),o=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return o=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var s=new i;function a(){this._modifiers=[]}function c(){this._formater=r,this._previous=void 0}a.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=r,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&s.format.replace(Error.prepareStackTrace);var u=!1;function l(e,t){if(o)return t;if(u)return r(e,t);var n=t.concat();n=s.extend._modify(e,n),n=(n=s.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),u=!0;var i=s.format._formater(e,n);return u=!1,i}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?s.format._roolback():(s.format._backup(),s.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=s},6515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUPPORTED_CLASS_VERSION_ERROR=t.BUILD_FAILED=t.CANNOT_FIND_MAIN_CLASS=t.EVALUATE_ON_RUNNING_THREAD=t.ATTACH_CONFIG_ERROR=t.FAILED_TO_COMPLETE_HCR=t.REQUEST_TYPE_NOT_SUPPORTED=t.FAILED_TO_RESOLVE_CLASSPATH=t.LS_FAILS_TO_START=void 0,t.LS_FAILS_TO_START="java-language-support-extension-fails-to-start",t.FAILED_TO_RESOLVE_CLASSPATH="failed-to-resolve-classpath",t.REQUEST_TYPE_NOT_SUPPORTED="request-type-xyz-is-not-supported-only-launch-and-attach-are-supported",t.FAILED_TO_COMPLETE_HCR="failed-to-complete-hot-code-replace",t.ATTACH_CONFIG_ERROR="please-specify-the-host-name-and-the-port-of-the-remote-debuggee-in-the-launchjson",t.EVALUATE_ON_RUNNING_THREAD="failed-to-evaluate-reason-cannot-evaluate-because-the-thread-is-resumed",t.CANNOT_FIND_MAIN_CLASS="cannot-find-a-class-with-the-main-method",t.BUILD_FAILED="build-failed-do-you-want-to-continue",t.UNSUPPORTED_CLASS_VERSION_ERROR="program-throws-unsupportedclassversionerror"},2015:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.buildWorkspace=void 0;const i=n(5622),o=n(7549),s=n(6800),a=n(6515),c=n(5049),u=n(9567),l=n(9573);var p;!function(e){e[e.FAILED=0]="FAILED",e[e.SUCCEED=1]="SUCCEED",e[e.WITHERROR=2]="WITHERROR",e[e.CANCELLED=3]="CANCELLED"}(p||(p={})),t.buildWorkspace=function(e){return r(this,void 0,void 0,(function*(){const t=yield s.instrumentOperation("build",(t=>r(this,void 0,void 0,(function*(){let n;try{yield c.executeJavaExtensionCommand(c.JAVA_BUILD_WORKSPACE,!1,e.getCancellationToken())}catch(e){n=e}return{error:n,operationId:t}}))))();return!e.isCancelled()&&t.error!==p.CANCELLED&&function(e,t,n){return r(this,void 0,void 0,(function*(){const c=o.workspace.getConfiguration("java.debug.settings").get("onBuildFailureProceed");if(t instanceof l.JavaExtensionNotEnabledError)return l.guideToInstallJavaExtension(),!1;const p=new l.UserError({message:"Build failed"});if(s.setErrorCode(p,Number(t)),s.sendOperationError(e,"build",p),!c&&(t===u.CompileWorkspaceStatus.WITHERROR||t===u.CompileWorkspaceStatus.FAILED)){(function(){const e=o.languages.getDiagnostics()||[];for(const t of e){const e=i.basename(t[0].fsPath||"");if((e.endsWith(".java")||"pom.xml"===e||e.endsWith(".gradle"))&&t[1].filter((e=>e.severity===o.DiagnosticSeverity.Error)).length)return!0}return!1})()&&o.commands.executeCommand("workbench.actions.view.problems"),n.hide(!0);const t=yield o.window.showErrorMessage("Build failed, do you want to continue?","Proceed","Fix...","Cancel");return s.sendInfo(e,{operationName:"build",choiceForBuildError:t||"esc"}),"Proceed"===t||("Fix..."===t&&function(e){r(this,void 0,void 0,(function*(){let t=[];try{t=yield u.resolveBuildFiles()}catch(e){}const n=[];n.push({label:"Clean workspace cache",detail:"Clean the stale workspace and reload the window"}),t.length&&n.push({label:"Update project configuration",detail:"Force the language server to update the project configuration/classpath"}),n.push({label:"Open log file",detail:"Open log file to view more details for the build errors"}),n.push({label:"Troubleshooting guide",detail:"Find more detail about the troubleshooting steps"});const r=yield o.window.showQuickPick(n,{placeHolder:"Please fix the errors in PROBLEMS first, then try the fix suggestions below."});if(s.sendInfo(e,{operationName:"build",choiceForBuildFix:r?r.label:"esc"}),r)if("Clean workspace cache"===r.label)o.commands.executeCommand("java.clean.workspace");else if("Update project configuration"===r.label)for(const e of t)yield o.commands.executeCommand("java.projectConfiguration.update",o.Uri.parse(e));else"Open log file"===r.label?o.commands.executeCommand("java.open.serverLog"):"Troubleshooting guide"===r.label&&l.openTroubleshootingPage("Build failed",a.BUILD_FAILED)}))}(e),!1)}return!0}))}(t.operationId,t.error,e)}))}},3050:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.substituteFilterVariables=t.populateStepFilters=void 0;const i=n(9567);function o(e){return r(this,void 0,void 0,(function*(){if(!e)return[];try{if(Array.isArray(e))return e.some((e=>"$JDK"===e||"$Libraries"===e))?yield i.resolveClassFilters(e):e;console.error("Invalid type for skipClasses config:"+e)}catch(e){console.error(e)}return[]}))}t.populateStepFilters=function(e){return r(this,void 0,void 0,(function*(){if(!e.stepFilters)return;const t=yield o(e.stepFilters.skipClasses);var n,r;Array.isArray(e.stepFilters.classNameFilters)&&(n=e.stepFilters.classNameFilters,r=t,n.forEach((e=>{r.indexOf(e)<0&&r.push(String(e))}))),e.stepFilters.classNameFilters=void 0,e.stepFilters.skipClasses=t}))},t.substituteFilterVariables=o},5049:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.executeJavaExtensionCommand=t.executeJavaLanguageServerCommand=t.JAVA_RESOLVE_SOURCE_URI=t.JAVA_RESOLVE_CLASSFILTERS=t.JAVA_FETCH_PLATFORM_SETTINGS=t.JAVA_RESOLVE_JAVAEXECUTABLE=t.JAVA_IS_ON_CLASSPATH=t.JAVA_RESOLVE_BUILD_FILES=t.JAVA_RESOLVE_ELEMENT_AT_SELECTION=t.JAVA_CHECK_PROJECT_SETTINGS=t.JAVA_INFER_LAUNCH_COMMAND_LENGTH=t.JAVA_RESOLVE_MAINMETHOD=t.JAVA_UPDATE_DEBUG_SETTINGS=t.JAVA_FETCH_USAGE_DATA=t.JAVA_EXECUTE_WORKSPACE_COMMAND=t.JAVA_BUILD_WORKSPACE=t.JAVA_VALIDATE_LAUNCHCONFIG=t.JAVA_RESOLVE_MAINCLASS=t.JAVA_RESOLVE_CLASSPATH=t.JAVA_START_DEBUGSESSION=t.VSCODE_ADD_DEBUGCONFIGURATION=t.VSCODE_STARTDEBUG=void 0;const i=n(7549),o=n(9573);function s(e,...t){return r(this,void 0,void 0,(function*(){const n=o.getJavaExtension();if(!n)throw new o.JavaExtensionNotEnabledError(`Cannot execute command ${e}, VS Code Java Extension is not enabled.`);return n.isActive||(yield n.activate()),i.commands.executeCommand(e,...t)}))}t.VSCODE_STARTDEBUG="vscode.startDebug",t.VSCODE_ADD_DEBUGCONFIGURATION="debug.addConfiguration",t.JAVA_START_DEBUGSESSION="vscode.java.startDebugSession",t.JAVA_RESOLVE_CLASSPATH="vscode.java.resolveClasspath",t.JAVA_RESOLVE_MAINCLASS="vscode.java.resolveMainClass",t.JAVA_VALIDATE_LAUNCHCONFIG="vscode.java.validateLaunchConfig",t.JAVA_BUILD_WORKSPACE="java.workspace.compile",t.JAVA_EXECUTE_WORKSPACE_COMMAND="java.execute.workspaceCommand",t.JAVA_FETCH_USAGE_DATA="vscode.java.fetchUsageData",t.JAVA_UPDATE_DEBUG_SETTINGS="vscode.java.updateDebugSettings",t.JAVA_RESOLVE_MAINMETHOD="vscode.java.resolveMainMethod",t.JAVA_INFER_LAUNCH_COMMAND_LENGTH="vscode.java.inferLaunchCommandLength",t.JAVA_CHECK_PROJECT_SETTINGS="vscode.java.checkProjectSettings",t.JAVA_RESOLVE_ELEMENT_AT_SELECTION="vscode.java.resolveElementAtSelection",t.JAVA_RESOLVE_BUILD_FILES="vscode.java.resolveBuildFiles",t.JAVA_IS_ON_CLASSPATH="vscode.java.isOnClasspath",t.JAVA_RESOLVE_JAVAEXECUTABLE="vscode.java.resolveJavaExecutable",t.JAVA_FETCH_PLATFORM_SETTINGS="vscode.java.fetchPlatformSettings",t.JAVA_RESOLVE_CLASSFILTERS="vscode.java.resolveClassFilters",t.JAVA_RESOLVE_SOURCE_URI="vscode.java.resolveSourceUri",t.executeJavaLanguageServerCommand=function(...e){return s(t.JAVA_EXECUTE_WORKSPACE_COMMAND,...e)},t.executeJavaExtensionCommand=s},4082:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.JavaDebugConfigurationProvider=void 0;const i=n(5747),o=n(6486),s=n(2087),a=n(5622),c=n(7549),u=n(6800),l=n(6515),p=n(2015),f=n(3050),d=n(5049),h=n(9567),v=n(6908),g=n(5473),m=n(8922),y=n(2878),_=n(7743),E=n(9573),b={win32:"windows",linux:"linux",darwin:"osx"}[process.platform];function C(e){return r(this,void 0,void 0,(function*(){const t=c.workspace.getConfiguration("java.debug");if(!t)return;const n=function(e){switch(e.toLowerCase()){case"verbose":return"FINE";case"warn":return"WARNING";case"error":return"SEVERE";case"info":return"INFO";default:return"FINE"}}(t.logLevel||""),r=yield E.getJavaHome();if(t.settings&&Object.keys(t.settings).length)try{const i={skipClasses:yield f.substituteFilterVariables(t.settings.stepping.skipClasses),skipSynthetics:t.settings.skipSynthetics,skipStaticInitializers:t.settings.skipStaticInitializers,skipConstructors:t.settings.skipConstructors},o={skipClasses:yield f.substituteFilterVariables(t.settings.exceptionBreakpoint.skipClasses)},s=yield d.executeJavaLanguageServerCommand(d.JAVA_UPDATE_DEBUG_SETTINGS,JSON.stringify(Object.assign(Object.assign({},t.settings),{logLevel:n,javaHome:r,stepFilters:i,exceptionFilters:o,exceptionFiltersUpdated:e&&e.affectsConfiguration("java.debug.settings.exceptionBreakpoint.skipClasses"),limitOfVariablesPerJdwpRequest:Math.max(t.settings.jdwp.limitOfVariablesPerJdwpRequest,1),jdwpRequestTimeout:Math.max(t.settings.jdwp.requestTimeout,100)})));"FINE"===n&&console.log("settings:",s)}catch(e){console.log("Cannot update debug settings.",e)}}))}t.JavaDebugConfigurationProvider=class{constructor(){this.isUserSettingsDirty=!0,c.workspace.onDidChangeConfiguration((e=>{if(e.affectsConfiguration("java.debug")){if(c.debug.activeDebugSession)return this.isUserSettingsDirty=!1,C(e);this.isUserSettingsDirty=!0}}))}provideDebugConfigurations(e,t){return u.instrumentOperation("provideDebugConfigurations",(n=>this.provideDebugConfigurationsAsync(e,t)))()}resolveDebugConfiguration(e,t,n){return this.isEmptyConfig(t)&&(t.type="java",t.name="Java Debug",t.request="launch"),t}resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return u.instrumentOperation("resolveDebugConfiguration",(r=>{try{return this.mergePlatformProperties(t,e),this.resolveAndValidateDebugConfiguration(e,t,n)}catch(e){return void E.showErrorMessage({type:g.Type.EXCEPTION,message:String(e&&e.message||e)})}}))()}provideDebugConfigurationsAsync(e,t){return new Promise(((n,i)=>r(this,void 0,void 0,(function*(){const r=_.progressProvider.createProgressReporter("Create launch.json",c.ProgressLocation.Window);r.observe(t);const i={type:"java",name:"Launch Current File",request:"launch",mainClass:"${file}"};try{if(!(yield E.waitForStandardMode(r)))return void n([i]);if(r.isCancelled())return void n([i]);r.report("Generating Java configuration...");const t=yield h.resolveMainClass(e?e.uri:void 0),o={},s=t.map((e=>Object.assign(Object.assign({},i),{name:this.constructLaunchConfigName(e.mainClass,o),mainClass:e.mainClass,projectName:e.projectName})));if(r.isCancelled())return void n([i]);n([i,...s])}catch(e){e instanceof E.JavaExtensionNotEnabledError?E.guideToInstallJavaExtension():console.error(e),n([i])}finally{r.done()}}))))}mergePlatformProperties(e,t){if(e&&b&&e[b])try{for(const t of Object.keys(e[b]))e[t]=e[b][t];e[b]=void 0}catch(e){}}constructLaunchConfigName(e,t){const n=`Launch ${e.substr(e.lastIndexOf(".")+1)}`;return void 0===t[n]?(t[n]=0,n):(t[n]+=1,`${n}(${t[n]})`)}resolveAndValidateDebugConfiguration(e,t,n){return r(this,void 0,void 0,(function*(){let r=_.progressProvider.getProgressReporter(t.__progressId);if((r||!t.__progressId)&&(r||(r=_.progressProvider.createProgressReporter(t.noDebug?"Run":"Debug")),r.observe(n),!r.isCancelled()))try{if(!(yield E.waitForStandardMode(r))||r.isCancelled())return;if(this.isUserSettingsDirty&&(this.isUserSettingsDirty=!1,yield C()),this.isEmptyConfig(t)&&(t.type="java",t.name="Java Debug",t.request="launch"),"launch"===t.request){if(void 0===t.vmArgs){const e=c.workspace.getConfiguration("java.debug.settings");t.vmArgs=e.vmArgs}if(!t.console){const e=c.workspace.getConfiguration("java.debug.settings");t.console=e.console}if("integratedTerminal"!==t.console||t.internalConsoleOptions||(t.internalConsoleOptions="neverOpen"),function(){const e=c.workspace.getConfiguration("java.debug.settings");return!e||e.forceBuildBeforeLaunch}()&&(r.report("Compiling..."),!(yield p.buildWorkspace(r))))return;if(r.isCancelled())return;t.mainClass?r.report("Resolving launch configuration..."):r.report("Resolving main class...");const n=yield this.resolveAndValidateMainClass(e&&e.uri,t,r);if(!n||!n.mainClass)return;if(r.report("Resolving launch configuration..."),t.mainClass=n.mainClass,t.projectName=n.projectName,r.isCancelled())return;if(o.isEmpty(t.classPaths)&&o.isEmpty(t.modulePaths)){const e=yield h.resolveClasspath(t.mainClass,t.projectName);t.modulePaths=e[0],t.classPaths=e[1]}if(o.isEmpty(t.classPaths)&&o.isEmpty(t.modulePaths))throw new E.UserError({message:"Cannot resolve the modulepaths/classpaths automatically, please specify the value in the launch.json.",type:g.Type.USAGEERROR});if(t.javaExec=yield h.resolveJavaExecutable(t.mainClass,t.projectName),t.cwd=t.cwd||o.get(e,"uri.fsPath"),Array.isArray(t.args)&&(t.args=this.concatArgs(t.args)),Array.isArray(t.vmArgs)&&(t.vmArgs=this.concatArgs(t.vmArgs)),r.isCancelled())return;yield f.populateStepFilters(t);const i=yield v.getJavaVersion(t.javaExec);(yield h.detectPreviewFlag(t.mainClass,t.projectName))&&(t.vmArgs=(t.vmArgs||"")+" --enable-preview",v.validateRuntimeCompatibility(i)),yield v.addMoreHelpfulVMArgs(t,i),t.shortenCommandLine&&"auto"!==t.shortenCommandLine||(t.shortenCommandLine=yield v.getShortenApproachForCLI(t,i)),"win32"===process.platform&&"internalConsole"!==t.console&&(t.launcherScript=E.getLauncherScriptPath())}else{if("attach"!==t.request)throw new E.UserError({message:`Request type "${t.request}" is not supported. Only "launch" and "attach" are supported.`,type:g.Type.USAGEERROR,anchor:l.REQUEST_TYPE_NOT_SUPPORTED});if(t.hostName&&t.port)t.processId=void 0;else{if(void 0===t.processId)throw new E.UserError({message:"Please specify the hostName/port directly, or provide the processId of the remote debuggee in the launch.json.",type:g.Type.USAGEERROR,anchor:l.ATTACH_CONFIG_ERROR});{if("${command:PickJavaProcess}"===t.processId)return;const e=Number(t.processId);if(Number.isNaN(e))return void c.window.showErrorMessage(`The processId config '${t.processId}' is not a valid process id.`);const n=yield y.resolveJavaProcess(e);if(!n)return void c.window.showErrorMessage(`Attach to process: pid '${t.processId}' is not a debuggable Java process. Please make sure the process has turned on debug mode using vmArgs like '-agentlib:jdwp=transport=dt_socket,server=y,address=5005.'`);t.processId=void 0,t.hostName=n.hostName,t.port=n.debugPort}}yield f.populateStepFilters(t)}if((null==n?void 0:n.isCancellationRequested)||r.isCancelled())return;return delete t.__progressId,t}catch(e){return e instanceof E.JavaExtensionNotEnabledError?void E.guideToInstallJavaExtension():e instanceof E.UserError?void E.showErrorMessageWithTroubleshooting(e.context):void E.showErrorMessageWithTroubleshooting(E.convertErrorToMessage(e))}finally{r.done()}}))}concatArgs(e){return o.join(o.map(e,(e=>{const t=String(e);return/["\s]/.test(t)?'"'+t.replace(/(["\\])/g,"\\$1")+'"':t}))," ")}isEmptyConfig(e){return 0===Object.keys(e).filter((e=>"noDebug"!==e)).length}resolveAndValidateMainClass(e,t,n){return r(this,void 0,void 0,(function*(){if(!t.mainClass||this.isFile(t.mainClass)){const r=t.mainClass||o.get(c.window.activeTextEditor,"document.uri.fsPath");if(r){const e=yield h.resolveMainMethod(c.Uri.file(r));if(n.isCancelled())return;if(e.length)return m.mainClassPicker.isAutoPicked(e)||n.hide(!0),m.mainClassPicker.showQuickPick(e,"Please select a main class you want to run.")}const i=r?`The file '${a.basename(r)}' is not executable, please select a main class you want to run.`:"Please select a main class you want to run.";return this.promptMainClass(e,n,i)}const r=!o.isEmpty(t.classPaths)||!o.isEmpty(t.modulePaths),i=yield h.validateLaunchConfig(t.mainClass,t.projectName,r,e);if(!n.isCancelled())return i.mainClass.isValid&&i.projectName.isValid?{mainClass:t.mainClass,projectName:t.projectName}:this.fixMainClass(e,t,i,n)}))}isFile(e){try{return i.lstatSync(e).isFile()}catch(e){return!1}}fixMainClass(e,t,n,i){return r(this,void 0,void 0,(function*(){const r=[];if(n.mainClass.isValid||r.push(String(n.mainClass.message)),n.projectName.isValid||r.push(String(n.projectName.message)),!n.proposals||!n.proposals.length)throw new E.UserError({message:r.join(s.EOL),type:g.Type.USAGEERROR,anchor:l.FAILED_TO_RESOLVE_CLASSPATH});if(i.hide(!0),"Fix"===(yield E.showErrorMessageWithTroubleshooting({message:r.join(s.EOL),type:g.Type.USAGEERROR,anchor:l.FAILED_TO_RESOLVE_CLASSPATH},"Fix"))){const i=yield m.mainClassPicker.showQuickPick(n.proposals,"Please select main class<project name>.",!1);return i&&(u.sendInfo("",{fix:"yes",fixMessage:r.join(s.EOL)}),g.logger.log(g.Type.USAGEDATA,{fix:"yes",fixMessage:r.join(s.EOL)}),yield this.persistMainClassOption(e,t,i)),i}}))}persistMainClassOption(e,t,n){return r(this,void 0,void 0,(function*(){const r=o.cloneDeep(t);return r.mainClass=n.mainClass,r.projectName=n.projectName,this.persistLaunchConfig(e,t,r)}))}persistLaunchConfig(e,t,n){return r(this,void 0,void 0,(function*(){const r=c.workspace.getConfiguration("launch",e),i=r.configurations,s=o.findIndex(i,(e=>o.isEqual(e,t)));s>=0&&(i[s]=n,yield r.update("configurations",i))}))}promptMainClass(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield h.resolveMainClass(e);if(!t.isCancelled()){if(0===r.length){const t=e?c.workspace.getWorkspaceFolder(e):void 0;throw new E.UserError({message:`Cannot find a class with the main method${t?" in the folder '"+t.name+"'":""}.`,type:g.Type.USAGEERROR,anchor:l.CANNOT_FIND_MAIN_CLASS})}return m.mainClassPicker.isAutoPicked(r)||t.hide(!0),m.mainClassPicker.showQuickPickWithRecentlyUsed(r,n||"Select main class<project name>")}}))}}},5601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_NOTIFICATION_EVENT=t.HCR_EVENT=t.JAVA_LANGID=void 0,t.JAVA_LANGID="java",t.HCR_EVENT="hotcodereplace",t.USER_NOTIFICATION_EVENT="usernotification"},9171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationBar=void 0;const r=n(7549);t.NotificationBar=class{constructor(){this.statusBar=r.window.createStatusBarItem(r.StatusBarAlignment.Left,Number.POSITIVE_INFINITY)}show(e,t){this.statusBar.text=e,this.statusBar.show();const n=Date.now();this.lastUpdateTime=n,t&&setTimeout((()=>{this.lastUpdateTime===n&&(this.statusBar.text="",this.statusBar.hide())}),t)}clear(){this.statusBar.text="",this.statusBar.hide()}dispose(){this.statusBar.dispose()}}},6147:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.startDebugging=t.initializeCodeLensProvider=void 0;const i=n(6486),o=n(5622),s=n(7549),a=n(6800),c=n(5601),u=n(3969),l=n(9567),p=n(9573),f="java.debug.runCodeLens",d="java.debug.debugCodeLens",h="java.debug.settings",v="enableRunDebugCodeLens";t.initializeCodeLensProvider=function(e){!!s.window.activeTextEditor&&s.window.activeTextEditor.document&&"java"===s.window.activeTextEditor.document.languageId&&p.isJavaExtEnabled()?p.getJavaExtensionAPI().then((t=>{!t||t.serverMode!==p.ServerMode.LIGHTWEIGHT&&t.serverMode!==p.ServerMode.HYBRID?e.subscriptions.push(new g):t.onDidServerModeChange((t=>{t===p.ServerMode.STANDARD&&e.subscriptions.push(new g)}))})):e.subscriptions.push(new g)};class g{constructor(){this.runCommand=a.instrumentOperationAsVsCodeCommand(f,y),this.debugCommand=a.instrumentOperationAsVsCodeCommand(d,_),s.workspace.getConfiguration(h).get(v)?this.lensProvider=s.languages.registerCodeLensProvider(c.JAVA_LANGID,new m):this.hoverProvider=u.initializeHoverProvider(),this.configurationEvent=s.workspace.onDidChangeConfiguration((e=>{if(e.affectsConfiguration(h)){const e=s.workspace.getConfiguration(h).get(v);e&&void 0===this.lensProvider?this.lensProvider=s.languages.registerCodeLensProvider(c.JAVA_LANGID,new m):e||void 0===this.lensProvider||(this.lensProvider.dispose(),this.lensProvider=void 0),e&&this.hoverProvider?(this.hoverProvider.dispose(),this.hoverProvider=void 0):e||this.hoverProvider||(this.hoverProvider=u.initializeHoverProvider())}}),this)}dispose(){void 0!==this.lensProvider&&this.lensProvider.dispose(),this.hoverProvider&&this.hoverProvider.dispose(),this.runCommand.dispose(),this.debugCommand.dispose(),this.configurationEvent.dispose()}}class m{provideCodeLenses(e,t){return r(this,void 0,void 0,(function*(){try{const n=yield l.resolveMainMethod(e.uri,t);return i.flatten(n.map((t=>[new s.CodeLens(t.range,{title:"Run",command:f,tooltip:"Run Java Program",arguments:[t.mainClass,t.projectName,e.uri]}),new s.CodeLens(t.range,{title:"Debug",command:d,tooltip:"Debug Java Program",arguments:[t.mainClass,t.projectName,e.uri]})])))}catch(e){return[]}}))}}function y(e,t,n){return E(e,t,n,!0)}function _(e,t,n){return E(e,t,n,!1)}function E(e,t,n,a,c){return r(this,void 0,void 0,(function*(){const u=s.workspace.getWorkspaceFolder(n),p=u?u.uri:void 0,f=yield l.isOnClasspath(n.toString());if(p&&!1===f&&!(yield function(e){return r(this,void 0,void 0,(function*(){const t=o.basename(e.fsPath||""),n=o.dirname(e.fsPath||"");if(!n)return!0;const r=s.Uri.file(n);let i=s.workspace.asRelativePath(r,!0);i===r.fsPath&&(i=o.basename(n));const a=yield s.window.showWarningMessage(`The file ${t} isn't on the classpath, the runtime may throw class not found error. Do you want to add the parent folder "${i}" to Java source path?`,"Add to Source Path","Skip");return"Skip"===a||("Add to Source Path"===a&&s.commands.executeCommand("java.project.addToSourcePath",r),!1)}))}(n)))return!1;const d=yield function(e,t,n){return r(this,void 0,void 0,(function*(){const o=s.workspace.getConfiguration("launch",n),a=o.configurations;let c=i.find(a,(n=>n.mainClass===e&&i.toString(n.projectName)===i.toString(t)));if(c||(c=i.find(a,(t=>t.mainClass===e&&!t.projectName))),!c&&(c={type:"java",name:`Launch ${e.substr(e.lastIndexOf(".")+1)}`,request:"launch",mainClass:e,projectName:t},a&&a.length||(yield function(e){return r(this,void 0,void 0,(function*(){if(!e)return!1;const t=s.workspace.getWorkspaceFolder(e);return!!(yield s.workspace.findFiles(".vscode/launch.json")).find((e=>s.workspace.getWorkspaceFolder(e)===t))}))}(n))))try{a.splice(0,0,c),yield o.update("configurations",a,s.ConfigurationTarget.WorkspaceFolder)}catch(e){}return i.cloneDeep(c)}))}(e,t,p);return d.projectName=t,d.noDebug=a,d.__progressId=null==c?void 0:c.getId(),s.debug.startDebugging(u,d)}))}t.startDebugging=E},112:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const i=n(4247),o=n(6486),s=n(5622),a=n(7549),c=n(6800),u=n(5049),l=n(4082),p=n(5601),f=n(9171),d=n(6147),h=n(9332),v=n(9543),g=n(3391),m=n(9567),y=n(5473),_=n(8922),E=n(2878),b=n(7743),C=n(1386),w=n(7982),T=n(9573);function I(e,t){y.logger.initialize(t,!0),function(e){const t=["duration"];e.subscriptions.push(a.debug.onDidTerminateDebugSession((e=>{"java"===e.type&&u.executeJavaLanguageServerCommand(u.JAVA_FETCH_USAGE_DATA).then((e=>{Array.isArray(e)&&e.length&&e.forEach((e=>{const n={},r={};for(const i of Object.keys(e))t.indexOf(i)>=0?r[i]=e[i]:n[i]=String(e[i]);"exception"===e.scope?g.logJavaException(n):g.logJavaInfo(n,r),y.logger.log("exception"===e.scope?y.Type.EXCEPTION:y.Type.USAGEDATA,n,r)}))}))}))),e.subscriptions.push(a.debug.onDidReceiveDebugSessionCustomEvent((e=>{(e.session?e.session.type:void 0)===p.JAVA_LANGID&&(e.event===p.HCR_EVENT?h.handleHotCodeReplaceCustomEvent(e):e.event===p.USER_NOTIFICATION_EVENT&&function(e){"ERROR"===e.body.notificationType?T.showErrorMessageWithTroubleshooting({message:e.body.message}):"WARNING"===e.body.notificationType?T.showWarningMessageWithTroubleshooting({message:e.body.message}):a.window.showInformationMessage(e.body.message)}(e))})))}(t),t.subscriptions.push(y.logger),t.subscriptions.push(a.window.registerTerminalLinkProvider(new C.JavaTerminalLinkProvder)),t.subscriptions.push(a.debug.registerDebugConfigurationProvider("java",new l.JavaDebugConfigurationProvider)),t.subscriptions.push(a.debug.registerDebugAdapterDescriptorFactory("java",new v.JavaDebugAdapterDescriptorFactory)),t.subscriptions.push(c.instrumentOperationAsVsCodeCommand("JavaDebug.SpecifyProgramArgs",(()=>r(this,void 0,void 0,(function*(){return function(e){const t="JavaDebugProgramArgs",n={ignoreFocusOut:!0,placeHolder:"Enter program arguments or leave empty to pass no args"},r=e.workspaceState.get(t,"");return r.length>0&&(n.value=r),a.window.showInputBox(n).then((n=>(void 0!==n&&e.workspaceState.update(t,n),n||" ")))}(t)}))))),t.subscriptions.push(c.instrumentOperationAsVsCodeCommand("JavaDebug.PickJavaProcess",(()=>r(this,void 0,void 0,(function*(){let e;try{e=yield E.pickJavaProcess()}catch(e){a.window.showErrorMessage(e.message?e.message:String(e))}return e?String(e.pid):"${command:PickJavaProcess}"})))));const n=new f.NotificationBar;return t.subscriptions.push(n),t.subscriptions.push(c.instrumentOperationAsVsCodeCommand("java.debug.hotCodeReplace",(()=>r(this,void 0,void 0,(function*(){yield function(e){return r(this,void 0,void 0,(function*(){const t=a.debug.activeDebugSession;if(!t)return;if(t.configuration.noDebug)return void a.window.showWarningMessage("Failed to apply the changes because hot code replace is not supported by run mode, would you like to restart the program?",h.YES_BUTTON,h.NO_BUTTON).then((e=>{e===h.YES_BUTTON&&a.commands.executeCommand("workbench.action.debug.restart")}));const n=a.workspace.getConfiguration("java.autobuild");if(!n.enabled&&"Yes"===(yield a.window.showWarningMessage("The hot code replace feature requires you to enable the autobuild flag, do you want to enable it?","Yes","No"))){yield n.update("enabled",!0);try{yield u.executeJavaExtensionCommand(u.JAVA_BUILD_WORKSPACE,!1)}catch(e){}}e.show("$(sync~spin)Applying code changes...");const r=(new Date).getTime(),i=yield t.customRequest("redefineClasses"),o=(new Date).getTime()-r<150?150:0;if(o&&(yield new Promise((e=>{setTimeout(e,o)}))),i&&i.errorMessage)return void e.clear();if(!i||!i.changedClasses||!i.changedClasses.length)return e.clear(),void a.window.showWarningMessage("Cannot find any changed classes for hot replace!");const s=i.changedClasses.length;e.show(`$(check)${s} changed class${s>1?"es are":" is"} reloaded`,5e3)}))}(n)}))))),t.subscriptions.push(c.instrumentOperationAsVsCodeCommand("java.debug.runJavaFile",(e=>r(this,void 0,void 0,(function*(){yield A(e,!0)}))))),t.subscriptions.push(c.instrumentOperationAsVsCodeCommand("java.debug.debugJavaFile",(e=>r(this,void 0,void 0,(function*(){yield A(e,!1)}))))),t.subscriptions.push(c.instrumentOperationAsVsCodeCommand("java.debug.runFromProjectView",(e=>r(this,void 0,void 0,(function*(){yield O(e,!0)}))))),t.subscriptions.push(c.instrumentOperationAsVsCodeCommand("java.debug.debugFromProjectView",(e=>r(this,void 0,void 0,(function*(){yield O(e,!1)}))))),h.initializeHotCodeReplace(t),d.initializeCodeLensProvider(t),w.initializeThreadOperations(t),{progressProvider:b.progressProvider}}function A(e,t){return r(this,void 0,void 0,(function*(){const n=b.progressProvider.createProgressReporter(t?"Run":"Debug");try{if(!(yield T.waitForStandardMode(n)))throw new T.OperationCancelledError("");const i=a.window.activeTextEditor;if(!e&&i&&o.endsWith(s.basename(i.document.fileName),".java")&&(e=i.document.uri),!e)throw a.window.showErrorMessage((t?"Run":"Debug")+" failed. Please open a Java file with main method first."),new T.OperationCancelledError("");const c=yield m.resolveMainMethod(e),u=c.length>0,l=yield function(e){return r(this,void 0,void 0,(function*(){const t=e.fsPath;return!!/.*[\/\\]src[\/\\]test[\/\\]java[\/\\].*[Tt]ests?\.java/.test(t)&&(yield a.commands.getCommands()).includes("java.test.editor.run")}))}(e),p="Select the main class to run";if(u||l)if(u&&!l)yield S(c,e,t,n,p);else if(!u&&l)x(e,t,n);else{const r="main() method",i="unit tests",o=yield a.window.showQuickPick([r,i],{placeHolder:"Please select which kind of task you would like to launch"});o===r?yield S(c,e,t,n,p):o===i&&x(e,t,n)}else{n.report("Resolving main class...");const r=yield T.searchMainMethods();if(n.isCancelled())throw new T.OperationCancelledError("");const i=`The file '${s.basename(e.fsPath)}' is not executable, please select a main class you want to run.`;yield S(r,e,t,n,i,!1)}}catch(e){if(n.done(),e instanceof T.OperationCancelledError)return;if(e instanceof T.JavaExtensionNotEnabledError)return void T.guideToInstallJavaExtension();a.window.showErrorMessage(String(e&&e.message||e))}}))}function x(e,t,n){const r=t?"java.test.editor.run":"java.test.editor.debug";if(a.commands.executeCommand(r,e,n),i(function(){const e=a.extensions.getExtension("vscjava.vscode-java-test");return(null==e?void 0:e.packageJSON.version)||"0.0.0"}(),"0.26.1")<=0)throw new T.OperationCancelledError("")}function S(e,t,n,i,o,s=!0){return r(this,void 0,void 0,(function*(){if(!e||!e.length)throw a.window.showErrorMessage("Error: Main method not found in the file, please define the main method as: public static void main(String[] args)"),new T.OperationCancelledError("");_.mainClassPicker.isAutoPicked(e,s)||i.hide(!0);const r=yield _.mainClassPicker.showQuickPickWithRecentlyUsed(e,o,s);if(!r)throw new T.OperationCancelledError("");i.report("Launching main class..."),d.startDebugging(r.mainClass,r.projectName||"",t,n,i)}))}function O(e,t){return r(this,void 0,void 0,(function*(){if(!e||!e.name||!e.uri){a.window.showErrorMessage(`Failed to ${t?"run":"debug"} the project because of invalid project node. This command only applies to Project Explorer view.`);const e=new Error(`Failed to ${t?"run":"debug"} the project because of invalid project node.`);throw c.setUserError(e),e}const n=b.progressProvider.createProgressReporter(t?"Run":"Debug");try{n.report("Resolving main class...");const r=yield T.searchMainMethods(a.Uri.parse(e.uri));if(n.isCancelled())throw new T.OperationCancelledError("");if(!r||!r.length)throw a.window.showErrorMessage(`Failed to ${t?"run":"debug"} this project '${e._nodeData.displayName||e.name}' because it does not contain any main class.`),new T.OperationCancelledError("");_.mainClassPicker.isAutoPicked(r)||n.hide(!0);const i=yield _.mainClassPicker.showQuickPickWithRecentlyUsed(r,"Select the main class to run.");if(!i||n.isCancelled())throw new T.OperationCancelledError("");n.report("Launching main class...");const s=i.projectName,c=i.mainClass,u=i.filePath,l=u?a.workspace.getWorkspaceFolder(a.Uri.file(u)):void 0,p=a.workspace.getConfiguration("launch",l).configurations,f=o.find(p,(e=>e.mainClass===c&&o.toString(e.projectName)===o.toString(s)))||{type:"java",name:`Launch ${c.substr(c.lastIndexOf(".")+1)}`,request:"launch",mainClass:c,projectName:s};f.noDebug=t,f.__progressId=n.getId(),a.debug.startDebugging(l,f)}catch(e){if(n.done(),e instanceof T.OperationCancelledError)return;throw e}}))}t.activate=function(e){return r(this,void 0,void 0,(function*(){return yield c.initializeFromJsonFile(e.asAbsolutePath("./package.json"),{firstParty:!0}),c.instrumentOperation("activation",I)(e)}))},t.deactivate=function(){return r(this,void 0,void 0,(function*(){yield c.dispose()}))}},9332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleHotCodeReplaceCustomEvent=t.initializeHotCodeReplace=t.NO_BUTTON=t.YES_BUTTON=void 0;const r=n(7549),i=n(6515),o=n(5601),s=n(9573),a=new Set;t.YES_BUTTON="Yes",t.NO_BUTTON="No";const c="Do not show again";var u;function l(){return r.workspace.getConfiguration("java.debug.settings").get("hotCodeReplace")||"manual"}!function(e){e.ERROR="ERROR",e.WARNING="WARNING",e.STARTING="STARTING",e.END="END",e.BUILD_COMPLETE="BUILD_COMPLETE"}(u||(u={})),t.initializeHotCodeReplace=function(e){r.commands.executeCommand("setContext","javaHotReload",l()),r.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration("java.debug.settings.hotCodeReplace")&&r.commands.executeCommand("setContext","javaHotReload",l())})),e.subscriptions.push(r.debug.onDidTerminateDebugSession((e=>{(e?e.type:void 0)===o.JAVA_LANGID&&a.clear()})))},t.handleHotCodeReplaceCustomEvent=function(e){if(e.body.changeType===u.BUILD_COMPLETE&&"auto"===l())return r.window.withProgress({location:r.ProgressLocation.Window},(t=>(t.report({message:"Applying code changes..."}),e.session.customRequest("redefineClasses"))));e.body.changeType!==u.ERROR&&e.body.changeType!==u.WARNING||a.has(e.body.message)||s.showWarningMessageWithTroubleshooting({message:`Hot code replace failed - ${e.body.message}. Would you like to restart the debug session?`,anchor:i.FAILED_TO_COMPLETE_HCR},t.YES_BUTTON,t.NO_BUTTON,c).then((n=>{n===c?a.add(e.body.message):n===t.YES_BUTTON&&r.commands.executeCommand("workbench.action.debug.restart")}))}},3969:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initializeHoverProvider=void 0;const i=n(7549),o=n(6800),s=n(5601),a=n(6147),c=n(9567),u="java.debug.runHover",l=/^(public|static|final|synchronized|\s+){4,}void\s+main\s*\(\s*String\s*\[\s*\]\s*\w+\s*\)\s*($|\{)/;t.initializeHoverProvider=function(){return new p};class p{constructor(){this.runHoverCommand=o.instrumentOperationAsVsCodeCommand(u,((e,t,n)=>r(this,void 0,void 0,(function*(){const r=yield c.resolveElementAtSelection(t,n.line,n.character);r&&r.hasMainMethod?a.startDebugging(r.declaringType,r.projectName,i.Uri.parse(t),e):i.window.showErrorMessage("The hovered element is not a main method.")})))),this.hoverProvider=i.languages.registerHoverProvider(s.JAVA_LANGID,new f)}dispose(){this.runHoverCommand&&this.runHoverCommand.dispose(),this.hoverProvider&&this.hoverProvider.dispose()}}class f{provideHover(e,t,n){const r=e.getWordRangeAtPosition(t,/\w+/);if(!r||"main"!==e.getText(r))return;const o=e.lineAt(t);if(l.test(o.text.trim())&&this.isMainMethod(o.text.trim())){const n=[{title:"Run",command:u,tooltip:"Run Java Program",arguments:[!0,e.uri.toString(),{line:t.line,character:t.character}]},{title:"Debug",command:u,tooltip:"Debug Java Program",arguments:[!1,e.uri.toString(),{line:t.line,character:t.character}]}],r=new i.MarkdownString(n.map((e=>this.convertCommandToMarkdown(e))).join(" | "));return r.isTrusted=!0,new i.Hover(r)}}isMainMethod(e){const t=e.substring(0,e.indexOf("main")).split(/\s+/);return t.indexOf("public")>=0&&t.indexOf("static")>=0}convertCommandToMarkdown(e){return`[${e.title}](command:${e.command}?${encodeURIComponent(JSON.stringify(e.arguments||[]))} "${e.tooltip||e.command}")`}}},9543:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.JavaDebugAdapterDescriptorFactory=void 0;const i=n(7549),o=n(9567),s=n(5473),a=n(9573);t.JavaDebugAdapterDescriptorFactory=class{createDebugAdapterDescriptor(e,t){return r(this,void 0,void 0,(function*(){let e;try{const e=yield o.startDebugSession();if(e)return new i.DebugAdapterServer(e);console.log("Cannot find a port for debugging session")}catch(t){e=t}const t=e?a.convertErrorToMessage(e):{type:s.Type.EXCEPTION,message:"Failed to start debug server."};a.showErrorMessageWithTroubleshooting(t)}))}}},3391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logJavaInfo=t.logJavaException=void 0;const r=n(6800);t.logJavaException=function(e){const{debugSessionId:t,description:n,message:i,stackTrace:o}=e;r.sendOperationError(t,"debugSession",{name:"JavaException",message:n||i,stack:o})},t.logJavaInfo=function(e,t){t&&void 0!==t.duration?r.sendInfo(e.debugSessionId,e,t):r.sendInfo(e.debugSessionId,e)}},9567:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSourceUri=t.resolveClassFilters=t.fetchPlatformSettings=t.resolveJavaExecutable=t.isOnClasspath=t.resolveBuildFiles=t.resolveElementAtSelection=t.detectPreviewFlag=t.checkProjectSettings=t.inferLaunchCommandLength=t.validateLaunchConfig=t.resolveMainClass=t.resolveClasspath=t.startDebugSession=t.resolveMainMethod=t.CompileWorkspaceStatus=void 0;const i=n(5049);function o(e,t,n,r){return i.executeJavaLanguageServerCommand(i.JAVA_CHECK_PROJECT_SETTINGS,JSON.stringify({className:e,projectName:t,inheritedOptions:n,expectedOptions:r}))}var s;(s=t.CompileWorkspaceStatus||(t.CompileWorkspaceStatus={}))[s.FAILED=0]="FAILED",s[s.SUCCEED=1]="SUCCEED",s[s.WITHERROR=2]="WITHERROR",s[s.CANCELLED=3]="CANCELLED",t.resolveMainMethod=function(e,t){return r(this,void 0,void 0,(function*(){return t?yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINMETHOD,e.toString(),t):yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINMETHOD,e.toString())}))},t.startDebugSession=function(){return i.executeJavaLanguageServerCommand(i.JAVA_START_DEBUGSESSION)},t.resolveClasspath=function(e,t){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_CLASSPATH,e,t)},t.resolveMainClass=function(e){return e?i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINCLASS,e.toString()):i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINCLASS)},t.validateLaunchConfig=function(e,t,n,r){return i.executeJavaLanguageServerCommand(i.JAVA_VALIDATE_LAUNCHCONFIG,r?r.toString():void 0,e,t,n)},t.inferLaunchCommandLength=function(e){return i.executeJavaLanguageServerCommand(i.JAVA_INFER_LAUNCH_COMMAND_LENGTH,JSON.stringify(e))},t.checkProjectSettings=o,t.detectPreviewFlag=function(e,t){return r(this,void 0,void 0,(function*(){return o(e,t,!0,{"org.eclipse.jdt.core.compiler.problem.enablePreviewFeatures":"enabled"})}))},t.resolveElementAtSelection=function(e,t,n){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_ELEMENT_AT_SELECTION,e,t,n)},t.resolveBuildFiles=function(){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_BUILD_FILES)},t.isOnClasspath=function(e){return r(this,void 0,void 0,(function*(){try{return yield i.executeJavaExtensionCommand(i.JAVA_IS_ON_CLASSPATH,e)}catch(e){return!0}}))},t.resolveJavaExecutable=function(e,t){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_JAVAEXECUTABLE,e,t)},t.fetchPlatformSettings=function(){return i.executeJavaLanguageServerCommand(i.JAVA_FETCH_PLATFORM_SETTINGS)},t.resolveClassFilters=function(e){return r(this,void 0,void 0,(function*(){return yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_CLASSFILTERS,...e)}))},t.resolveSourceUri=function(e){return r(this,void 0,void 0,(function*(){return yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_SOURCE_URI,e)}))}},6908:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getJavaVersion=t.addMoreHelpfulVMArgs=t.validateRuntimeCompatibility=t.getShortenApproachForCLI=void 0;const i=n(3129),o=n(5747),s=n(6486),a=n(5622),c=n(6515),u=n(9567),l=n(9573);var p;!function(e){e.none="none",e.jarmanifest="jarmanifest",e.argfile="argfile"}(p||(p={}));const f="-XX:+ShowCodeDetailsInExceptionMessages";function d(e){e.startsWith("1.")&&(e=e.substring(2));const t=/\d+/g.exec(e);let n=0;return t&&(n=parseInt(t[0],10)),n}function h(e){const t=e.env||{};return s.isEmpty(t)?0:Object.keys(t).map((e=>v(e)+v(t[e])+1)).reduce(((e,t)=>e+t))}function v(e){return e?e.length:0}function g(){return"linux"===process.platform?129024:Number.MAX_SAFE_INTEGER}t.getShortenApproachForCLI=function(e,t){return r(this,void 0,void 0,(function*(){const n=t<=8?p.jarmanifest:p.argfile;return(yield function(e){return r(this,void 0,void 0,(function*(){const t=yield u.inferLaunchCommandLength(e),n=e.classPaths||[],r=e.modulePaths||[],i=n.join(a.delimiter).length,o=r.join(a.delimiter).length;return e.console&&"internalConsole"!==e.console?n.length>1||r.length>1:t>=function(e){return"win32"===process.platform?30720:"darwin"===process.platform?262144-h(e)-2048:"linux"===process.platform?2097152-h(e)-2048:Number.MAX_SAFE_INTEGER}(e)||i>=g()||o>=g()}))}(e))?n:p.none}))},t.validateRuntimeCompatibility=function(e){return r(this,void 0,void 0,(function*(){try{const t=yield u.fetchPlatformSettings();t&&t.latestSupportedJavaVersion&&d(t.latestSupportedJavaVersion)<e&&l.showWarningMessageWithTroubleshooting({message:'The compiled classes are not compatible with the runtime JDK. To mitigate the issue, please refer to "Learn More".',anchor:c.UNSUPPORTED_CLASS_VERSION_ERROR})}catch(e){}}))},t.addMoreHelpfulVMArgs=function(e,t){return r(this,void 0,void 0,(function*(){try{if(t>=14){if(e.vmArgs&&e.vmArgs.indexOf(f)>=0)return;e.vmArgs=(e.vmArgs||"")+" "+f}}catch(e){}}))},t.getJavaVersion=function(e){return r(this,void 0,void 0,(function*(){e=e||a.join(yield l.getJavaHome(),"bin","java");let t=yield function(e){return r(this,void 0,void 0,(function*(){if(!e)return 0;const t=a.join(e,"release");if(!(yield o.existsSync(t)))return 0;try{const e=o.readFileSync(t),n=/^JAVA_VERSION="(.*)"/gm.exec(e.toString());return n?d(n[1]):0}catch(e){}return 0}))}(a.resolve(e,"..",".."));return t||(t=yield function(e){return r(this,void 0,void 0,(function*(){return e?new Promise((t=>{i.execFile(e,["-version"],{},((e,n,r)=>{const i=/version "(.*)"/g.exec(r);if(!i)return t(0);const o=d(i[1]);t(o)}))})):0}))}(e)),t}))}},5473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.Type=void 0;const r=n(5747),i=n(4398);var o;!function(e){e.EXCEPTION="exception",e.USAGEDATA="usageData",e.USAGEERROR="usageError",e.ACTIVATEEXTENSION="activateExtension"}(o=t.Type||(t.Type={}));const s=["message","stacktrace","detailmessage"];t.logger=new class{constructor(){this.reporter=null}initialize(e,t){if(this.reporter)return;const n=JSON.parse(r.readFileSync(e.asAbsolutePath("./package.json"),"utf-8"));if(n){const e=n.aiKey instanceof Array?n.aiKey[0]:n.aiKey,r={name:n.name,version:n.version,aiKey:e};r.aiKey&&(this.reporter=new i.default(r.name,r.version,r.aiKey,t))}}log(e,t,n){this.reporter&&(e===o.EXCEPTION||e===o.USAGEERROR?this.reporter.sendTelemetryErrorEvent(e,t,n,s):this.reporter.sendTelemetryEvent(e,t,n))}logMessage(e,t){this.log(e,{message:t})}dispose(){this.reporter&&this.reporter.dispose()}}},8922:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.mainClassPicker=void 0;const i=n(6486),o=n(5622),s=n(7549),a=e=>e.mainClass;t.mainClassPicker=new class{constructor(){this.cache={}}showQuickPick(e,t,n,i){return r(this,void 0,void 0,(function*(){let r=a,c=!0;if("function"==typeof n?r=n:"boolean"==typeof n&&(c=n),"boolean"==typeof i&&(c=i),!e||!e.length)return;if(c&&1===e.length)return e[0];const u=e.map((e=>({label:r(e),description:e.filePath?o.basename(e.filePath):"",detail:e.projectName?`Project: ${e.projectName}`:"",data:e}))),l=yield s.window.showQuickPick(u,{placeHolder:t});return l?l.data:void 0}))}showQuickPickWithRecentlyUsed(e,t,n,c){return r(this,void 0,void 0,(function*(){let r=a,u=!0;if("function"==typeof n?r=n:"boolean"==typeof n&&(u=n),"boolean"==typeof c&&(u=c),!e||!e.length)return;if(u&&1===e.length)return e[0];e.sort(((e,t)=>this.getMRUTimestamp(t)-this.getMRUTimestamp(e)));const l=e.length&&this.contains(e[0])?e[0]:void 0,p=e=>!!l&&l.mainClass===e.mainClass&&l.projectName===e.projectName,f=e=>{const t=s.window.activeTextEditor,n=i.get(t,"document.uri.fsPath");return!(!e.filePath||!n)&&""===o.relative(e.filePath,n)},d=e=>p(e)||f(e),h=[];e.forEach((e=>{d(e)&&h.push(e)})),e.forEach((e=>{d(e)||h.push(e)}));const v=h.map((e=>{const t=[];p(e)&&t.push("$(clock) recently used"),f(e)&&e.filePath&&t.push(`$(file-text) active editor (${o.basename(e.filePath)})`),e.projectName&&t.push(`Project: ${e.projectName}`);const n=t.join(", ");return{label:r?r(e):a(e),description:e.filePath?o.basename(e.filePath):"",detail:n,data:e}})),g=yield s.window.showQuickPick(v,{placeHolder:t});return g?(this.updateMRUTimestamp(g.data),g.data):void 0}))}isAutoPicked(e,t){const n=void 0===t||!!t;return!e||!e.length||!(!n||1!==e.length)}getMRUTimestamp(e){return this.cache[this.getKey(e)]||0}updateMRUTimestamp(e){this.cache[this.getKey(e)]=Date.now()}contains(e){return Boolean(this.cache[this.getKey(e)])}getKey(e){return e.mainClass+"|"+e.projectName}}},2878:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveJavaProcess=t.pickJavaProcess=void 0;const i=n(5622),o=n(7549),s=n(6909),a=/(?:java|javaw|j9|j9w)$/i,c=/(-agentlib|-Xrunjdwp):\S*(address=[^\s,]+)/i;function u(e,t,n){"win32"===process.platform&&0===t.indexOf("\\??\\")&&(t=t.replace("\\??\\",""));const r=i.basename(t,".exe");if(a.test(r)&&n){const r=n.match(c);if(r&&r.length){const o=r[2].split("=")[1].split(":"),s=o.length>1?o[0]:"127.0.0.1",a=parseInt(o[o.length-1],10),c=i.basename(t),u=i.dirname(t);return{pid:e,command:"bin"===i.basename(u)?i.join(i.basename(i.dirname(u)),"bin",c):c,args:n,hostName:s,debugPort:a}}}}t.pickJavaProcess=function(){return r(this,void 0,void 0,(function*(){const e=[];try{yield s.getProcesses(((t,n,r,i,o)=>{const s=u(t,r,i);s&&e.push(s)}))}catch(e){throw new Error("Process picker failed: "+e)}if(!e.length)throw new Error("Process picker: Cannot find any debuggable Java process. Please make sure to use vmArgs like '-agentlib:jdwp=transport=dt_socket,server=y,address=5005' to turn on debug mode when you start your program.");const t=e.map((e=>({label:e.command,description:e.args,detail:`process id: ${e.pid}, debug port: ${e.debugPort}`,process:e}))),n=yield o.window.showQuickPick(t,{placeHolder:"Pick Java process to attach to"});if(n)return n.process}))},t.resolveJavaProcess=function(e){return r(this,void 0,void 0,(function*(){const t=yield s.getProcessTree(e);if(t&&t.pid===e)return u(t.pid,t.command,t.args)}))}},6909:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getProcesses=t.getProcessTree=t.ProcessTreeNode=void 0;const i=n(3129),o=n(5622);class s{constructor(e,t,n,r){this.pid=e,this.ppid=t,this.command=n,this.args=r}}function a(e){function t(e){let t="";return n=>{const r=n.toString().split(/\r?\n/),i=r.slice(0,r.length-1);i[0]=t+i[0],t=r[r.length-1];for(const t of i)e(t)}}return new Promise(((n,r)=>{var s,a,c,u,l,p,f,d;let h;if("win32"===process.platform){const n=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/,r=o.join(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");h=i.spawn(r,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"]),null===(s=h.stdout)||void 0===s||s.setEncoding("utf8"),null===(a=h.stdout)||void 0===a||a.on("data",t((t=>{let r=n.exec(t.trim());if(r&&5===r.length){const t=Number(r[4]),n=Number(r[3]),i=Number(r[2]);let o=r[1].trim();if(!isNaN(t)&&!isNaN(n)&&o){let r=o;if('"'===o[0]){const e=o.indexOf('"',1);e>0&&(r=o.substr(1,e-1),o=o.substr(e+2))}else{const e=o.indexOf(" ");e>0?(r=o.substr(0,e),o=o.substr(e+1)):o=""}e(t,n,r,o,i)}}})))}else"darwin"===process.platform?(h=i.spawn("/bin/ps",["-x","-o",`pid,ppid,comm=${"a".repeat(256)},command`]),null===(c=h.stdout)||void 0===c||c.setEncoding("utf8"),null===(u=h.stdout)||void 0===u||u.on("data",t((t=>{const n=Number(t.substr(0,5)),r=Number(t.substr(6,5)),i=t.substr(12,256).trim(),o=t.substr(269+i.length);isNaN(n)||isNaN(r)||e(n,r,i,o)})))):(h=i.spawn("/bin/ps",["-ax","-o","pid,ppid,comm:20,command"]),null===(l=h.stdout)||void 0===l||l.setEncoding("utf8"),null===(p=h.stdout)||void 0===p||p.on("data",t((t=>{const n=Number(t.substr(0,5)),r=Number(t.substr(6,5));let i=t.substr(12,20).trim(),o=t.substr(33),s=o.indexOf(i);if(s>=0){for(s+=i.length;s<o.length&&" "!==o[s];)s++;i=o.substr(0,s),o=o.substr(s+1)}isNaN(n)||isNaN(r)||e(n,r,i,o)}))));h.on("error",(e=>{r(e)})),null===(f=h.stderr)||void 0===f||f.setEncoding("utf8"),null===(d=h.stderr)||void 0===d||d.on("data",(e=>{e.toString().indexOf("screen size is bogus")>=0||r(new Error(e.toString()))})),h.on("close",((e,t)=>{0===e?n():e>0&&r(new Error(`process terminated with exit code: ${e}`)),t&&r(new Error(`process terminated with signal: ${t}`))})),h.on("exit",((e,t)=>{"number"==typeof e&&(0===e||e>0&&r(new Error(`process terminated with exit code: ${e}`))),t&&r(new Error(`process terminated with signal: ${t}`))}))}))}t.ProcessTreeNode=s,t.getProcessTree=function(e){return r(this,void 0,void 0,(function*(){const t=new Map;t.set(0,new s(0,0,"???",""));try{yield a(((e,n,r,i)=>{e!==n&&t.set(e,new s(e,n,r,i))}))}catch(e){return}const n=t.values();for(const e of n){const n=t.get(e.ppid);n&&n!==e&&(n.children||(n.children=[]),n.children.push(e))}return!isNaN(e)&&e>0?t.get(e):t.get(0)}))},t.getProcesses=a},7743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.progressProvider=void 0;const r=n(2277),i=n(7549),o="java.show.server.task.status";class s{constructor(e,t,n){this._id=r.v4(),this._cancellable=!1,this._tokenSource=new i.CancellationTokenSource,this._disposables=[],this._jobName=e,this._progressLocation=t||i.ProgressLocation.Notification,this._cancellable=n,i.workspace.getConfiguration("java").silentNotification&&this._progressLocation===i.ProgressLocation.Notification&&(this._progressLocation=i.ProgressLocation.Window),this._progressLocation===i.ProgressLocation.Window&&(this._statusBarItem=i.window.createStatusBarItem(i.StatusBarAlignment.Left,1),this._statusBarItem.text=`$(sync~spin) ${this._jobName}...`,this._statusBarItem.command={title:"Check Java Build Status",command:o,arguments:[]},this._statusBarItem.tooltip="Check Java Build Status",this._disposables.push(this._statusBarItem)),this._cancelProgressEventEmitter=new i.EventEmitter,this._progressEventEmitter=new i.EventEmitter,this._disposables.push(this._cancelProgressEventEmitter),this._disposables.push(this._progressEventEmitter),this._disposables.push(this._tokenSource)}getId(){return this._id}report(e,t){if(this._statusBarItem){const t=e?`${this._jobName} - ${e}`:`${this._jobName}...`;this._statusBarItem.text=`$(sync~spin) ${t}`}this._message=e,this._increment=t,this._progressEventEmitter.fire(),this.show()}show(){this._statusBarItem?this._statusBarItem.show():this.showNativeProgress()}hide(e){e&&this._progressLocation===i.ProgressLocation.Notification&&(this._cancelProgressEventEmitter.fire(),this._isShown=!1)}isCancelled(){return this.getCancellationToken().isCancellationRequested}done(){var e;this._tokenSource.cancel(),this._cancelProgressEventEmitter.fire(),null===(e=this._statusBarItem)||void 0===e||e.hide(),this._disposables.forEach((e=>e.dispose())),t.progressProvider.remove(this)}getCancellationToken(){return this._tokenSource.token}observe(e){null==e||e.onCancellationRequested((()=>{this.done()}))}showNativeProgress(){this._isShown||(this._isShown=!0,i.window.withProgress({location:this._progressLocation,title:this._jobName?`[${this._jobName}](command:${o})`:void 0,cancellable:this._cancellable},((e,t)=>(e.report({message:this._message,increment:this._increment}),this.observe(t),this._progressEventEmitter.event((()=>{e.report({message:this._message,increment:this._increment})})),new Promise((e=>{this._cancelProgressEventEmitter.event((()=>{e(!0)}))}))))))}}t.progressProvider=new class{constructor(){this.store={}}createProgressReporter(e,t,n){const r=new s(e,t||i.ProgressLocation.Notification,void 0===n||!!n);return this.store[r.getId()]=r,r}getProgressReporter(e){return this.store[e]}remove(e){delete this.store[e.getId()]}}},1386:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.JavaTerminalLinkProvder=void 0;const i=n(7549),o=n(9567);t.JavaTerminalLinkProvder=class{provideTerminalLinks(e,t){if("Java Debug Console"!==e.terminal.name&&"Java Process Console"!==e.terminal.name)return[];const n=new RegExp("(\\sat\\s+)([\\w$\\.]+\\/)?(([\\w$]+\\.)+[<\\w$>]+)\\(([\\w-$]+\\.java:\\d+)\\)").exec(e.line);if(n&&n.length){const e=`${n[2]||""}${n[3]}(${n[5]})`,t=Number(n[5].split(":")[1]);return[{startIndex:n.index+n[1].length,length:e.length,methodName:n[3],stackTrace:e,lineNumber:t}]}return[]}handleTerminalLink(e){return r(this,void 0,void 0,(function*(){const t=yield o.resolveSourceUri(e.stackTrace);if(t){const n=Math.max(e.lineNumber-1,0);i.window.showTextDocument(i.Uri.parse(t),{preserveFocus:!0,selection:new i.Range(new i.Position(n,0),new i.Position(n,0))})}else{const t=e.methodName.substring(0,e.methodName.lastIndexOf(".")),n=t.substring(t.lastIndexOf(".")+1);i.commands.executeCommand("workbench.action.quickOpen","#"+n)}}))}}},7982:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initializeThreadOperations=void 0;const i=n(7549),o=n(6800);function s(e,t){return r(this,void 0,void 0,(function*(){const n=i.debug.activeDebugSession;n&&(n.configuration.noDebug||(yield n.customRequest(e,{threadId:t})))}))}t.initializeThreadOperations=function(e){e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.continueAll",(e=>r(this,void 0,void 0,(function*(){yield s("continueAll",e)}))))),e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.continueOthers",(e=>r(this,void 0,void 0,(function*(){yield s("continueOthers",e)}))))),e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.pauseAll",(e=>r(this,void 0,void 0,(function*(){yield s("pauseAll",e)}))))),e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.pauseOthers",(e=>r(this,void 0,void 0,(function*(){yield s("pauseOthers",e)})))))}},9573:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.searchMainMethodsWithProgress=t.searchMainMethods=t.waitForStandardMode=t.ServerMode=t.getLauncherScriptPath=t.isJavaExtActivated=t.isJavaExtEnabled=t.getJavaExtension=t.getJavaExtensionAPI=t.getJavaHome=t.convertErrorToMessage=t.guideToInstallJavaExtension=t.openTroubleshootingPage=t.showErrorMessageWithTroubleshooting=t.showWarningMessageWithTroubleshooting=t.showInformationMessageWithTroubleshooting=t.showErrorMessage=t.showWarningMessage=t.showInformationMessage=t.OperationCancelledError=t.JavaExtensionNotEnabledError=t.UserError=void 0;const i=n(5622),o=n(7549),s=n(6800),a=n(9567),c=n(5473),u="https://github.com/Microsoft/vscode-java-debug/blob/master/Troubleshooting.md",l="Learn More",p="redhat.java";class f extends Error{constructor(e){super(e.message),this.context=e,s.setUserError(this)}}t.UserError=f;class d extends Error{constructor(e){super(e),s.setUserError(this)}}t.JavaExtensionNotEnabledError=d;class h extends Error{constructor(e){super(e)}}function v(e){if(e.type){if(e.type===c.Type.EXCEPTION||e.type===c.Type.USAGEERROR){const t={name:"error",message:e.message,stack:e.stack};e.type===c.Type.USAGEERROR&&s.setUserError(t),s.sendError(t)}else s.sendInfo("",{message:e.message});c.logger.log(e.type,{message:e.message,stack:e.stack||""})}}function g(e,...t){return r(this,void 0,void 0,(function*(){return v(e),o.window.showInformationMessage(e.message,...t)}))}function m(e,...t){return r(this,void 0,void 0,(function*(){return v(e),o.window.showWarningMessage(e.message,...t)}))}function y(e,...t){return r(this,void 0,void 0,(function*(){return v(e),o.window.showErrorMessage(e.message,...t)}))}function _(e,t,n){if(t!==l)return t;E(e,n)}function E(e,t){o.commands.executeCommand("vscode.open",o.Uri.parse(t?`${u}#${t}`:u)),s.sendInfo("",{troubleshooting:"yes",troubleshootingMessage:e}),c.logger.log(c.Type.USAGEDATA,{troubleshooting:"yes",troubleshootingMessage:e})}function b(e){const t=o.extensions.getExtension(p);if(!t)throw new d("VS Code Java Extension is not enabled.");return new Promise((n=>r(this,void 0,void 0,(function*(){null==e||e.getCancellationToken().onCancellationRequested((()=>{n(void 0)})),n(yield t.activate())}))))}var C;t.OperationCancelledError=h,t.showInformationMessage=g,t.showWarningMessage=m,t.showErrorMessage=y,t.showInformationMessageWithTroubleshooting=function(e,...t){return r(this,void 0,void 0,(function*(){const n=yield g(e,...t,l);return _(e.message,n,e.anchor)}))},t.showWarningMessageWithTroubleshooting=function(e,...t){return r(this,void 0,void 0,(function*(){const n=yield m(e,...t,l);return _(e.message,n,e.anchor)}))},t.showErrorMessageWithTroubleshooting=function(e,...t){return r(this,void 0,void 0,(function*(){const n=yield y(e,...t,l);return _(e.message,n,e.anchor)}))},t.openTroubleshootingPage=E,t.guideToInstallJavaExtension=function(){return r(this,void 0,void 0,(function*(){const e="Install";(yield o.window.showWarningMessage("Language Support for Java is required. Please install and enable it.",e))===e&&(yield function(){return r(this,void 0,void 0,(function*(){yield o.window.withProgress({location:o.ProgressLocation.Notification},(e=>r(this,void 0,void 0,(function*(){e.report({message:"Installing Language Support for Java ..."}),yield o.commands.executeCommand("workbench.extensions.installExtension",p)}))));const e="Reload Window";(yield o.window.showInformationMessage("Please reload window to activate Language Support for Java.",e))===e&&(yield o.commands.executeCommand("workbench.action.reloadWindow"))}))}())}))},t.convertErrorToMessage=function(e){const t=function(e){const t=e&&e.data&&e.data.cause||{stackTrace:e&&e.stack,detailMessage:String(e&&e.message||e||"Unknown exception")},n={message:"",stackTrace:""};return t&&"object"==typeof t?(n.message=t.detailMessage,n.stackTrace=Array.isArray(t.stackTrace)&&JSON.stringify(t.stackTrace)||String(t.stackTrace)):n.message=String(t),n}(e);return{type:c.Type.EXCEPTION,message:t.message,stack:t.stackTrace}},t.getJavaHome=function(){return r(this,void 0,void 0,(function*(){const e=yield b();return e&&e.javaRequirement?e.javaRequirement.java_home:""}))},t.getJavaExtensionAPI=b,t.getJavaExtension=function(){return o.extensions.getExtension(p)},t.isJavaExtEnabled=function(){return!!o.extensions.getExtension(p)},t.isJavaExtActivated=function(){const e=o.extensions.getExtension(p);return!!e&&e.isActive},t.getLauncherScriptPath=function(){const e=o.extensions.getExtension("vscjava.vscode-java-debug");return i.join(e.extensionPath,"scripts","launcher.bat")},function(e){e.STANDARD="Standard",e.LIGHTWEIGHT="LightWeight",e.HYBRID="Hybrid"}(C=t.ServerMode||(t.ServerMode={})),t.waitForStandardMode=function(e){return r(this,void 0,void 0,(function*(){(yield function(){var e;return r(this,void 0,void 0,(function*(){const t=o.extensions.getExtension(p);if(!t)return!1;const n=o.workspace.getConfiguration().get("java.server.launchMode")||C.HYBRID;if(n===C.STANDARD||n===C.HYBRID){const n=yield o.commands.getCommands();return!t.isActive&&n.includes("java.show.server.task.status")||t.isActive&&(null===(e=t.exports)||void 0===e?void 0:e.serverMode)===C.HYBRID}return!1}))}())&&e.report("Importing projects...");const t=yield b(e);return!!t&&(t&&t.serverMode===C.LIGHTWEIGHT?"Yes"===(yield o.window.showInformationMessage("Run/Debug feature requires Java language server to run in Standard mode. Do you want to switch it to Standard mode now?","Yes","Cancel"))&&(t.serverMode===C.STANDARD||(null==e||e.report("Importing projects..."),new Promise((n=>{e.getCancellationToken().onCancellationRequested((()=>{n(!1)})),t.onDidServerModeChange((e=>{e===C.STANDARD&&n(!0)})),o.commands.executeCommand("java.server.mode.switch",C.STANDARD,!0)})))):!t||t.serverMode!==C.HYBRID||(e.report("Importing projects..."),new Promise((n=>{e.getCancellationToken().onCancellationRequested((()=>{n(!1)})),t.onDidServerModeChange((e=>{e===C.STANDARD&&n(!0)}))}))))}))},t.searchMainMethods=function(e){return r(this,void 0,void 0,(function*(){return a.resolveMainClass(e)}))},t.searchMainMethodsWithProgress=function(e){return r(this,void 0,void 0,(function*(){try{return yield o.window.withProgress({location:o.ProgressLocation.Window},(t=>r(this,void 0,void 0,(function*(){return t.report({message:"Searching main classes..."}),a.resolveMainClass(e)}))))}catch(e){throw o.window.showErrorMessage(String(e&&e.message||e)),e}}))}},2277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>C,parse:()=>m,stringify:()=>p,v1:()=>g,v3:()=>_,v4:()=>E,v5:()=>b,validate:()=>u,version:()=>w});var r=n(6417),i=n.n(r);const o=new Uint8Array(256);let s=o.length;function a(){return s>o.length-16&&(i().randomFillSync(o),s=0),o.slice(s,s+=16)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(e){return"string"==typeof e&&c.test(e)},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).substr(1));const p=function(e,t=0){const n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n};let f,d,h=0,v=0;const g=function(e,t,n){let r=t&&n||0;const i=t||new Array(16);let o=(e=e||{}).node||f,s=void 0!==e.clockseq?e.clockseq:d;if(null==o||null==s){const t=e.random||(e.rng||a)();null==o&&(o=f=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==s&&(s=d=16383&(t[6]<<8|t[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:v+1;const l=c-h+(u-v)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||c>h)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,v=u,d=s,c+=122192928e5;const g=(1e4*(268435455&c)+u)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=255&g;const m=c/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(let e=0;e<6;++e)i[r+e]=o[e];return t||p(i)},m=function(e){if(!u(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function y(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=m(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),s=n(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(let e=0;e<16;++e)i[o+e]=s[e];return i}return p(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const _=y("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()})),E=function(e,t,n){const r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return p(r)},b=y("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()})),C="00000000-0000-0000-0000-000000000000",w=function(e){if(!u(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},3384:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.EventName||(t.EventName={})).ERROR="error",i.INFO="info",i.OPERATION_START="opStart",i.OPERATION_END="opEnd",i.OPERATION_STEP="opStep",(r=t.ErrorCodes||(t.ErrorCodes={})).NO_ERROR=0,r.GENERAL_ERROR=1,(n=t.ErrorType||(t.ErrorType={})).USER_ERROR="userError",n.SYSTEM_ERROR="systemError",t.DimensionEntries=["operationId","operationName","errorCode","errorType","message","stack","stepName"],t.MeasurementEntries=["duration"]},6800:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(5747),o=n(4844),s=n(7549),a=n(4398),c=n(3384);let u,l=!1;const p={},f=[c.EventName.ERROR,c.EventName.OPERATION_END,c.EventName.OPERATION_STEP],d=["message","stack"];function h(e,t,n,r){if(u)throw new Error("TelemetryReporter already initialized.");if(n){const i=r&&r.firstParty;u=n instanceof Array?n.map((n=>new a.default(e,t,n,i))):[new a.default(e,t,n,i)]}l=!(!r||!r.debug)}function v(e,t,n){return(...i)=>r(this,void 0,void 0,(function*(){let r;const o=E(),s=Date.now();try{return m(o,e),yield t.apply(n,[o,...i])}catch(t){r=t,_(o,e,t)}finally{const t=Date.now()-s;y(o,e,t,r)}}))}function g(e,t,n){return v(e,((e,...i)=>r(this,void 0,void 0,(function*(){return yield t.apply(n,i)}))),n)}function m(e,t){C({eventName:c.EventName.OPERATION_START,operationId:e,operationName:t})}function y(e,t,n,r){C(Object.assign({eventName:c.EventName.OPERATION_END,operationId:e,operationName:t,duration:n},b(r)))}function _(e,t,n){C(Object.assign({eventName:c.EventName.ERROR,operationId:e,operationName:t},b(n)))}function E(){return o()}function b(e){if(!e)return{errorCode:c.ErrorCodes.NO_ERROR};const t=e;return{errorCode:t.errorCode||c.ErrorCodes.GENERAL_ERROR,errorType:t.isUserError?c.ErrorType.USER_ERROR:c.ErrorType.SYSTEM_ERROR,message:e.message,stack:e.stack}}function C(e){if(!u)return;const t={};for(const n of c.DimensionEntries){const r=e[n];void 0!==r&&(t[n]=String(r))}const n={};for(const t of c.MeasurementEntries){const r=e[t];void 0!==r&&(n[t]=r)}w(e.eventName,t,n)}function w(e,t,n){e in f?u.forEach((r=>{r.sendTelemetryErrorEvent(e,t,n,d)})):u.forEach((r=>{r.sendTelemetryEvent(e,t,n)})),l&&console.log(e,{eventName:e,dimensions:t,measurements:n})}t.initializeFromJsonFile=function(e,t){return r(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{i.exists(e,(o=>{if(o){const{publisher:r,name:o,version:s,aiKey:a}=JSON.parse(i.readFileSync(e,"utf-8"));return h(`${r}.${o}`,s,a,t),n()}return r(new Error(`The Json file '${e}' does not exist.`))}))}))}))},t.initialize=h,t.setUserError=function(e){e.isUserError=!0},t.setErrorCode=function(e,t){e.errorCode=t},t.instrumentOperation=v,t.instrumentSimpleOperation=g,t.instrumentOperationAsVsCodeCommand=function(e,t,n){return s.commands.registerCommand(e,g(e,t,n))},t.sendOperationStart=m,t.sendOperationEnd=y,t.sendError=function(e){C(Object.assign({eventName:c.EventName.ERROR},b(e)))},t.sendOperationError=_,t.sendInfo=function(e,t,n){let r,i;if(n)r=t,i=n;else{r=Object.assign({},p),i={};for(const e in t)"string"==typeof t[e]?r[e]=t[e]:"number"==typeof t[e]&&(i[e]=t[e])}w(c.EventName.INFO,Object.assign(Object.assign({},r),{operationId:e}),i)},t.instrumentOperationStep=function(e,t,n){return(...i)=>r(this,void 0,void 0,(function*(){let r;const o=Date.now();try{return yield n(...i)}catch(e){throw r=e,e}finally{C(Object.assign({eventName:c.EventName.OPERATION_STEP,operationId:e,stepName:t,duration:Date.now()-o},b(r)))}}))},t.createUuid=E,t.dispose=function(){return r(this,void 0,void 0,(function*(){if(u)return yield Promise.all(u.map((e=>e.dispose())))}))},t.addContextProperty=function(e,t){p[e]=t}},1554:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},9337:(e,t,n)=>{var r=n(6417);e.exports=function(){return r.randomBytes(16)}},4844:(e,t,n)=>{var r=n(9337),i=n(1554);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},4398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var r=n(5747),i=n(2087),o=n(5622),s=n(7549),a=n(9574),c=function(){function e(e,t,n,i){var a=this;this.extensionId=e,this.extensionVersion=t,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!i;var c=process.env.VSCODE_LOGS||"";c&&e&&"trace"===process.env.VSCODE_LOG_LEVEL&&(c=o.join(c,e+".txt"),this.logStream=r.createWriteStream(c,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(n),this.configListener=s.workspace.onDidChangeConfiguration((function(){return a.updateUserOptIn(n)}))}return e.prototype.updateUserOptIn=function(t){var n=s.workspace.getConfiguration(e.TELEMETRY_CONFIG_ID);this.userOptIn!==n.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0)&&(this.userOptIn=n.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0),this.userOptIn?this.createAppInsightsClient(t):this.dispose())},e.prototype.createAppInsightsClient=function(e){a.defaultClient?(this.appInsightsClient=new a.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(a.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=a.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),s&&s.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=s.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=s.env.sessionId),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1",this.firstParty=!0)},e.prototype.getCommonProperties=function(){var e=Object.create(null);if(e["common.os"]=i.platform(),e["common.platformversion"]=(i.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,s&&s.env){switch(e["common.vscodemachineid"]=s.env.machineId,e["common.vscodesessionid"]=s.env.sessionId,e["common.vscodeversion"]=s.version,s.env.uiKind){case s.UIKind.Web:e["common.uikind"]="web";break;case s.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(s.env.remoteName)}return e},e.prototype.cleanRemoteName=function(e){if(!e)return"none";var t="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((function(n){0===e.indexOf(n+"+")&&(t=n)})),t},e.prototype.shouldSendErrorTelemetry=function(){return!this.firstParty||"other"!==this.cleanRemoteName(s.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==s.ExtensionKind.Workspace&&s.env.uiKind!==s.UIKind.Web},Object.defineProperty(e.prototype,"extension",{get:function(){return void 0===this._extension&&(this._extension=s.extensions.getExtension(this.extensionId)),this._extension},enumerable:!0,configurable:!0}),e.prototype.cloneAndChange=function(e,t){if(null===e||"object"!=typeof e)return e;if("function"!=typeof t)return e;var n={};for(var r in e)n[r]=t(r,e[r]);return n},e.prototype.anonymizeFilePaths=function(e,t){if(null==e)return"";var n=[new RegExp(s.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var r=e;if(t){for(var i=[],o=0,a=n;o<a.length;o++)for(var c=a[o];;){var u=c.exec(e);if(!u)break;i.push([u.index,c.lastIndex])}var l=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,p=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,f=0;r="";for(var d=function(){var t=p.exec(e);if(!t)return"break";!l.test(t[0])&&i.every((function(e){var n=e[0],r=e[1];return t.index<n||t.index>=r}))&&(r+=e.substring(f,t.index)+"<REDACTED: user-file-path>",f=p.lastIndex)};"break"!==d(););f<e.length&&(r+=e.substr(f))}for(var h=0,v=n;h<v.length;h++)c=v[h],r=r.replace(c,"");return r},e.prototype.sendTelemetryEvent=function(e,t,n){var r=this;if(this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e,t){return r.anonymizeFilePaths(t,r.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:i,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.sendTelemetryErrorEvent=function(e,t,n,r){var i=this;if(this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e,t){return i.shouldSendErrorTelemetry()?i.anonymizeFilePaths(t,i.firstParty):void 0===r||-1!==r.indexOf(e)?"REDACTED":i.anonymizeFilePaths(t,i.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:o,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.sendTelemetryException=function(e,t,n){var r=this;if(this.shouldSendErrorTelemetry()&&this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e,t){return r.anonymizeFilePaths(t,r.firstParty)}));this.appInsightsClient.trackException({exception:e,properties:i,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e.name+" "+e.message+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.dispose=function(){var e=this;this.configListener.dispose();var t=new Promise((function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()})),n=new Promise((function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)}));return Promise.all([n,t])},e.TELEMETRY_CONFIG_ID="telemetry",e.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",e}();t.default=c},2357:e=>{"use strict";e.exports=require("assert")},7303:e=>{"use strict";e.exports=require("async_hooks")},3129:e=>{"use strict";e.exports=require("child_process")},7082:e=>{"use strict";e.exports=require("console")},7619:e=>{"use strict";e.exports=require("constants")},6417:e=>{"use strict";e.exports=require("crypto")},881:e=>{"use strict";e.exports=require("dns")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},2282:e=>{"use strict";e.exports=require("module")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")},8213:e=>{"use strict";e.exports=require("timers")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},7549:e=>{"use strict";e.exports=require("vscode")},8761:e=>{"use strict";e.exports=require("zlib")}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(112)})();
//# sourceMappingURL=extension.js.map