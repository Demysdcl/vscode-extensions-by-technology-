"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var vscode=require("vscode"),util=require("util"),util__default=_interopDefault(util),net=require("net"),net__default=_interopDefault(net),path=require("path"),fs=require("fs"),fs__default=_interopDefault(fs),http2=_interopDefault(require("http2")),tls=_interopDefault(require("tls")),dns=_interopDefault(require("dns")),os=_interopDefault(require("os")),http=_interopDefault(require("http")),url=_interopDefault(require("url")),zlib=_interopDefault(require("zlib")),events=_interopDefault(require("events")),stream=_interopDefault(require("stream")),LogVerbosity;!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(LogVerbosity||(LogVerbosity={}));class Logger{constructor(e){this.prefix=e,this.verbosity=LogVerbosity.INFO}setLogVerbosity(e){this.verbosity=e}log(e,t){if(!this.channel)throw new Error("No extension output channel defined.");this.appendLine(this.format(e,t),t)}appendLine(e,t){var r;t>=this.verbosity&&(null===(r=this.channel)||void 0===r||r.appendLine(e))}append(e,t){var r;t>=this.verbosity&&(null===(r=this.channel)||void 0===r||r.append(e))}format(e,t){return`[${LogVerbosity[t].toLowerCase()}]${this.prefix?` [${this.prefix}]`:""} ${e}`}info(...e){this.log(e.join(" "),LogVerbosity.INFO)}warning(...e){this.log(e.join(" "),LogVerbosity.WARNING)}error(...e){this.log(e.join(" "),LogVerbosity.ERROR)}debug(...e){this.log(e.join(" "),LogVerbosity.DEBUG)}getChannel(){return this.channel}setLoggingChannel(e){if(this.channel)throw new Error("Output channel already defined.");this.channel=e}reset(){this.channel=void 0}}class LoggerStream{constructor(e,t){this.logger=e,this.verbosity=t,this.buffer=""}write(e){const t=new util.TextDecoder("utf-8").decode(e),r=this.buffer.length?t:this.logger.format(t.trimLeft(),this.verbosity);this.buffer+=t,this.append(r)}append(e){this.logger.append(e,this.verbosity)}getBuffer(){return this.buffer}}const logger=new Logger,isTest=()=>{var e;return"true"===(null===(e=process.env.VSCODE_TEST)||void 0===e?void 0:e.toLowerCase())},isDebuggingServer=()=>{var e;return"true"===(null===(e=process.env.VSCODE_DEBUG_SERVER)||void 0===e?void 0:e.toLowerCase())},maximumTimeout=12e4,tcpTimeout=300;function tcpExists(e,t){return new Promise(r=>{const o=net.connect(t,e).on("error",()=>{r(!1)}).on("timeout",()=>{o.end(),r(!1)}).on("connect",()=>{o.end(),r(!0)});o.setTimeout(tcpTimeout)})}async function tryConnect(e,t,r){if(!await tcpExists(e,t)){if(Date.now()-r>=maximumTimeout)throw new Error("Unable to wait on tcp due to maxmium timeout reached");await tryConnect(e,t,r)}}function waitOnTcp(e,t){return tryConnect(e,t,Date.now())}function isGradleRootProject(e){return fs.existsSync(path.join(e.getProjectUri().fsPath,"gradlew"))||fs.existsSync(path.join(e.getProjectUri().fsPath,"gradlew.bat"))}function isWorkspaceFolder(e){return e&&"number"!=typeof e}class Locked extends Error{constructor(e){super(e+" is locked")}}const lockedPorts={old:new Set,young:new Set},releaseOldLockedPortsIntervalMs=15e3;let interval;const getAvailablePort=e=>new Promise((t,r)=>{const o=net__default.createServer();o.unref(),o.on("error",r),o.listen(e,()=>{const{port:e}=o.address();o.close(()=>{t(e)})})}),portCheckSequence=function*(e){e&&(yield*e),yield 0};var getPort=async e=>{let t;e&&(t="number"==typeof e.port?[e.port]:e.port),void 0===interval&&(interval=setInterval(()=>{lockedPorts.old=lockedPorts.young,lockedPorts.young=new Set},releaseOldLockedPortsIntervalMs),interval.unref&&interval.unref());for(const r of portCheckSequence(t))try{let t=await getAvailablePort({...e,port:r});for(;lockedPorts.old.has(t)||lockedPorts.young.has(t);){if(0!==r)throw new Locked(r);t=await getAvailablePort({...e,port:r})}return lockedPorts.young.add(t),t}catch(e){if(!(["EADDRINUSE","EACCES"].includes(e.code)||e instanceof Locked))throw e}throw new Error("No available ports found")},makeRange=(e,t)=>{if(!Number.isInteger(e)||!Number.isInteger(t))throw new TypeError("`from` and `to` must be integer numbers");if(e<1024||e>65535)throw new RangeError("`from` must be between 1024 and 65535");if(t<1024||t>65536)throw new RangeError("`to` must be between 1024 and 65536");if(t<e)throw new RangeError("`to` must be greater than or equal to `from`");return function*(e,t){for(let r=e;r<=t;r++)yield r}(e,t)};getPort.makeRange=makeRange;const NL="\n",CR="\r",nlRegExp=new RegExp(`${NL}([^${CR}])`,"g");class GradleRunnerTerminal{constructor(e,t,r){this.rootProject=e,this.args=t,this.cancellationKey=r,this.writeEmitter=new vscode.EventEmitter,this.closeEmitter=new vscode.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.onDidClose=this.closeEmitter.event,this.handleOutput=e=>{const t=e.getOutputBytes_asU8();t.length&&(isTest()&&this.stdOutLoggerStream.write(t),this.write(new util.TextDecoder("utf-8").decode(t)))},this.stdOutLoggerStream=new LoggerStream(logger,LogVerbosity.INFO)}open(){this.runBuild()}setTask(e){this.task=e}close(){this.task&&isTaskRunning(this.task)&&this.cancelCommand()}async startJavaDebug(e){try{await waitOnTcp("localhost",e);if(!await vscode.debug.startDebugging(this.rootProject.getWorkspaceFolder(),{type:"java",name:"Debug (Attach) via Gradle Tasks",request:"attach",hostName:"localhost",port:e}))throw new Error("The debugger was not started")}catch(e){logger.error("Unable to start Java debugging:",e.message),this.close()}}async runBuild(){const e=!!this.task&&this.task.definition.javaDebug;try{const t=e?await getPort():0,r=Extension.getInstance().getClient().runBuild(this.rootProject.getProjectUri().fsPath,this.cancellationKey,this.args,"",t,this.task,this.handleOutput,!0);e&&await this.startJavaDebug(t),await r}catch(e){this.handleError(e)}finally{this.closeEmitter.fire()}}cancelCommand(){vscode.commands.executeCommand(COMMAND_CANCEL_BUILD,this.cancellationKey,this.task)}handleError(e){this.write(e.details||e.message)}handleInput(e){""===e&&this.cancelCommand()}write(e){const t=e.replace(nlRegExp,NL+CR+"$1");this.writeEmitter.fire(t)}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?r.path:t)}},r.exports),r.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var o=e.length,n=0;n<o;n++){var s=e[n];if(t.call(r,s,n,e))return{i:n,v:s}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==commonjsGlobal&&null!=commonjsGlobal?commonjsGlobal:e},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(e,t,r,o){if(t){for(r=$jscomp.global,e=e.split("."),o=0;o<e.length-1;o++){var n=e[o];n in r||(r[n]={}),r=r[n]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var o=e.length;0<o&&0<t;)if(r[--t]!=e[--o])return!1;return 0>=o}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var o=r.length,n=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var s=0;s<n&&t<o;)if(r[t++]!=e[s++])return!1;return s>=n}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED$1=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)!e.length&&goog.isDef(t)?r[o]=t:r=r[o]&&r[o]!==Object.prototype[o]?r[o]:r[o]={}},goog.define=function(e,t){return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,o){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED$1,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var o=goog.moduleLoaderState_.moduleName;if(!goog.isString(o)||!o)throw Error('Invalid module name "'+o+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[o]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var o=goog.global.$jscomp;o||(goog.global.$jscomp=o={});var n=o.transpile;if(!n){var s=goog.basePath+goog.TRANSPILER,i=goog.loadFileSync_(s);if(i){if(function(){(0,eval)(i+"\n//# sourceURL="+s)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,n=(o=goog.global.$jscomp).transpile}}return n||(n=o.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),n(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,o),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},o=function(e){e=e.split("-");for(var t=[],o=0;o<e.length;o++)t.push(r(e[o]));return t.join("-")};return o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:o:function(e){return e},e=t?e+"-"+o(t):o(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,o){for(var n=Array(arguments.length-2),s=2;s<arguments.length;s++)n[s-2]=arguments[s];return t.prototype[r].apply(e,n)}},goog.base=function(e,t,r){var o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==o.superClass_){for(var n=Array(arguments.length-1),s=1;s<arguments.length;s++)n[s-1]=arguments[s];return o.superClass_.constructor.apply(e,n)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(n=Array(arguments.length-2),s=2;s<arguments.length;s++)n[s-2]=arguments[s];s=!1;for(var i=e.constructor.prototype;i;i=Object.getPrototypeOf(i))if(i[t]===o)s=!0;else if(s)return i[t].apply(e,n);if(e[t]===o)return e.constructor.prototype[t].apply(e,n);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,t){var r=t.constructor,o=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=o&&(o instanceof Function?o(r):goog.defineClass.applyProperties_(r,o)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),o=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===o&&r&&Object.seal instanceof Function&&Object.seal(t),t};return o},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",o=(e=e.split("%s")).length-1,n=0;n<o;n++)r+=e[n]+(n<t.length?t[n]:"%s");return r+e[o]},goog.asserts.doAssertFailure_=function(e,t,r,o){var n="Assertion failed";if(r){n+=": "+r;var s=o}else e&&(n+=": "+e,s=t);e=new goog.asserts.AssertionError(""+n,s||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,o){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)s in n&&t.call(r,n[s],s,e)},goog.array.forEachRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(--o;0<=o;--o)o in n&&t.call(r,n[o],o,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=[],s=0,i=goog.isString(e)?e.split(""):e,a=0;a<o;a++)if(a in i){var l=i[a];t.call(r,l,a,e)&&(n[s++]=l)}return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=Array(o),s=goog.isString(e)?e.split(""):e,i=0;i<o;i++)i in s&&(n[i]=t.call(r,s[i],i,e));return n},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),o&&(t=goog.bind(t,o)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEach(e,(function(r,s){n=t.call(o,n,r,s,e)})),n},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),o&&(t=goog.bind(t,o)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEachRight(e,(function(r,s){n=t.call(o,n,r,s,e)})),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in n&&t.call(r,n[s],s,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in n&&!t.call(r,n[s],s,e))return!1;return!0},goog.array.count=function(e,t,r){var o=0;return goog.array.forEach(e,(function(e,n,s){t.call(r,e,n,s)&&++o}),r),o},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in n&&t.call(r,n[s],s,e))return s;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(--o;0<=o;o--)if(o in n&&t.call(r,n[o],o,e))return o;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var o;2==arguments.length||0>(o=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,o)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var o=0;return goog.array.forEachRight(e,(function(n,s){t.call(r,n,s,e)&&goog.array.removeAt(e,s)&&o++})),o},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var o=arguments[r];if(goog.isArrayLike(o)){var n=e.length||0,s=o.length||0;e.length=n+s;for(var i=0;i<s;i++)e[n+i]=o[i]}else e.push(o)}},goog.array.splice=function(e,t,r,o){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var o=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||o,o={};for(var n=0,s=0;s<e.length;){var i=e[s++],a=r(i);Object.prototype.hasOwnProperty.call(o,a)||(o[a]=!0,t[n++]=i)}t.length=n},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,o,n){for(var s,i=0,a=e.length;i<a;){var l=i+a>>1,g=r?t.call(n,e[l],l,e):t(o,e[l]);0<g?i=l+1:(a=l,s=!g)}return s?i:~i},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]={index:o,value:e[o]};var n=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return n(e.value,t.value)||e.index-t.index})),o=0;o<e.length;o++)e[o]=r[o].value},goog.array.sortByKey=function(e,t,r){var o=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return o(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var o=1;o<e.length;o++){var n=t(e[o-1],e[o]);if(0<n||0==n&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var o=e.length;r=r||goog.array.defaultCompareEquality;for(var n=0;n<o;n++)if(!r(e[n],t[n]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var o=Math.min(e.length,t.length),n=0;n<o;n++){var s=r(e[n],t[n]);if(0!=s)return s}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var o={},n=0;n<e.length;n++){var s=e[n],i=t.call(r,s,n,e);goog.isDef(i)&&(o[i]||(o[i]=[])).push(s)}return o},goog.array.toObject=function(e,t,r){var o={};return goog.array.forEach(e,(function(n,s){o[t.call(r,n,s,e)]=n})),o},goog.array.range=function(e,t,r){var o=[],n=0,s=e;if(void 0!==t&&(n=e,s=t),0>(r=r||1)*(s-n))return[];if(0<r)for(e=n;e<s;e+=r)o.push(e);else for(e=n;e>s;e+=r)o.push(e);return o},goog.array.repeat=function(e,t){for(var r=[],o=0;o<t;o++)r[o]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var o=arguments[r];if(goog.isArray(o))for(var n=0;n<o.length;n+=8192){var s=goog.array.slice(o,n,n+8192);s=goog.array.flatten.apply(null,s);for(var i=0;i<s.length;i++)t.push(s[i])}else t.push(o)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,o=1;o<arguments.length;o++)arguments[o].length<r&&(r=arguments[o].length);for(o=0;o<r;o++){for(var n=[],s=0;s<arguments.length;s++)n.push(arguments[s][o]);t.push(n)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var o=Math.floor(t()*(r+1)),n=e[r];e[r]=e[o],e[o]=n}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);255<n&&(t[r++]=255&n,n>>=8),t[r++]=n}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var o=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,o)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);128>n?t[r++]=n:(2048>n?t[r++]=n>>6|192:(55296==(64512&n)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++o)),t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,o=0;r<e.length;){var n=e[r++];if(128>n)t[o++]=String.fromCharCode(n);else if(191<n&&224>n){var s=e[r++];t[o++]=String.fromCharCode((31&n)<<6|63&s)}else if(239<n&&365>n){s=e[r++];var i=e[r++];n=((7&n)<<18|(63&s)<<12|(63&i)<<6|63&e[r++])-65536,t[o++]=String.fromCharCode(55296+(n>>10)),t[o++]=String.fromCharCode(56320+(1023&n))}else s=e[r++],i=e[r++],t[o++]=String.fromCharCode((15&n)<<12|(63&s)<<6|63&i)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],o=0;o<e.length;o++)r.push(e[o]^t[o]);return r},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var o=Math.max(e.length,t.length),n=0;0==r&&n<o;n++){var s=e[n]||"",i=t[n]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],0==s[0].length&&0==i[0].length)break;r=0==s[1].length?0:parseInt(s[1],10);var a=0==i[1].length?0:parseInt(i[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(0==s[2].length,0==i[2].length)||goog.string.internal.compareElements_(s[2],i[2]),s=s[3],i=i[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\ud801\ud804-\ud839\ud83c-\udbff豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\ud802-\ud803\ud83a-\ud83bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,o=0,n=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var s=e[t];goog.i18n.bidi.startsWithRtl(s)?(r++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?n=!0:goog.i18n.bidi.hasAnyLtr(s)?o++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(n=!0)}return 0==o?n?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),o=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",o,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,o){if(!Object.prototype.hasOwnProperty.call(t,o))throw Error('Found marker, "'+o+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[o])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,o){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,o)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var o in r){var n=r[o];n=goog.isArray(n)?n:[n];for(var s=0;s<n.length;s++){var i=n[s];null!=i&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(o)+"="+encodeURIComponent(String(i)))}}return t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var o=e[t];null!=o&&(r+=t+":"+(o=goog.isArray(o)?goog.array.map(o,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(o))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,o=0;o<e.length;o++){var n=e.charAt(o);"'"==n&&r?t=!t:'"'==n&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,o=0;o<e.length;o++){var n=e.charAt(o);if("]"==n){if(t)return!1;t=!0}else if("["==n){if(!t)return!1;t=!1}else if(!t&&!r.test(n))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,o){var n="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return n=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+n+e+n+o}))},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],o=1;o<arguments.length;o++)r.push(goog.html.SafeScript.stringify_(arguments[o]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var o in e)t.call(r,e[o],o,e)},goog.object.filter=function(e,t,r){var o,n={};for(o in e)t.call(r,e[o],o,e)&&(n[o]=e[o]);return n},goog.object.map=function(e,t,r){var o,n={};for(o in e)n[o]=t.call(r,e[o],o,e);return n},goog.object.some=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return!0;return!1},goog.object.every=function(e,t,r){for(var o in e)if(!t.call(r,e[o],o,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],o=0;for(t in e)r[o++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],o=0;for(t in e)r[o++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),o=r?t:arguments;for(r=r?0:1;r<o.length;r++){if(null==e)return;e=e[o[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return o},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,o,n=1;n<arguments.length;n++){for(r in o=arguments[n])e[r]=o[r];for(var s=0;s<goog.object.PROTOTYPE_FIELDS_.length;s++)r=goog.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},o=0;o<t;o+=2)r[arguments[o]]=arguments[o+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},o=0;o<t;o++)r[arguments[o]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var o={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var n=Object.getOwnPropertyNames(e),s=0;s<n.length;s++)o[n[s]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(o)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],o=0;o<e.length;o++){var n=e[o];if(t[n])r.push(t[n]);else if(goog.object.contains(t,n)&&r.pop()!=n)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,o=[];t=r.exec(e);)o.push([t[1],t[2],t[3]||void 0]);return o},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,o),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var o=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,o){e&&goog.html.TrustedResourceUrl.unwrap(e);var n={};return n.src=e||null,n.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(n,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,o){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var n={};return n.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,n.srcdoc=t||null,n.sandbox="",e=goog.html.SafeHtml.combineAttributes(n,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var o=r.toLowerCase();if("language"==o||"src"==o||"text"==o||"type"==o)throw Error('Cannot set "'+o+'" attribute')}for(r="",e=goog.array.concat(e),o=0;o<e.length;o++)r+=goog.html.SafeScript.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var o=0;o<e.length;o++)r+=goog.html.SafeStyleSheet.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,o){return(t=goog.html.SafeHtml.create(t,r,o)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),o=[],n=function(e){goog.isArray(e)?goog.array.forEach(e,n):(e=goog.html.SafeHtml.htmlEscape(e),o.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var o=null,n="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),n+=">"):(o=goog.html.SafeHtml.concat(r),n+=">"+goog.html.SafeHtml.unwrap(o)+"</"+e+">",o=o.getDirection()),(e=t&&t.dir)&&(o=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,o)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var o in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(o))throw Error('Invalid attribute name "'+o+'".');var n=t[o];goog.isDefAndNotNull(n)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,o,n))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var o,n={};for(o in e)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),n[o]=e[o];for(o in t)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),n[o]=t[o];for(o in r){var s=o.toLowerCase();if(s in e)throw Error('Cannot override "'+s+'" attribute, got "'+o+'" with value "'+r[o]+'"');s in t&&delete n[s],n[o]=r[o]}return n},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,o=r.length;return function(){var e;o&&(e=r[o-1].apply(this,arguments));for(var t=o-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,o=0;o<r;o++)e=t[o].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var o=0;return function(n){goog.global.clearTimeout(o);var s=arguments;o=goog.global.setTimeout((function(){e.apply(r,s)}),t)}},goog.functions.throttle=function(e,t,r){var o=0,n=!1,s=[],i=function(){o=0,n&&(n=!1,a())},a=function(){o=goog.global.setTimeout(i,t),e.apply(r,s)};return function(e){s=arguments,o?n=!0:a()}},goog.functions.rateLimit=function(e,t,r){var o=0,n=function(){o=0};return function(s){o||(o=goog.global.setTimeout(n,t),e.apply(r,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,o,n){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",o,n)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),o="",n=Array.prototype.slice.call(arguments,1);n.length&&1<r.length;)o+=r.shift()+n.shift();return o+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(r),n=t.toLowerCase().match(r),s=Math.min(o.length,n.length),i=0;i<s;i++){r=o[i];var a=n[i];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return o.length!=n.length?o.length-n.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},o=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var n=r[e];return n||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(n=String.fromCharCode(t))),n||(goog.dom.safe.setInnerHtml(o,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),n=o.firstChild.nodeValue.slice(0,-1)),r[e]=n)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,o=0;o<r;o++){var n=1==r?t:t.charAt(o);if(e.charAt(0)==n&&e.charAt(e.length-1)==n)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,o){if(r&&(e=goog.string.unescapeEntities(e)),o&&e.length>t){o>t&&(o=t);var n=e.length-o;e=e.substring(0,t-o)+"..."+e.substring(n)}else e.length>t&&(o=Math.floor(t/2),n=e.length-o,e=e.substring(0,o+t%2)+"..."+e.substring(n));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var o=e.charAt(r),n=o.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[o]||(31<n&&127>n?o:goog.string.escapeChar(o))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var o=e;return 0<=t&&t<e.length&&0<r&&(o=e.substr(0,t)+e.substr(t+r,e.length-t-r)),o},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var o=[];0<r&&e.length;)o.push(e.shift()),r--;return e.length&&o.push(e.join(t)),o},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,o=0;o<t.length;o++)if(""!=t[o]){var n=e.lastIndexOf(t[o]);n>r&&(r=n)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],o=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var n=0;n<t.length+1;n++)r[n]=n;for(n=0;n<e.length;n++){o[0]=n+1;for(var s=0;s<t.length;s++)o[s+1]=Math.min(o[s]+1,r[s+1]+1,r[s]+Number(e[n]!=t[s]));for(s=0;s<r.length;s++)r[s]=o[s]}return o[t.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,o){return o=o?o(t):t,Object.prototype.hasOwnProperty.call(e,o)?e[o]:e[o]=r(t)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],o=0;o<e.length;o+=3){var n=e[o],s=o+1<e.length,i=s?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,g=n>>2;n=(3&n)<<4|i>>4,i=(15&i)<<2|l>>6,l&=63,a||(l=64,s||(i=64)),r.push(t[g],t[n],t[i]||"",t[l]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var o=new Uint8Array(r),n=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){o[n++]=e})),o.subarray(0,n)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;o<e.length;){var r=e.charAt(o++),n=goog.crypt.base64.charToByteMap_[r];if(null!=n)return n;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var o=0;;){var n=r(-1),s=r(0),i=r(64),a=r(64);if(64===a&&-1===n)break;t(n<<2|s>>4),64!=i&&(t(s<<4&240|i>>2),64!=a&&t(i<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var o=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=o;for(var n=0;n<o.length;n++){var s=o[n],i=goog.crypt.base64.charToByteMap_[s];void 0===i?goog.crypt.base64.charToByteMap_[s]=n:goog.asserts.assert(i===n)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var o=0;if(2<=(r=e))for(;2<=r&&1023>o;)o++,r/=2;else for(;1>r&&-1022<o;)r*=2,o--;e=(r=e*Math.pow(2,-o))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|o+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),n=e.charCodeAt(3),s=e.charCodeAt(4),i=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(o<<16)+(n<<24)>>>0,jspb.utils.split64High=s+(i<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var o=t>>31;return r(e<<1^o,(t<<1|e>>>31)^o)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var o=-(1&e);return r((e>>>1|t<<31)^o,t>>>1^o)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,o=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==o?e?NaN:1/0*r:0==o?r*Math.pow(2,-1074)*e:r*Math.pow(2,o-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+(jspb.BinaryConstants.TWO_TO_32*t+e);var o=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*o+6710656*(t=t>>16&65535),o+=8147497*t,t*=2,1e7<=e&&(o+=Math.floor(e/1e7),e%=1e7),1e7<=o&&(t+=Math.floor(o/1e7),o%=1e7),r(t,0)+r(o,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=jspb.utils.hash64ToDecimalString(e[o],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*o[r]+t,o[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var o=[0,0,0,0,0,0,0,0],n=0;n<e.length;n++)t(10,e.charCodeAt(n)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)o[e]=255&~o[e]}(),t(1,1)),goog.crypt.byteArrayToString(o)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var o=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(o>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&o)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*o+n)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var o=0,n=t;n<r;n++)o+=e[n]>>7;return r-t-o},jspb.utils.countVarintFields=function(e,t,r,o){var n=0;if(128>(o=8*o+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==o;)for(n++;;){var s=e[t++];if(0==(128&s))break}else for(;t<r;){for(s=o;128<s;){if(e[t]!=(127&s|128))return n;t++,s>>=7}if(e[t++]!=s)break;for(n++;0!=(128&(s=e[t++])););}return n},jspb.utils.countFixedFields_=function(e,t,r,o,n){var s=0;if(128>o)for(;t<r&&e[t++]==o;)s++,t+=n;else for(;t<r;){for(var i=o;128<i;){if(e[t++]!=(127&i|128))return s;i>>=7}if(e[t++]!=i)break;s++,t+=n}return s},jspb.utils.countFixed32Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,o){var n=0;for(o=8*o+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var s=o;128<s;){if(e[t++]!=(127&s|128))return n;s>>=7}if(e[t++]!=s)break;n++;for(var i=0,a=1;i+=(127&(s=e[t++]))*a,a*=128,0!=(128&s););t+=i}return n},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(255<o)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=o}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||"undefined"!=typeof Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var o=jspb.BinaryDecoder.instanceCache_.pop();return e&&o.setBlock(e,t,r),o}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,o=0,n=0;4>n&&128<=t;n++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*n;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,o|=(127&t)>>4),128<=t)for(n=0;5>n&&128<=t;n++)o|=(127&(t=this.bytes_[this.cursor_++]))<<7*n+3;if(128>t)return e(r>>>0,o>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var o=0,n=0,s=r+7;s>=r;s--)o=o<<8|t[s],n=n<<8|t[s+4];return e(o,n)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|o<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|o<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var o=[],n="";r<e;){var s=t[r++];if(128>s)o.push(s);else{if(192>s)continue;if(224>s){var i=t[r++];o.push((31&s)<<6|63&i)}else if(240>s){i=t[r++];var a=t[r++];o.push((15&s)<<12|(63&i)<<6|63&a)}else if(248>s){s=(7&s)<<18|(63&(i=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],s-=65536,o.push(55296+(s>>10&1023),56320+(1023&s))}}8192<=o.length&&(n+=String.fromCharCode.apply(null,o),o.length=0)}return n+=goog.crypt.byteArrayToString(o),this.cursor_=r,n},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],o=e[t+1],n=e[t+2],s=e[t+3],i=e[t+4],a=e[t+5],l=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,o,n,s,i,a,l,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var o=jspb.BinaryReader.instanceCache_.pop();return e&&o.decoder_.setBlock(e,t,r),o}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o,this.decoder_.setEnd(o),t(e,this),this.decoder_.setCursor(o),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var o=this.map_[t[e]];(r=o.valueWrapper)&&r.toArray(),this.arr_.push([o.key,o.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),o=[],n=0;n<r.length;n++){var s=this.map_[r[n][0].toString()];this.wrapEntry_(s);var i=s.valueWrapper;i?(goog.asserts.assert(t),o.push([s.key,t(e,i)])):o.push([s.key,s.value])}return o},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var o=0;o<e.length;o++){var n=e[o][0],s=r(e[o][1]);t.set(n,s)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var o=this.map_[t[r]];e.push([o.key,o.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var o=this.map_[t[r]];e.push([o.key,this.wrapEntry_(o)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var o=0;o<r.length;o++){var n=this.map_[r[o]];e.call(t,this.wrapEntry_(n),n.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,o,n){var s=this.stringKeys_();s.sort();for(var i=0;i<s.length;i++){var a=this.map_[s[i]];t.beginSubMessage(e),r.call(t,1,a.key),this.valueCtor_?o.call(t,2,this.wrapEntry_(a),n):o.call(t,2,a.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,o,n,s,i){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?s=r.call(t):2==a&&(e.valueCtor_?(goog.asserts.assert(n),i||(i=new e.valueCtor_),o.call(t,i,n)):i=o.call(t))}goog.asserts.assert(null!=s),goog.asserts.assert(null!=i),e.set(s,i)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,o,n){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=o,this.isRepeated=n},jspb.ExtensionFieldBinaryInfo=function(e,t,r,o,n,s){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=o,this.binaryMessageDeserializeFn=n,this.isPacked=s},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,o,n,s){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,o),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=n),n)for(t=0;t<n.length;t++)(r=n[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(s&&s.length)for(t=0;t<s.length;t++)jspb.Message.computeOneofCase(e,s[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:goog.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,o=-1;if(r&&(o=r-1,r=e.array[o],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,o),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,o+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var o=[],n=0;n<e.length;n++)o[n]=t.call(e[n],r,e[n]);return o},jspb.Message.toObjectExtension=function(e,t,r,o,n){for(var s in r){var i=r[s],a=o.call(e,i);if(null!=a){for(var l in i.fieldName)if(i.fieldName.hasOwnProperty(l))break;t[l]=i.toObjectFn?i.isRepeated?jspb.Message.toObjectList(a,i.toObjectFn,n):i.toObjectFn(n,a):a}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,o){for(var n in r){var s=r[n],i=s.fieldInfo;if(!s.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=o.call(e,i);if(null!=a)if(i.isMessageType()){if(!s.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");s.binaryWriterFn.call(t,i.fieldIndex,a,s.binaryMessageSerializeFn)}else s.binaryWriterFn.call(t,i.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(e,t,r,o,n){var s=r[t.getFieldNumber()];if(s){if(r=s.fieldInfo,!s.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var i=new r.ctor;s.binaryReaderFn.call(t,i,s.binaryMessageDeserializeFn)}else i=s.binaryReaderFn.call(t);r.isRepeated&&!s.isPacked?(t=o.call(e,r))?t.push(i):n.call(e,r,[i]):n.call(e,r,i)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=+r[o];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=!!r[o];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var n=jspb.Message.getField(e,t);if(!n){if(r)return;n=[],jspb.Message.setField(e,t,n)}return e.wrappers_[t]=new jspb.Map(n,o)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),r!==o?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=o?t.splice(o,0,r):t.push(r),e},jspb.Message.setOneofField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==o&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,o)},jspb.Message.computeOneofCase=function(e,t){for(var r,o,n=0;n<t.length;n++){var s=t[n],i=jspb.Message.getField(e,s);null!=i&&(r=s,o=i,jspb.Message.setField(e,s,void 0))}return r?(jspb.Message.setField(e,r,o),r):0},jspb.Message.getWrapperField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var n=jspb.Message.getField(e,r);(o||n)&&(e.wrappers_[r]=new t(n))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var o=jspb.Message.getRepeatedField(e,r),n=[],s=0;s<o.length;s++)n[s]=new t(o[s]);e.wrappers_[r]=n}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)},jspb.Message.setOneofWrapperField=function(e,t,r,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=o?o.toArray():o;return e.wrappers_[t]=o,jspb.Message.setOneofField(e,t,r,n)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var o=[],n=0;n<r.length;n++)o[n]=r[n].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,o,n){jspb.Message.wrapRepeatedField_(e,o,t);var s=e.wrappers_[t];return s||(s=e.wrappers_[t]=[]),r=r||new o,e=jspb.Message.getRepeatedField(e,t),null!=n?(s.splice(n,0,r),e.splice(n,0,r.toArray())):(s.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,o){for(var n={},s=0;s<e.length;s++)n[t.call(e[s])]=r?r.call(e[s],o,e[s]):e[s];return n},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(goog.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var o=[],n=0,s=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(o[0]=e.getJsPbMessageId(),n=1);n<s;n++)jspb.Message.compareFields(r[n],t[n])||(o[n]=t[n]);return new e.constructor(o)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,o={};for(r in e)o[r]=0;for(r in t)o[r]=0;for(r in o)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var o=void 0,n=void 0,s=Math.max(e.length,t.length);for(r=0;r<s;r++){var i=e[r],a=t[r];if(i&&i.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(r===e.length-1),o=i,i=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(r===t.length-1),n=a,a=void 0),!jspb.Message.compareFields(i,a))return!1}return!o&&!n||(o=o||{},n=n||{},jspb.Message.compareExtensions(o,n))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),o=e.toArray(),n=r.length=0;n<o.length;n++)r[n]=o[n];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(goog.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var o=e[r];null!=o&&(t[r]="object"==typeof o?jspb.Message.clone_(goog.asserts.assert(o)):o)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(o=e[r])&&(t[r]="object"==typeof o?jspb.Message.clone_(goog.asserts.assert(o)):o);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,o=65535&t,n=t>>>16;for(t=r*o+65536*(r*n&65535)+65536*((e>>>=16)*o&65535),r=e*n+(r*n>>>16)+(e*o>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var o=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),o=o.leftShift();for(;!o.zero();)0>=e.cmp(r)&&(t=t.add(o),r=r.sub(e)),e=e.rightShift(),o=o.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),o=0;o<e.length;o++){if("0">e[o]||"9"<e[o])return null;var n=parseInt(e[o],10);r.lo=n,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)this.buffer_.push(o);else if(2048>o)this.buffer_.push(o>>6|192),this.buffer_.push(63&o|128);else if(65536>o)if(55296<=o&&56319>=o&&r+1<e.length){var n=e.charCodeAt(r+1);56320<=n&&57343>=n&&(o=1024*(o-55296)+n-56320+65536,this.buffer_.push(o>>18|240),this.buffer_.push(o>>12&63|128),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128),r++)}else this.buffer_.push(o>>12|224),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,o=0,n=0;n<r;n++){var s=t[n];e.set(s,o),o+=s.length}return t=this.encoder_.end(),e.set(t,o),o+=t.length,goog.asserts.assert(o==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var o=jspb.BinaryConstants.FieldType;switch(e){case o.DOUBLE:this.writeDouble(t,r);break;case o.FLOAT:this.writeFloat(t,r);break;case o.INT64:this.writeInt64(t,r);break;case o.UINT64:this.writeUint64(t,r);break;case o.INT32:this.writeInt32(t,r);break;case o.FIXED64:this.writeFixed64(t,r);break;case o.FIXED32:this.writeFixed32(t,r);break;case o.BOOL:this.writeBool(t,r);break;case o.STRING:this.writeString(t,r);break;case o.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case o.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case o.BYTES:this.writeBytes(t,r);break;case o.UINT32:this.writeUint32(t,r);break;case o.ENUM:this.writeEnum(t,r);break;case o.SFIXED32:this.writeSfixed32(t,r);break;case o.SFIXED64:this.writeSfixed64(t,r);break;case o.SINT32:this.writeSint32(t,r);break;case o.SINT64:this.writeSint64(t,r);break;case o.FHASH64:this.writeFixedHash64(t,r);break;case o.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var o=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,o){if(null!=t)for(var n=0;n<t.length;n++)this.writeSplitFixed64(e,r(t[n]),o(t[n]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,o){if(null!=t)for(var n=0;n<t.length;n++)this.writeSplitVarint64(e,r(t[n]),o(t[n]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,o){if(null!=t)for(var n=0;n<t.length;n++)this.writeSplitZigzagVarint64(e,r(t[n]),o(t[n]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var o=0;o<t.length;o++){var n=this.beginDelimited_(e);r(t[o],this),this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var o=0;o<t.length;o++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[o],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSplitFixed64(r(t[n]),o(t[n]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSplitVarint64(r(t[n]),o(t[n]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var n=this.encoder_,s=0;s<t.length;s++)jspb.utils.toZigzag64(r(t[s]),o(t[s]),(function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var o=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var o=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Export={};var _Map=jspb.Map,Message=jspb.Message,BinaryReader=jspb.BinaryReader,BinaryWriter=jspb.BinaryWriter,ExtensionFieldInfo=jspb.ExtensionFieldInfo,ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exportSymbol=goog.exportSymbol,inherits=goog.inherits,object={extend:goog.object.extend},typeOf=goog.typeOf,googleProtobuf={Map:_Map,Message:Message,BinaryReader:BinaryReader,BinaryWriter:BinaryWriter,ExtensionFieldInfo:ExtensionFieldInfo,ExtensionFieldBinaryInfo:ExtensionFieldBinaryInfo,exportSymbol:exportSymbol,inherits:inherits,object:object,typeOf:typeOf},gradle_pb=createCommonjsModule((function(e,t){var r=googleProtobuf,o=Function("return this")();r.exportSymbol("proto.gradle.CancelBuildReply",null,o),r.exportSymbol("proto.gradle.CancelBuildRequest",null,o),r.exportSymbol("proto.gradle.Cancelled",null,o),r.exportSymbol("proto.gradle.DaemonInfo",null,o),r.exportSymbol("proto.gradle.DaemonInfo.DaemonStatus",null,o),r.exportSymbol("proto.gradle.Environment",null,o),r.exportSymbol("proto.gradle.GetBuildReply",null,o),r.exportSymbol("proto.gradle.GetBuildReply.KindCase",null,o),r.exportSymbol("proto.gradle.GetBuildRequest",null,o),r.exportSymbol("proto.gradle.GetBuildResult",null,o),r.exportSymbol("proto.gradle.GetDaemonsStatusReply",null,o),r.exportSymbol("proto.gradle.GetDaemonsStatusRequest",null,o),r.exportSymbol("proto.gradle.GradleBuild",null,o),r.exportSymbol("proto.gradle.GradleConfig",null,o),r.exportSymbol("proto.gradle.GradleEnvironment",null,o),r.exportSymbol("proto.gradle.GradleProject",null,o),r.exportSymbol("proto.gradle.GradleTask",null,o),r.exportSymbol("proto.gradle.JavaEnvironment",null,o),r.exportSymbol("proto.gradle.Output",null,o),r.exportSymbol("proto.gradle.Output.OutputType",null,o),r.exportSymbol("proto.gradle.Progress",null,o),r.exportSymbol("proto.gradle.RunBuildReply",null,o),r.exportSymbol("proto.gradle.RunBuildReply.KindCase",null,o),r.exportSymbol("proto.gradle.RunBuildRequest",null,o),r.exportSymbol("proto.gradle.RunBuildResult",null,o),r.exportSymbol("proto.gradle.StopDaemonReply",null,o),r.exportSymbol("proto.gradle.StopDaemonRequest",null,o),r.exportSymbol("proto.gradle.StopDaemonsReply",null,o),r.exportSymbol("proto.gradle.StopDaemonsRequest",null,o),proto.gradle.GetBuildRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.GetBuildRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GetBuildRequest.displayName="proto.gradle.GetBuildRequest"),proto.gradle.GetBuildReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.gradle.GetBuildReply.oneofGroups_)},r.inherits(proto.gradle.GetBuildReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GetBuildReply.displayName="proto.gradle.GetBuildReply"),proto.gradle.GetBuildResult=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.GetBuildResult,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GetBuildResult.displayName="proto.gradle.GetBuildResult"),proto.gradle.RunBuildRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.gradle.RunBuildRequest.repeatedFields_,null)},r.inherits(proto.gradle.RunBuildRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.RunBuildRequest.displayName="proto.gradle.RunBuildRequest"),proto.gradle.RunBuildResult=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.RunBuildResult,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.RunBuildResult.displayName="proto.gradle.RunBuildResult"),proto.gradle.RunBuildReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.gradle.RunBuildReply.oneofGroups_)},r.inherits(proto.gradle.RunBuildReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.RunBuildReply.displayName="proto.gradle.RunBuildReply"),proto.gradle.CancelBuildRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.CancelBuildRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildRequest.displayName="proto.gradle.CancelBuildRequest"),proto.gradle.CancelBuildReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.CancelBuildReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildReply.displayName="proto.gradle.CancelBuildReply"),proto.gradle.GetDaemonsStatusRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.GetDaemonsStatusRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GetDaemonsStatusRequest.displayName="proto.gradle.GetDaemonsStatusRequest"),proto.gradle.GetDaemonsStatusReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.gradle.GetDaemonsStatusReply.repeatedFields_,null)},r.inherits(proto.gradle.GetDaemonsStatusReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GetDaemonsStatusReply.displayName="proto.gradle.GetDaemonsStatusReply"),proto.gradle.StopDaemonsRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.StopDaemonsRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonsRequest.displayName="proto.gradle.StopDaemonsRequest"),proto.gradle.StopDaemonsReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.StopDaemonsReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonsReply.displayName="proto.gradle.StopDaemonsReply"),proto.gradle.StopDaemonRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.StopDaemonRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonRequest.displayName="proto.gradle.StopDaemonRequest"),proto.gradle.StopDaemonReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.StopDaemonReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonReply.displayName="proto.gradle.StopDaemonReply"),proto.gradle.DaemonInfo=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.DaemonInfo,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.DaemonInfo.displayName="proto.gradle.DaemonInfo"),proto.gradle.GradleConfig=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.GradleConfig,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GradleConfig.displayName="proto.gradle.GradleConfig"),proto.gradle.GradleBuild=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.GradleBuild,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GradleBuild.displayName="proto.gradle.GradleBuild"),proto.gradle.GradleProject=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.gradle.GradleProject.repeatedFields_,null)},r.inherits(proto.gradle.GradleProject,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GradleProject.displayName="proto.gradle.GradleProject"),proto.gradle.GradleTask=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.GradleTask,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GradleTask.displayName="proto.gradle.GradleTask"),proto.gradle.Cancelled=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.Cancelled,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.Cancelled.displayName="proto.gradle.Cancelled"),proto.gradle.Progress=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.Progress,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.Progress.displayName="proto.gradle.Progress"),proto.gradle.Environment=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.Environment,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.Environment.displayName="proto.gradle.Environment"),proto.gradle.JavaEnvironment=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.gradle.JavaEnvironment.repeatedFields_,null)},r.inherits(proto.gradle.JavaEnvironment,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.JavaEnvironment.displayName="proto.gradle.JavaEnvironment"),proto.gradle.GradleEnvironment=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.GradleEnvironment,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.GradleEnvironment.displayName="proto.gradle.GradleEnvironment"),proto.gradle.Output=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.gradle.Output,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.gradle.Output.displayName="proto.gradle.Output"),googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildRequest.prototype.toObject=function(e){return proto.gradle.GetBuildRequest.toObject(e,this)},proto.gradle.GetBuildRequest.toObject=function(e,t){var r,o={projectDir:googleProtobuf.Message.getFieldWithDefault(t,1,""),cancellationKey:googleProtobuf.Message.getFieldWithDefault(t,2,""),gradleConfig:(r=t.getGradleConfig())&&proto.gradle.GradleConfig.toObject(e,r),showOutputColors:googleProtobuf.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GetBuildRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GetBuildRequest;return proto.gradle.GetBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;case 2:r=t.readString();e.setCancellationKey(r);break;case 3:r=new proto.gradle.GradleConfig;t.readMessage(r,proto.gradle.GradleConfig.deserializeBinaryFromReader),e.setGradleConfig(r);break;case 4:r=t.readBool();e.setShowOutputColors(r);break;default:t.skipField()}}return e},proto.gradle.GetBuildRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GetBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProjectDir()).length>0&&t.writeString(1,r),(r=e.getCancellationKey()).length>0&&t.writeString(2,r),null!=(r=e.getGradleConfig())&&t.writeMessage(3,r,proto.gradle.GradleConfig.serializeBinaryToWriter),(r=e.getShowOutputColors())&&t.writeBool(4,r)},proto.gradle.GetBuildRequest.prototype.getProjectDir=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetBuildRequest.prototype.setProjectDir=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.GetBuildRequest.prototype.getCancellationKey=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.gradle.GetBuildRequest.prototype.setCancellationKey=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.gradle.GetBuildRequest.prototype.getGradleConfig=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.GradleConfig,3)},proto.gradle.GetBuildRequest.prototype.setGradleConfig=function(e){return googleProtobuf.Message.setWrapperField(this,3,e)},proto.gradle.GetBuildRequest.prototype.clearGradleConfig=function(){return this.setGradleConfig(void 0)},proto.gradle.GetBuildRequest.prototype.hasGradleConfig=function(){return null!=googleProtobuf.Message.getField(this,3)},proto.gradle.GetBuildRequest.prototype.getShowOutputColors=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,4,!1)},proto.gradle.GetBuildRequest.prototype.setShowOutputColors=function(e){return googleProtobuf.Message.setProto3BooleanField(this,4,e)},proto.gradle.GetBuildReply.oneofGroups_=[[1,2,3,4,5]],proto.gradle.GetBuildReply.KindCase={KIND_NOT_SET:0,GET_BUILD_RESULT:1,PROGRESS:2,OUTPUT:3,CANCELLED:4,ENVIRONMENT:5},proto.gradle.GetBuildReply.prototype.getKindCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.gradle.GetBuildReply.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildReply.prototype.toObject=function(e){return proto.gradle.GetBuildReply.toObject(e,this)},proto.gradle.GetBuildReply.toObject=function(e,t){var r,o={getBuildResult:(r=t.getGetBuildResult())&&proto.gradle.GetBuildResult.toObject(e,r),progress:(r=t.getProgress())&&proto.gradle.Progress.toObject(e,r),output:(r=t.getOutput())&&proto.gradle.Output.toObject(e,r),cancelled:(r=t.getCancelled())&&proto.gradle.Cancelled.toObject(e,r),environment:(r=t.getEnvironment())&&proto.gradle.Environment.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GetBuildReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GetBuildReply;return proto.gradle.GetBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.GetBuildResult;t.readMessage(r,proto.gradle.GetBuildResult.deserializeBinaryFromReader),e.setGetBuildResult(r);break;case 2:r=new proto.gradle.Progress;t.readMessage(r,proto.gradle.Progress.deserializeBinaryFromReader),e.setProgress(r);break;case 3:r=new proto.gradle.Output;t.readMessage(r,proto.gradle.Output.deserializeBinaryFromReader),e.setOutput(r);break;case 4:r=new proto.gradle.Cancelled;t.readMessage(r,proto.gradle.Cancelled.deserializeBinaryFromReader),e.setCancelled(r);break;case 5:r=new proto.gradle.Environment;t.readMessage(r,proto.gradle.Environment.deserializeBinaryFromReader),e.setEnvironment(r);break;default:t.skipField()}}return e},proto.gradle.GetBuildReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GetBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getGetBuildResult())&&t.writeMessage(1,r,proto.gradle.GetBuildResult.serializeBinaryToWriter),null!=(r=e.getProgress())&&t.writeMessage(2,r,proto.gradle.Progress.serializeBinaryToWriter),null!=(r=e.getOutput())&&t.writeMessage(3,r,proto.gradle.Output.serializeBinaryToWriter),null!=(r=e.getCancelled())&&t.writeMessage(4,r,proto.gradle.Cancelled.serializeBinaryToWriter),null!=(r=e.getEnvironment())&&t.writeMessage(5,r,proto.gradle.Environment.serializeBinaryToWriter)},proto.gradle.GetBuildReply.prototype.getGetBuildResult=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.GetBuildResult,1)},proto.gradle.GetBuildReply.prototype.setGetBuildResult=function(e){return googleProtobuf.Message.setOneofWrapperField(this,1,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearGetBuildResult=function(){return this.setGetBuildResult(void 0)},proto.gradle.GetBuildReply.prototype.hasGetBuildResult=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.gradle.GetBuildReply.prototype.getProgress=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.Progress,2)},proto.gradle.GetBuildReply.prototype.setProgress=function(e){return googleProtobuf.Message.setOneofWrapperField(this,2,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearProgress=function(){return this.setProgress(void 0)},proto.gradle.GetBuildReply.prototype.hasProgress=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.gradle.GetBuildReply.prototype.getOutput=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.Output,3)},proto.gradle.GetBuildReply.prototype.setOutput=function(e){return googleProtobuf.Message.setOneofWrapperField(this,3,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearOutput=function(){return this.setOutput(void 0)},proto.gradle.GetBuildReply.prototype.hasOutput=function(){return null!=googleProtobuf.Message.getField(this,3)},proto.gradle.GetBuildReply.prototype.getCancelled=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.Cancelled,4)},proto.gradle.GetBuildReply.prototype.setCancelled=function(e){return googleProtobuf.Message.setOneofWrapperField(this,4,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearCancelled=function(){return this.setCancelled(void 0)},proto.gradle.GetBuildReply.prototype.hasCancelled=function(){return null!=googleProtobuf.Message.getField(this,4)},proto.gradle.GetBuildReply.prototype.getEnvironment=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.Environment,5)},proto.gradle.GetBuildReply.prototype.setEnvironment=function(e){return googleProtobuf.Message.setOneofWrapperField(this,5,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearEnvironment=function(){return this.setEnvironment(void 0)},proto.gradle.GetBuildReply.prototype.hasEnvironment=function(){return null!=googleProtobuf.Message.getField(this,5)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildResult.prototype.toObject=function(e){return proto.gradle.GetBuildResult.toObject(e,this)},proto.gradle.GetBuildResult.toObject=function(e,t){var r,o={message:googleProtobuf.Message.getFieldWithDefault(t,1,""),build:(r=t.getBuild())&&proto.gradle.GradleBuild.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GetBuildResult.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GetBuildResult;return proto.gradle.GetBuildResult.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=new proto.gradle.GradleBuild;t.readMessage(r,proto.gradle.GradleBuild.deserializeBinaryFromReader),e.setBuild(r);break;default:t.skipField()}}return e},proto.gradle.GetBuildResult.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GetBuildResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildResult.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),null!=(r=e.getBuild())&&t.writeMessage(2,r,proto.gradle.GradleBuild.serializeBinaryToWriter)},proto.gradle.GetBuildResult.prototype.getMessage=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetBuildResult.prototype.setMessage=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.GetBuildResult.prototype.getBuild=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.GradleBuild,2)},proto.gradle.GetBuildResult.prototype.setBuild=function(e){return googleProtobuf.Message.setWrapperField(this,2,e)},proto.gradle.GetBuildResult.prototype.clearBuild=function(){return this.setBuild(void 0)},proto.gradle.GetBuildResult.prototype.hasBuild=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.gradle.RunBuildRequest.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildRequest.prototype.toObject=function(e){return proto.gradle.RunBuildRequest.toObject(e,this)},proto.gradle.RunBuildRequest.toObject=function(e,t){var r,o={projectDir:googleProtobuf.Message.getFieldWithDefault(t,1,""),cancellationKey:googleProtobuf.Message.getFieldWithDefault(t,2,""),argsList:null==(r=googleProtobuf.Message.getRepeatedField(t,3))?void 0:r,javaDebugPort:googleProtobuf.Message.getFieldWithDefault(t,4,0),gradleConfig:(r=t.getGradleConfig())&&proto.gradle.GradleConfig.toObject(e,r),input:googleProtobuf.Message.getFieldWithDefault(t,6,""),showOutputColors:googleProtobuf.Message.getBooleanFieldWithDefault(t,7,!1)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.RunBuildRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.RunBuildRequest;return proto.gradle.RunBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;case 2:r=t.readString();e.setCancellationKey(r);break;case 3:r=t.readString();e.addArgs(r);break;case 4:r=t.readInt32();e.setJavaDebugPort(r);break;case 5:r=new proto.gradle.GradleConfig;t.readMessage(r,proto.gradle.GradleConfig.deserializeBinaryFromReader),e.setGradleConfig(r);break;case 6:r=t.readString();e.setInput(r);break;case 7:r=t.readBool();e.setShowOutputColors(r);break;default:t.skipField()}}return e},proto.gradle.RunBuildRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.RunBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProjectDir()).length>0&&t.writeString(1,r),(r=e.getCancellationKey()).length>0&&t.writeString(2,r),(r=e.getArgsList()).length>0&&t.writeRepeatedString(3,r),0!==(r=e.getJavaDebugPort())&&t.writeInt32(4,r),null!=(r=e.getGradleConfig())&&t.writeMessage(5,r,proto.gradle.GradleConfig.serializeBinaryToWriter),(r=e.getInput()).length>0&&t.writeString(6,r),(r=e.getShowOutputColors())&&t.writeBool(7,r)},proto.gradle.RunBuildRequest.prototype.getProjectDir=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.RunBuildRequest.prototype.setProjectDir=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.RunBuildRequest.prototype.getCancellationKey=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.gradle.RunBuildRequest.prototype.setCancellationKey=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.gradle.RunBuildRequest.prototype.getArgsList=function(){return googleProtobuf.Message.getRepeatedField(this,3)},proto.gradle.RunBuildRequest.prototype.setArgsList=function(e){return googleProtobuf.Message.setField(this,3,e||[])},proto.gradle.RunBuildRequest.prototype.addArgs=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,3,e,t)},proto.gradle.RunBuildRequest.prototype.clearArgsList=function(){return this.setArgsList([])},proto.gradle.RunBuildRequest.prototype.getJavaDebugPort=function(){return googleProtobuf.Message.getFieldWithDefault(this,4,0)},proto.gradle.RunBuildRequest.prototype.setJavaDebugPort=function(e){return googleProtobuf.Message.setProto3IntField(this,4,e)},proto.gradle.RunBuildRequest.prototype.getGradleConfig=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.GradleConfig,5)},proto.gradle.RunBuildRequest.prototype.setGradleConfig=function(e){return googleProtobuf.Message.setWrapperField(this,5,e)},proto.gradle.RunBuildRequest.prototype.clearGradleConfig=function(){return this.setGradleConfig(void 0)},proto.gradle.RunBuildRequest.prototype.hasGradleConfig=function(){return null!=googleProtobuf.Message.getField(this,5)},proto.gradle.RunBuildRequest.prototype.getInput=function(){return googleProtobuf.Message.getFieldWithDefault(this,6,"")},proto.gradle.RunBuildRequest.prototype.setInput=function(e){return googleProtobuf.Message.setProto3StringField(this,6,e)},proto.gradle.RunBuildRequest.prototype.getShowOutputColors=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,7,!1)},proto.gradle.RunBuildRequest.prototype.setShowOutputColors=function(e){return googleProtobuf.Message.setProto3BooleanField(this,7,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildResult.prototype.toObject=function(e){return proto.gradle.RunBuildResult.toObject(e,this)},proto.gradle.RunBuildResult.toObject=function(e,t){var r={message:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.RunBuildResult.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.RunBuildResult;return proto.gradle.RunBuildResult.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.RunBuildResult.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.RunBuildResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildResult.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.RunBuildResult.prototype.getMessage=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.RunBuildResult.prototype.setMessage=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.RunBuildReply.oneofGroups_=[[1,2,3,4]],proto.gradle.RunBuildReply.KindCase={KIND_NOT_SET:0,RUN_BUILD_RESULT:1,PROGRESS:2,OUTPUT:3,CANCELLED:4},proto.gradle.RunBuildReply.prototype.getKindCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.gradle.RunBuildReply.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildReply.prototype.toObject=function(e){return proto.gradle.RunBuildReply.toObject(e,this)},proto.gradle.RunBuildReply.toObject=function(e,t){var r,o={runBuildResult:(r=t.getRunBuildResult())&&proto.gradle.RunBuildResult.toObject(e,r),progress:(r=t.getProgress())&&proto.gradle.Progress.toObject(e,r),output:(r=t.getOutput())&&proto.gradle.Output.toObject(e,r),cancelled:(r=t.getCancelled())&&proto.gradle.Cancelled.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.RunBuildReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.RunBuildReply;return proto.gradle.RunBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.RunBuildResult;t.readMessage(r,proto.gradle.RunBuildResult.deserializeBinaryFromReader),e.setRunBuildResult(r);break;case 2:r=new proto.gradle.Progress;t.readMessage(r,proto.gradle.Progress.deserializeBinaryFromReader),e.setProgress(r);break;case 3:r=new proto.gradle.Output;t.readMessage(r,proto.gradle.Output.deserializeBinaryFromReader),e.setOutput(r);break;case 4:r=new proto.gradle.Cancelled;t.readMessage(r,proto.gradle.Cancelled.deserializeBinaryFromReader),e.setCancelled(r);break;default:t.skipField()}}return e},proto.gradle.RunBuildReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.RunBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getRunBuildResult())&&t.writeMessage(1,r,proto.gradle.RunBuildResult.serializeBinaryToWriter),null!=(r=e.getProgress())&&t.writeMessage(2,r,proto.gradle.Progress.serializeBinaryToWriter),null!=(r=e.getOutput())&&t.writeMessage(3,r,proto.gradle.Output.serializeBinaryToWriter),null!=(r=e.getCancelled())&&t.writeMessage(4,r,proto.gradle.Cancelled.serializeBinaryToWriter)},proto.gradle.RunBuildReply.prototype.getRunBuildResult=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.RunBuildResult,1)},proto.gradle.RunBuildReply.prototype.setRunBuildResult=function(e){return googleProtobuf.Message.setOneofWrapperField(this,1,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearRunBuildResult=function(){return this.setRunBuildResult(void 0)},proto.gradle.RunBuildReply.prototype.hasRunBuildResult=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.gradle.RunBuildReply.prototype.getProgress=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.Progress,2)},proto.gradle.RunBuildReply.prototype.setProgress=function(e){return googleProtobuf.Message.setOneofWrapperField(this,2,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearProgress=function(){return this.setProgress(void 0)},proto.gradle.RunBuildReply.prototype.hasProgress=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.gradle.RunBuildReply.prototype.getOutput=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.Output,3)},proto.gradle.RunBuildReply.prototype.setOutput=function(e){return googleProtobuf.Message.setOneofWrapperField(this,3,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearOutput=function(){return this.setOutput(void 0)},proto.gradle.RunBuildReply.prototype.hasOutput=function(){return null!=googleProtobuf.Message.getField(this,3)},proto.gradle.RunBuildReply.prototype.getCancelled=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.Cancelled,4)},proto.gradle.RunBuildReply.prototype.setCancelled=function(e){return googleProtobuf.Message.setOneofWrapperField(this,4,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearCancelled=function(){return this.setCancelled(void 0)},proto.gradle.RunBuildReply.prototype.hasCancelled=function(){return null!=googleProtobuf.Message.getField(this,4)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildRequest.prototype.toObject=function(e){return proto.gradle.CancelBuildRequest.toObject(e,this)},proto.gradle.CancelBuildRequest.toObject=function(e,t){var r={cancellationKey:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.CancelBuildRequest;return proto.gradle.CancelBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCancellationKey(r);break;default:t.skipField()}}return e},proto.gradle.CancelBuildRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.CancelBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getCancellationKey()).length>0&&t.writeString(1,r)},proto.gradle.CancelBuildRequest.prototype.getCancellationKey=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildRequest.prototype.setCancellationKey=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildReply.prototype.toObject=function(e){return proto.gradle.CancelBuildReply.toObject(e,this)},proto.gradle.CancelBuildReply.toObject=function(e,t){var r={message:googleProtobuf.Message.getFieldWithDefault(t,1,""),buildRunning:googleProtobuf.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.CancelBuildReply;return proto.gradle.CancelBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=t.readBool();e.setBuildRunning(r);break;default:t.skipField()}}return e},proto.gradle.CancelBuildReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.CancelBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),(r=e.getBuildRunning())&&t.writeBool(2,r)},proto.gradle.CancelBuildReply.prototype.getMessage=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildReply.prototype.setMessage=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.CancelBuildReply.prototype.getBuildRunning=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,2,!1)},proto.gradle.CancelBuildReply.prototype.setBuildRunning=function(e){return googleProtobuf.Message.setProto3BooleanField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetDaemonsStatusRequest.prototype.toObject=function(e){return proto.gradle.GetDaemonsStatusRequest.toObject(e,this)},proto.gradle.GetDaemonsStatusRequest.toObject=function(e,t){var r={projectDir:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GetDaemonsStatusRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GetDaemonsStatusRequest;return proto.gradle.GetDaemonsStatusRequest.deserializeBinaryFromReader(r,t)},proto.gradle.GetDaemonsStatusRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;default:t.skipField()}}return e},proto.gradle.GetDaemonsStatusRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GetDaemonsStatusRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetDaemonsStatusRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getProjectDir()).length>0&&t.writeString(1,r)},proto.gradle.GetDaemonsStatusRequest.prototype.getProjectDir=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetDaemonsStatusRequest.prototype.setProjectDir=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.GetDaemonsStatusReply.repeatedFields_=[1],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetDaemonsStatusReply.prototype.toObject=function(e){return proto.gradle.GetDaemonsStatusReply.toObject(e,this)},proto.gradle.GetDaemonsStatusReply.toObject=function(e,t){var r={daemonInfoList:googleProtobuf.Message.toObjectList(t.getDaemonInfoList(),proto.gradle.DaemonInfo.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GetDaemonsStatusReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GetDaemonsStatusReply;return proto.gradle.GetDaemonsStatusReply.deserializeBinaryFromReader(r,t)},proto.gradle.GetDaemonsStatusReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.DaemonInfo;t.readMessage(r,proto.gradle.DaemonInfo.deserializeBinaryFromReader),e.addDaemonInfo(r);break;default:t.skipField()}}return e},proto.gradle.GetDaemonsStatusReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GetDaemonsStatusReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetDaemonsStatusReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getDaemonInfoList()).length>0&&t.writeRepeatedMessage(1,r,proto.gradle.DaemonInfo.serializeBinaryToWriter)},proto.gradle.GetDaemonsStatusReply.prototype.getDaemonInfoList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.gradle.DaemonInfo,1)},proto.gradle.GetDaemonsStatusReply.prototype.setDaemonInfoList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,1,e)},proto.gradle.GetDaemonsStatusReply.prototype.addDaemonInfo=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,1,e,proto.gradle.DaemonInfo,t)},proto.gradle.GetDaemonsStatusReply.prototype.clearDaemonInfoList=function(){return this.setDaemonInfoList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonsRequest.prototype.toObject=function(e){return proto.gradle.StopDaemonsRequest.toObject(e,this)},proto.gradle.StopDaemonsRequest.toObject=function(e,t){var r={projectDir:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonsRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.StopDaemonsRequest;return proto.gradle.StopDaemonsRequest.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonsRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonsRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.StopDaemonsRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonsRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getProjectDir()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonsRequest.prototype.getProjectDir=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonsRequest.prototype.setProjectDir=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonsReply.prototype.toObject=function(e){return proto.gradle.StopDaemonsReply.toObject(e,this)},proto.gradle.StopDaemonsReply.toObject=function(e,t){var r={message:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonsReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.StopDaemonsReply;return proto.gradle.StopDaemonsReply.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonsReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonsReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.StopDaemonsReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonsReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonsReply.prototype.getMessage=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonsReply.prototype.setMessage=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonRequest.prototype.toObject=function(e){return proto.gradle.StopDaemonRequest.toObject(e,this)},proto.gradle.StopDaemonRequest.toObject=function(e,t){var r={pid:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.StopDaemonRequest;return proto.gradle.StopDaemonRequest.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPid(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.StopDaemonRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getPid()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonRequest.prototype.getPid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonRequest.prototype.setPid=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonReply.prototype.toObject=function(e){return proto.gradle.StopDaemonReply.toObject(e,this)},proto.gradle.StopDaemonReply.toObject=function(e,t){var r={message:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.StopDaemonReply;return proto.gradle.StopDaemonReply.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.StopDaemonReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonReply.prototype.getMessage=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonReply.prototype.setMessage=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.DaemonInfo.prototype.toObject=function(e){return proto.gradle.DaemonInfo.toObject(e,this)},proto.gradle.DaemonInfo.toObject=function(e,t){var r={pid:googleProtobuf.Message.getFieldWithDefault(t,1,""),status:googleProtobuf.Message.getFieldWithDefault(t,2,0),info:googleProtobuf.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.DaemonInfo.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.DaemonInfo;return proto.gradle.DaemonInfo.deserializeBinaryFromReader(r,t)},proto.gradle.DaemonInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPid(r);break;case 2:r=t.readEnum();e.setStatus(r);break;case 3:r=t.readString();e.setInfo(r);break;default:t.skipField()}}return e},proto.gradle.DaemonInfo.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.DaemonInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.DaemonInfo.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getPid()).length>0&&t.writeString(1,r),0!==(r=e.getStatus())&&t.writeEnum(2,r),(r=e.getInfo()).length>0&&t.writeString(3,r)},proto.gradle.DaemonInfo.DaemonStatus={IDLE:0,BUSY:1,STOPPED:2,STOPPING:3,CANCELED:4},proto.gradle.DaemonInfo.prototype.getPid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.DaemonInfo.prototype.setPid=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.DaemonInfo.prototype.getStatus=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,0)},proto.gradle.DaemonInfo.prototype.setStatus=function(e){return googleProtobuf.Message.setProto3EnumField(this,2,e)},proto.gradle.DaemonInfo.prototype.getInfo=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,"")},proto.gradle.DaemonInfo.prototype.setInfo=function(e){return googleProtobuf.Message.setProto3StringField(this,3,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleConfig.prototype.toObject=function(e){return proto.gradle.GradleConfig.toObject(e,this)},proto.gradle.GradleConfig.toObject=function(e,t){var r={userHome:googleProtobuf.Message.getFieldWithDefault(t,2,""),jvmArguments:googleProtobuf.Message.getFieldWithDefault(t,3,""),wrapperEnabled:googleProtobuf.Message.getBooleanFieldWithDefault(t,4,!1),version:googleProtobuf.Message.getFieldWithDefault(t,5,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleConfig.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GradleConfig;return proto.gradle.GradleConfig.deserializeBinaryFromReader(r,t)},proto.gradle.GradleConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 2:var r=t.readString();e.setUserHome(r);break;case 3:r=t.readString();e.setJvmArguments(r);break;case 4:r=t.readBool();e.setWrapperEnabled(r);break;case 5:r=t.readString();e.setVersion(r);break;default:t.skipField()}}return e},proto.gradle.GradleConfig.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GradleConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getUserHome()).length>0&&t.writeString(2,r),(r=e.getJvmArguments()).length>0&&t.writeString(3,r),(r=e.getWrapperEnabled())&&t.writeBool(4,r),(r=e.getVersion()).length>0&&t.writeString(5,r)},proto.gradle.GradleConfig.prototype.getUserHome=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleConfig.prototype.setUserHome=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.gradle.GradleConfig.prototype.getJvmArguments=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,"")},proto.gradle.GradleConfig.prototype.setJvmArguments=function(e){return googleProtobuf.Message.setProto3StringField(this,3,e)},proto.gradle.GradleConfig.prototype.getWrapperEnabled=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,4,!1)},proto.gradle.GradleConfig.prototype.setWrapperEnabled=function(e){return googleProtobuf.Message.setProto3BooleanField(this,4,e)},proto.gradle.GradleConfig.prototype.getVersion=function(){return googleProtobuf.Message.getFieldWithDefault(this,5,"")},proto.gradle.GradleConfig.prototype.setVersion=function(e){return googleProtobuf.Message.setProto3StringField(this,5,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleBuild.prototype.toObject=function(e){return proto.gradle.GradleBuild.toObject(e,this)},proto.gradle.GradleBuild.toObject=function(e,t){var r,o={project:(r=t.getProject())&&proto.gradle.GradleProject.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GradleBuild.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GradleBuild;return proto.gradle.GradleBuild.deserializeBinaryFromReader(r,t)},proto.gradle.GradleBuild.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.GradleProject;t.readMessage(r,proto.gradle.GradleProject.deserializeBinaryFromReader),e.setProject(r);break;default:t.skipField()}}return e},proto.gradle.GradleBuild.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GradleBuild.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleBuild.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getProject())&&t.writeMessage(1,r,proto.gradle.GradleProject.serializeBinaryToWriter)},proto.gradle.GradleBuild.prototype.getProject=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.GradleProject,1)},proto.gradle.GradleBuild.prototype.setProject=function(e){return googleProtobuf.Message.setWrapperField(this,1,e)},proto.gradle.GradleBuild.prototype.clearProject=function(){return this.setProject(void 0)},proto.gradle.GradleBuild.prototype.hasProject=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.gradle.GradleProject.repeatedFields_=[2,3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleProject.prototype.toObject=function(e){return proto.gradle.GradleProject.toObject(e,this)},proto.gradle.GradleProject.toObject=function(e,t){var r={isRoot:googleProtobuf.Message.getBooleanFieldWithDefault(t,1,!1),tasksList:googleProtobuf.Message.toObjectList(t.getTasksList(),proto.gradle.GradleTask.toObject,e),projectsList:googleProtobuf.Message.toObjectList(t.getProjectsList(),proto.gradle.GradleProject.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleProject.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GradleProject;return proto.gradle.GradleProject.deserializeBinaryFromReader(r,t)},proto.gradle.GradleProject.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setIsRoot(r);break;case 2:r=new proto.gradle.GradleTask;t.readMessage(r,proto.gradle.GradleTask.deserializeBinaryFromReader),e.addTasks(r);break;case 3:r=new proto.gradle.GradleProject;t.readMessage(r,proto.gradle.GradleProject.deserializeBinaryFromReader),e.addProjects(r);break;default:t.skipField()}}return e},proto.gradle.GradleProject.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GradleProject.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleProject.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getIsRoot())&&t.writeBool(1,r),(r=e.getTasksList()).length>0&&t.writeRepeatedMessage(2,r,proto.gradle.GradleTask.serializeBinaryToWriter),(r=e.getProjectsList()).length>0&&t.writeRepeatedMessage(3,r,proto.gradle.GradleProject.serializeBinaryToWriter)},proto.gradle.GradleProject.prototype.getIsRoot=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,1,!1)},proto.gradle.GradleProject.prototype.setIsRoot=function(e){return googleProtobuf.Message.setProto3BooleanField(this,1,e)},proto.gradle.GradleProject.prototype.getTasksList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.gradle.GradleTask,2)},proto.gradle.GradleProject.prototype.setTasksList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,2,e)},proto.gradle.GradleProject.prototype.addTasks=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,2,e,proto.gradle.GradleTask,t)},proto.gradle.GradleProject.prototype.clearTasksList=function(){return this.setTasksList([])},proto.gradle.GradleProject.prototype.getProjectsList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.gradle.GradleProject,3)},proto.gradle.GradleProject.prototype.setProjectsList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,3,e)},proto.gradle.GradleProject.prototype.addProjects=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,3,e,proto.gradle.GradleProject,t)},proto.gradle.GradleProject.prototype.clearProjectsList=function(){return this.setProjectsList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleTask.prototype.toObject=function(e){return proto.gradle.GradleTask.toObject(e,this)},proto.gradle.GradleTask.toObject=function(e,t){var r={name:googleProtobuf.Message.getFieldWithDefault(t,1,""),group:googleProtobuf.Message.getFieldWithDefault(t,2,""),path:googleProtobuf.Message.getFieldWithDefault(t,3,""),project:googleProtobuf.Message.getFieldWithDefault(t,4,""),buildfile:googleProtobuf.Message.getFieldWithDefault(t,5,""),rootproject:googleProtobuf.Message.getFieldWithDefault(t,6,""),description:googleProtobuf.Message.getFieldWithDefault(t,7,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleTask.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GradleTask;return proto.gradle.GradleTask.deserializeBinaryFromReader(r,t)},proto.gradle.GradleTask.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString();e.setGroup(r);break;case 3:r=t.readString();e.setPath(r);break;case 4:r=t.readString();e.setProject(r);break;case 5:r=t.readString();e.setBuildfile(r);break;case 6:r=t.readString();e.setRootproject(r);break;case 7:r=t.readString();e.setDescription(r);break;default:t.skipField()}}return e},proto.gradle.GradleTask.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GradleTask.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleTask.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getGroup()).length>0&&t.writeString(2,r),(r=e.getPath()).length>0&&t.writeString(3,r),(r=e.getProject()).length>0&&t.writeString(4,r),(r=e.getBuildfile()).length>0&&t.writeString(5,r),(r=e.getRootproject()).length>0&&t.writeString(6,r),(r=e.getDescription()).length>0&&t.writeString(7,r)},proto.gradle.GradleTask.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleTask.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.GradleTask.prototype.getGroup=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleTask.prototype.setGroup=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.gradle.GradleTask.prototype.getPath=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,"")},proto.gradle.GradleTask.prototype.setPath=function(e){return googleProtobuf.Message.setProto3StringField(this,3,e)},proto.gradle.GradleTask.prototype.getProject=function(){return googleProtobuf.Message.getFieldWithDefault(this,4,"")},proto.gradle.GradleTask.prototype.setProject=function(e){return googleProtobuf.Message.setProto3StringField(this,4,e)},proto.gradle.GradleTask.prototype.getBuildfile=function(){return googleProtobuf.Message.getFieldWithDefault(this,5,"")},proto.gradle.GradleTask.prototype.setBuildfile=function(e){return googleProtobuf.Message.setProto3StringField(this,5,e)},proto.gradle.GradleTask.prototype.getRootproject=function(){return googleProtobuf.Message.getFieldWithDefault(this,6,"")},proto.gradle.GradleTask.prototype.setRootproject=function(e){return googleProtobuf.Message.setProto3StringField(this,6,e)},proto.gradle.GradleTask.prototype.getDescription=function(){return googleProtobuf.Message.getFieldWithDefault(this,7,"")},proto.gradle.GradleTask.prototype.setDescription=function(e){return googleProtobuf.Message.setProto3StringField(this,7,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.Cancelled.prototype.toObject=function(e){return proto.gradle.Cancelled.toObject(e,this)},proto.gradle.Cancelled.toObject=function(e,t){var r={message:googleProtobuf.Message.getFieldWithDefault(t,1,""),projectDir:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Cancelled.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.Cancelled;return proto.gradle.Cancelled.deserializeBinaryFromReader(r,t)},proto.gradle.Cancelled.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=t.readString();e.setProjectDir(r);break;default:t.skipField()}}return e},proto.gradle.Cancelled.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.Cancelled.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Cancelled.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),(r=e.getProjectDir()).length>0&&t.writeString(2,r)},proto.gradle.Cancelled.prototype.getMessage=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.Cancelled.prototype.setMessage=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.Cancelled.prototype.getProjectDir=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.gradle.Cancelled.prototype.setProjectDir=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.Progress.prototype.toObject=function(e){return proto.gradle.Progress.toObject(e,this)},proto.gradle.Progress.toObject=function(e,t){var r={message:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Progress.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.Progress;return proto.gradle.Progress.deserializeBinaryFromReader(r,t)},proto.gradle.Progress.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.Progress.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.Progress.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Progress.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.Progress.prototype.getMessage=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.Progress.prototype.setMessage=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.Environment.prototype.toObject=function(e){return proto.gradle.Environment.toObject(e,this)},proto.gradle.Environment.toObject=function(e,t){var r,o={javaEnvironment:(r=t.getJavaEnvironment())&&proto.gradle.JavaEnvironment.toObject(e,r),gradleEnvironment:(r=t.getGradleEnvironment())&&proto.gradle.GradleEnvironment.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.Environment.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.Environment;return proto.gradle.Environment.deserializeBinaryFromReader(r,t)},proto.gradle.Environment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.JavaEnvironment;t.readMessage(r,proto.gradle.JavaEnvironment.deserializeBinaryFromReader),e.setJavaEnvironment(r);break;case 2:r=new proto.gradle.GradleEnvironment;t.readMessage(r,proto.gradle.GradleEnvironment.deserializeBinaryFromReader),e.setGradleEnvironment(r);break;default:t.skipField()}}return e},proto.gradle.Environment.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.Environment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Environment.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getJavaEnvironment())&&t.writeMessage(1,r,proto.gradle.JavaEnvironment.serializeBinaryToWriter),null!=(r=e.getGradleEnvironment())&&t.writeMessage(2,r,proto.gradle.GradleEnvironment.serializeBinaryToWriter)},proto.gradle.Environment.prototype.getJavaEnvironment=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.JavaEnvironment,1)},proto.gradle.Environment.prototype.setJavaEnvironment=function(e){return googleProtobuf.Message.setWrapperField(this,1,e)},proto.gradle.Environment.prototype.clearJavaEnvironment=function(){return this.setJavaEnvironment(void 0)},proto.gradle.Environment.prototype.hasJavaEnvironment=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.gradle.Environment.prototype.getGradleEnvironment=function(){return googleProtobuf.Message.getWrapperField(this,proto.gradle.GradleEnvironment,2)},proto.gradle.Environment.prototype.setGradleEnvironment=function(e){return googleProtobuf.Message.setWrapperField(this,2,e)},proto.gradle.Environment.prototype.clearGradleEnvironment=function(){return this.setGradleEnvironment(void 0)},proto.gradle.Environment.prototype.hasGradleEnvironment=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.gradle.JavaEnvironment.repeatedFields_=[2],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.JavaEnvironment.prototype.toObject=function(e){return proto.gradle.JavaEnvironment.toObject(e,this)},proto.gradle.JavaEnvironment.toObject=function(e,t){var r,o={javaHome:googleProtobuf.Message.getFieldWithDefault(t,1,""),jvmArgsList:null==(r=googleProtobuf.Message.getRepeatedField(t,2))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.JavaEnvironment.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.JavaEnvironment;return proto.gradle.JavaEnvironment.deserializeBinaryFromReader(r,t)},proto.gradle.JavaEnvironment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setJavaHome(r);break;case 2:r=t.readString();e.addJvmArgs(r);break;default:t.skipField()}}return e},proto.gradle.JavaEnvironment.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.JavaEnvironment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.JavaEnvironment.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getJavaHome()).length>0&&t.writeString(1,r),(r=e.getJvmArgsList()).length>0&&t.writeRepeatedString(2,r)},proto.gradle.JavaEnvironment.prototype.getJavaHome=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.JavaEnvironment.prototype.setJavaHome=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.JavaEnvironment.prototype.getJvmArgsList=function(){return googleProtobuf.Message.getRepeatedField(this,2)},proto.gradle.JavaEnvironment.prototype.setJvmArgsList=function(e){return googleProtobuf.Message.setField(this,2,e||[])},proto.gradle.JavaEnvironment.prototype.addJvmArgs=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,2,e,t)},proto.gradle.JavaEnvironment.prototype.clearJvmArgsList=function(){return this.setJvmArgsList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleEnvironment.prototype.toObject=function(e){return proto.gradle.GradleEnvironment.toObject(e,this)},proto.gradle.GradleEnvironment.toObject=function(e,t){var r={gradleUserHome:googleProtobuf.Message.getFieldWithDefault(t,1,""),gradleVersion:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleEnvironment.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.GradleEnvironment;return proto.gradle.GradleEnvironment.deserializeBinaryFromReader(r,t)},proto.gradle.GradleEnvironment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setGradleUserHome(r);break;case 2:r=t.readString();e.setGradleVersion(r);break;default:t.skipField()}}return e},proto.gradle.GradleEnvironment.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.GradleEnvironment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleEnvironment.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getGradleUserHome()).length>0&&t.writeString(1,r),(r=e.getGradleVersion()).length>0&&t.writeString(2,r)},proto.gradle.GradleEnvironment.prototype.getGradleUserHome=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleEnvironment.prototype.setGradleUserHome=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.gradle.GradleEnvironment.prototype.getGradleVersion=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleEnvironment.prototype.setGradleVersion=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.gradle.Output.prototype.toObject=function(e){return proto.gradle.Output.toObject(e,this)},proto.gradle.Output.toObject=function(e,t){var r={outputType:googleProtobuf.Message.getFieldWithDefault(t,1,0),outputBytes:t.getOutputBytes_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Output.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.gradle.Output;return proto.gradle.Output.deserializeBinaryFromReader(r,t)},proto.gradle.Output.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setOutputType(r);break;case 2:r=t.readBytes();e.setOutputBytes(r);break;default:t.skipField()}}return e},proto.gradle.Output.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.gradle.Output.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Output.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getOutputType())&&t.writeEnum(1,r),(r=e.getOutputBytes_asU8()).length>0&&t.writeBytes(2,r)},proto.gradle.Output.OutputType={STDERR:0,STDOUT:1},proto.gradle.Output.prototype.getOutputType=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,0)},proto.gradle.Output.prototype.setOutputType=function(e){return googleProtobuf.Message.setProto3EnumField(this,1,e)},proto.gradle.Output.prototype.getOutputBytes=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.gradle.Output.prototype.getOutputBytes_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getOutputBytes())},proto.gradle.Output.prototype.getOutputBytes_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getOutputBytes())},proto.gradle.Output.prototype.setOutputBytes=function(e){return googleProtobuf.Message.setProto3BytesField(this,2,e)},r.object.extend(t,proto.gradle)}));function getConfigIsAutoDetectionEnabled(e){return"on"===vscode.workspace.getConfiguration("gradle",e.getWorkspaceFolder().uri).get("autoDetect","on")}function getConfigJavaHome(){return vscode.workspace.getConfiguration("java").get("home",null)}function getConfigJavaImportGradleUserHome(){return vscode.workspace.getConfiguration("java").get("import.gradle.user.home",null)}function getConfigJavaImportGradleJvmArguments(){return vscode.workspace.getConfiguration("java").get("import.gradle.jvmArguments",null)}function getConfigJavaImportGradleWrapperEnabled(){return vscode.workspace.getConfiguration("java").get("import.gradle.wrapper.enabled",!0)}function getConfigJavaImportGradleVersion(){return vscode.workspace.getConfiguration("java").get("import.gradle.version",null)}function getConfigIsDebugEnabled(){return vscode.workspace.getConfiguration("gradle").get("debug",!1)}function getDisableConfirmations(){return vscode.workspace.getConfiguration("gradle").get("disableConfirmations",!1)}function getConfigFocusTaskInExplorer(){return vscode.workspace.getConfiguration("gradle").get("focusTaskInExplorer",!0)}function getNestedProjectsConfig(e){return vscode.workspace.getConfiguration("gradle",e.uri).get("nestedProjects",!1)}function getConfigJavaDebug(e){return vscode.workspace.getConfiguration("gradle",e.uri).get("javaDebug",{tasks:["run","runBoot","test","intTest","integration"]})}function getGradleConfig(){const e=new gradle_pb.GradleConfig,t=getConfigJavaImportGradleUserHome(),r=getConfigJavaImportGradleJvmArguments(),o=getConfigJavaImportGradleVersion();return null!==t&&e.setUserHome(t),null!==r&&e.setJvmArguments(r),null!==o&&e.setVersion(o),e.setWrapperEnabled(getConfigJavaImportGradleWrapperEnabled()),e}const JAVA_LANGUAGE_EXTENSION_ID="redhat.java",JAVA_DEBUGGER_EXTENSION_ID="vscjava.vscode-java-debug";function isJavaLanguageSupportExtensionActivated(){const e=getJavaDebuggerExtension();return!!e&&e.isActive}function isJavaDebuggerExtensionActivated(){const e=getJavaLanguageSupportExtension();return!!e&&e.isActive}function getJavaLanguageSupportExtension(){return vscode.extensions.getExtension(JAVA_LANGUAGE_EXTENSION_ID)}function getJavaDebuggerExtension(){return vscode.extensions.getExtension(JAVA_DEBUGGER_EXTENSION_ID)}function returnTrimmedInput(e){if(void 0!==e)return e.trim()}function getTaskArgs(){return vscode.window.showInputBox({placeHolder:"For example: --info",ignoreFocusOut:!0}).then(returnTrimmedInput)}function getGradleCommand(){return vscode.window.showInputBox({prompt:["Enter a command for gradle to run.","This can include built-in Gradle commands or tasks.","Not all Gradle command line options are supported."].join(" "),placeHolder:"For example: build --info",ignoreFocusOut:!0}).then(returnTrimmedInput)}async function getRootProjectFolder(){const e=await Extension.getInstance().getRootProjectsStore().buildAndGetProjectRoots();if(1===e.length)return Promise.resolve(e[0]);const t=e.map(e=>e.getProjectUri().fsPath),r=await vscode.window.showQuickPick(t,{canPickMany:!1,placeHolder:"Select the root project"});return r?e[t.indexOf(r)]:void 0}async function confirmModal(e){if(getDisableConfirmations())return!0;return"Yes"===await vscode.window.showWarningMessage(e,{modal:!0},"Yes")}function getBuildCancellationKey(e){return"getBuild"+e}function getRunBuildCancellationKey(e,t){return"runBuild"+e+t.join("")}function getRunTaskCommandCancellationKey(e,t){return"runTask"+e+t}const cancellingTasks=new Map,restartingTasks=new Map;function getTaskExecution(e,t){return vscode.tasks.taskExecutions.find(r=>isTask(r.task,e,t))}function isTask(e,t,r){const o=void 0!==r;return e.definition.id===t.definition.id&&(!o||e.definition.args===r)}function isGradleTask(e){return"gradle"===e.definition.type}function getRunningGradleTasks(){return vscode.tasks.taskExecutions.filter(({task:e})=>isGradleTask(e)).map(({task:e})=>e)}function getRunningGradleTask(e){return getRunningGradleTasks().find(t=>isTask(t,e))}function isTaskRunning(e,t){return void 0!==getTaskExecution(e,t)}async function cancelBuild(e,t){t&&isTaskRunning(t)&&(cancellingTasks.set(t.definition.id,t),await vscode.commands.executeCommand(COMMAND_RENDER_TASK,t)),Extension.getInstance().getClient().cancelBuild(e,t)}function isTaskCancelling(e,t){const r=getCancellingTask(e);return Boolean(r&&(!(void 0!==t)||r.definition.args===t))}function getCancellingTask(e){return cancellingTasks.get(e.definition.id)}function getRestartingTask(e){return restartingTasks.get(e.definition.id)}async function restartQueuedTask(e){const t=getRestartingTask(e);if(t){restartingTasks.delete(t.definition.id);try{await vscode.tasks.executeTask(t)}catch(e){logger.error("There was an error starting the task:",e.message)}}}function removeCancellingTask(e){const t=getCancellingTask(e);t&&cancellingTasks.delete(t.definition.id)}function queueRestartTask(e){if(isTaskRunning(e)){const t=e.definition;restartingTasks.set(t.id,e);cancelBuild(getRunTaskCommandCancellationKey(t.projectFolder,e.name),e)}}function buildTaskId(e,t,r){return e+t+r}function buildTaskName(e){const t=e.args?" "+e.args:"";return`${e.script}${t}`}function createTaskFromDefinition(e,t){const r=Extension.getInstance().getTaskTerminalsStore(),o=[e.script].concat(e.args.split(" ").filter(Boolean)),n=buildTaskName(e),s=getRunTaskCommandCancellationKey(t.getProjectUri().fsPath,e.script),i=new GradleRunnerTerminal(t,o,s),a=new vscode.Task(e,t.getWorkspaceFolder(),n,"gradle",new vscode.CustomExecution(async()=>{const t=vscode.window.onDidOpenTerminal(o=>{t.dispose(),r.addEntry(e.id+e.args,o)});return i}),["$gradle"]);return a.presentationOptions={showReuseMessage:!1,clear:!0,echo:!0,focus:!0,panel:vscode.TaskPanelKind.Shared,reveal:vscode.TaskRevealKind.Always},i.setTask(a),a}function createVSCodeTaskFromGradleTask(e,t,r="",o=!1){const n=e.getPath(),s=":"===n[0]?n.substr(1):n;return createTaskFromDefinition({type:"gradle",id:buildTaskId(t.getProjectUri().fsPath,s,e.getProject()),script:s,description:e.getDescription(),group:(e.getGroup()||"other").toLowerCase(),project:e.getProject(),buildFile:e.getBuildfile(),rootProject:e.getRootproject(),projectFolder:t.getProjectUri().fsPath,workspaceFolder:t.getWorkspaceFolder().uri.fsPath,args:r,javaDebug:o},t)}function getVSCodeTasksFromGradleProject(e,t){const r=t.getTasksList(),o=[];try{o.push(...r.map(t=>createVSCodeTaskFromGradleTask(t,e)))}catch(e){logger.error("Unable to generate vscode tasks from gradle tasks:",e.message)}return t.getProjectsList().forEach(t=>{o.push(...getVSCodeTasksFromGradleProject(e,t))}),o}async function getGradleBuild(e){return Extension.getInstance().getClient().getBuild(e,getGradleConfig())}async function loadTasksForProjectRoots(e){const t=[];for(const r of e)if(getConfigIsAutoDetectionEnabled(r)){const e=await getGradleBuild(r),o=e&&e.getProject();o&&t.push(...getVSCodeTasksFromGradleProject(r,o))}return t}async function runTask(e,t="",r=!1){if(isTaskRunning(e,t))logger.warning("Unable to run task, task is already running:",e.name);else{if(r){const e="Install Missing Extensions";if(!getJavaLanguageSupportExtension()||!getJavaDebuggerExtension()){return void(await vscode.window.showErrorMessage("The Java Language Support & Debugger extensions are required for debugging.",e)===e&&await vscode.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[JAVA_LANGUAGE_EXTENSION_ID,JAVA_DEBUGGER_EXTENSION_ID]))}if(!isJavaDebuggerExtensionActivated())return void vscode.window.showErrorMessage("The Java Debugger extension is not activated.");if(!isJavaLanguageSupportExtensionActivated())return void vscode.window.showErrorMessage("The Java Language Support extension is not activated.")}try{if(r||t){const o=cloneTask(e,t,r);await vscode.tasks.executeTask(o)}else await vscode.tasks.executeTask(e)}catch(e){logger.error("There was an error starting the task:",e.message)}}}async function runTaskWithArgs(e,t=!1){const r=await getTaskArgs();void 0!==r?runTask(e,r,t):logger.error("Args not supplied")}function cloneTask(e,t,r=!1){const o=Object.assign(Object.assign({},e.definition),{args:t,javaDebug:r});return createTaskFromDefinition(o,Extension.getInstance().getRootProjectsStore().get(o.projectFolder))}const COMMAND_CANCEL_BUILD="gradle.cancelBuild";async function cancelBuildCommand(e,t){try{await cancelBuild(e,t)}catch(e){logger.error("Error cancelling task:",e.message)}}const COMMAND_CANCEL_TREE_ITEM_TASK="gradle.cancelTreeItemTask";async function cancelTreeItemTaskCommand(e){if(e&&e.task){const t=getRunningGradleTask(e.task);if(!t)return;const r=getRunTaskCommandCancellationKey(t.definition.projectFolder,t.name);return vscode.commands.executeCommand(COMMAND_CANCEL_BUILD,r,t)}}const COMMAND_CANCELLING_TREE_ITEM_TASK="gradle.cancellingTreeItemTask";function cancellingTreeItemTaskCommand(){vscode.window.showInformationMessage("Gradle task is cancelling, please wait")}const COMMAND_CLEAR_ALL_PINNED_TASKS="gradle.clearAllPinnedTasks";async function clearAllPinnedTasksCommand(){const e=Extension.getInstance().getPinnedTasksStore();e.getData().size&&await confirmModal("Are you sure you want to clear the pinned tasks?")&&e.clear()}const COMMAND_CLEAR_ALL_RECENT_TASKS="gradle.clearAllRecentTasks";async function clearAllRecentTasksCommand(){const e=Extension.getInstance().getRecentTasksStore();e.getData().size&&await confirmModal("Are you sure you want to clear the recent tasks?")&&e.clear()}const COMMAND_CLOSE_ALL_TASK_TERMINALS="gradle.closeAllTaskTerminals";async function closeAllTaskTerminalsCommand(){const e=Extension.getInstance().getTaskTerminalsStore();e.getData().size&&await confirmModal("Are you sure you want to close all task terminals?")&&(Array.from(e.getData().keys()).forEach(t=>{const r=e.getItem(t);r&&Array.from(r).forEach(e=>e.dispose())}),e.clear())}const COMMAND_CLOSE_TASK_TERMINALS="gradle.closeTaskTerminals";function closeTaskTerminalsCommand(e){if(e&&e.task){const t=e.task.definition,r=Extension.getInstance().getTaskTerminalsStore().getItem(t.id+t.args);r&&Array.from(r).forEach(e=>{e.dispose()})}}const COMMAND_DEBUG_TASK="gradle.debugTask";function debugTaskCommand(e,t=""){e&&e.task&&runTask(e.task,t,!0)}const COMMAND_DEBUG_TASK_WITH_ARGS="gradle.debugTaskWithArgs";function debugTaskWithArgsCommand(e){e&&e.task?runTaskWithArgs(e.task,!0):logger.error("Unable to debug task with args. TreeItem or TreeItem task not found.")}const COMMAND_EXPLORER_FLAT="gradle.explorerFlat";function explorerFlatCommand(){Extension.getInstance().getGradleTasksTreeDataProvider().setCollapsed(!0)}const COMMAND_EXPLORER_TREE="gradle.explorerTree";function explorerTreeCommand(){Extension.getInstance().getGradleTasksTreeDataProvider().setCollapsed(!1)}const COMMAND_LOAD_TASKS="gradle.loadTasks";function loadTasksCommand(){return Extension.getInstance().getGradleTaskProvider().loadTasks()}const COMMAND_OPEN_BUILD_FILE="gradle.openBuildFile";function openBuildFileCommand(e){vscode.commands.executeCommand("vscode.open",vscode.Uri.file(e.task.definition.buildFile))}const COMMAND_OPEN_PIN_HELP="gradle.openPinHelp";function openPinHelpCommand(){vscode.window.showInformationMessage("Pin your favourite tasks via the task context menu.")}const COMMAND_OPEN_SETTINGS="gradle.openSettings",EXTENSION_NAME="richardwillis.vscode-gradle";function openSettingsCommand(){vscode.commands.executeCommand("workbench.action.openSettings","@ext:"+EXTENSION_NAME)}const COMMAND_PIN_TASK="gradle.pinTask";function pinTaskCommand(e){if(e&&e.task){const t=e.task.definition;Extension.getInstance().getPinnedTasksTreeDataProvider().getStore().addEntry(t.id,t.args)}}const COMMAND_PIN_TASK_WITH_ARGS="gradle.pinTaskWithArgs";async function pinTaskWithArgsCommand(e){if(e&&e.task){const t=await getTaskArgs();if(t){const r=e.task.definition;Extension.getInstance().getPinnedTasksTreeDataProvider().getStore().addEntry(r.id,t)}}}const COMMAND_REFRESH="gradle.refresh";async function refreshCommand(){const e=Extension.getInstance();e.getGradleTaskProvider().clearTasksCache(),e.getGradleTaskProvider().loadTasks(),e.getGradleTasksTreeDataProvider().refresh(),e.getPinnedTasksTreeDataProvider().refresh(),e.getRecentTasksTreeDataProvider().refresh()}const COMMAND_REFRESH_DAEMON_STATUS="gradle.refreshDaemonStatus";function refreshDaemonStatusCommand(){Extension.getInstance().getGradleDaemonsTreeDataProvider().refresh()}const COMMAND_REMOVE_PINNED_TASK="gradle.removePinnedTask";function removePinnedTaskCommand(e){if(e&&e.task){const t=e.task.definition;Extension.getInstance().getPinnedTasksTreeDataProvider().getStore().removeEntry(t.id,t.args)}}const COMMAND_REMOVE_RECENT_TASK="gradle.removeRecentTask";function removeRecentTaskCommand(e){if(e&&e.task){const t=e.task.definition;Extension.getInstance().getRecentTasksStore().removeEntry(t.id,t.args)}}const ICON_LOADING="loading.svg",ICON_GRADLE_TASK="script.svg",ICON_DAEMON_BUSY="circle-filled.svg",ICON_DAEMON_IDLE="circle-outline.svg",ICON_DAEMON_STOPPED="close.svg",ICON_WARNING="warning.svg",GRADLE_CONTAINER_VIEW="gradleContainerView",GRADLE_TASKS_VIEW="gradleTasksView",GRADLE_DAEMONS_VIEW="gradleDaemonsView",PINNED_TASKS_VIEW="pinnedTasksView",RECENT_TASKS_VIEW="recentTasksView",TREE_ITEM_STATE_TASK_RUNNING="runningTask",TREE_ITEM_STATE_TASK_CANCELLING="cancellingTask",TREE_ITEM_STATE_TASK_IDLE="task",TREE_ITEM_STATE_TASK_DEBUG_IDLE="debugTask",TREE_ITEM_STATE_NO_TASKS="notasks",TREE_ITEM_STATE_FOLDER="folder",TASK_STATE_RUNNING_REGEX=new RegExp("^"+TREE_ITEM_STATE_TASK_RUNNING),DAEMON_ICON_MAP={[gradle_pb.DaemonInfo.DaemonStatus.BUSY]:ICON_DAEMON_BUSY,[gradle_pb.DaemonInfo.DaemonStatus.IDLE]:ICON_DAEMON_IDLE,[gradle_pb.DaemonInfo.DaemonStatus.STOPPED]:ICON_DAEMON_STOPPED,[gradle_pb.DaemonInfo.DaemonStatus.STOPPING]:ICON_DAEMON_STOPPED,[gradle_pb.DaemonInfo.DaemonStatus.CANCELED]:ICON_DAEMON_STOPPED};class NoTasksTreeItem extends vscode.TreeItem{constructor(e,t){super(e,vscode.TreeItemCollapsibleState.None),this.contextValue=TREE_ITEM_STATE_NO_TASKS,this.iconPath={light:t.asAbsolutePath(path.join("resources","light",ICON_WARNING)),dark:t.asAbsolutePath(path.join("resources","dark",ICON_WARNING))}}}class GradleTaskTreeItem extends vscode.TreeItem{constructor(e,t,r,o,n,s){super(r,vscode.TreeItemCollapsibleState.None),this.command={title:"Run Task",command:"gradle.openBuildFile",arguments:[this]},this.description=n,this.tooltip=o,this.parentTreeItem=e,this.task=t,this.javaDebug=s}setContext(){this.contextValue=getTreeItemState(this.task,this.javaDebug),this.setIconState()}setIconState(){const{iconPathRunning:e,iconPathIdle:t}=Extension.getInstance().getIcons();this.contextValue&&TASK_STATE_RUNNING_REGEX.test(this.contextValue)?this.iconPath=e:this.iconPath=t}}const gradleTaskTreeItemMap=new Map,gradleProjectTreeItemMap=new Map,projectTreeItemMap=new Map,groupTreeItemMap=new Map;function getGradleTaskTreeItemMap(){return gradleTaskTreeItemMap}function getProjectTreeItemMap(){return projectTreeItemMap}function resetCachedTreeItems(){gradleTaskTreeItemMap.clear(),gradleProjectTreeItemMap.clear(),projectTreeItemMap.clear(),groupTreeItemMap.clear()}class GradleTasksTreeDataProvider{constructor(e,t){this.context=e,this.rootProjectStore=t,this.collapsed=!0,this._onDidChangeTreeData=new vscode.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event;const r=this.context.workspaceState.get("gradleTasksCollapsed",!1);this.setCollapsed(r)}setCollapsed(e){this.collapsed=e,this.context.workspaceState.update("gradleTasksCollapsed",e),vscode.commands.executeCommand("setContext","gradle:gradleTasksCollapsed",e),this.refresh()}async buildTreeItems(){resetCachedTreeItems();const e=await Extension.getInstance().getGradleTaskProvider().loadTasks();return 0===e.length?[new NoGradleTasksTreeItem(this.context)]:this.buildItemsTreeFromTasks(e)}refresh(e=null){this._onDidChangeTreeData.fire(e)}getTreeItem(e){return e}getParent(e){return(e instanceof RootProjectTreeItem||e instanceof ProjectTreeItem||e instanceof TreeItemWithTasksOrGroups||e instanceof GradleTaskTreeItem)&&e.parentTreeItem||null}async getChildren(e){return e instanceof RootProjectTreeItem?e.projects:e instanceof ProjectTreeItem?[...e.groups,...e.tasks]:e instanceof GroupTreeItem?e.tasks:e instanceof GradleTaskTreeItem||e instanceof NoGradleTasksTreeItem||e?[]:await this.buildTreeItems()}buildItemsTreeFromTasks(e){let t=null;return e.forEach(e=>{const r=e.definition;if(isWorkspaceFolder(e.scope)&&isGradleTask(e)){const o=this.rootProjectStore.get(r.projectFolder);if(!o)return;t=gradleProjectTreeItemMap.get(r.projectFolder),t||(t=new RootProjectTreeItem(path.basename(r.projectFolder),o.getProjectUri()),gradleProjectTreeItemMap.set(r.projectFolder,t));let n=projectTreeItemMap.get(r.buildFile);n||(n=new ProjectTreeItem(r.project,t,vscode.Uri.file(r.buildFile)),t.addProject(n),projectTreeItemMap.set(r.buildFile,n));const s=r.script.slice(r.script.lastIndexOf(":")+1);let i=n;if(!this.collapsed){const e=r.group+r.project;let t=groupTreeItemMap.get(e);t||(t=new GroupTreeItem(r.group,n,void 0),n.addGroup(t),groupTreeItemMap.set(e,t)),i=t}const a=new GradleTaskTreeItem(i,e,s,r.description||s,"",o.getJavaDebug());a.setContext(),gradleTaskTreeItemMap.set(e.definition.id,a),i.addTask(a)}}),1===gradleProjectTreeItemMap.size?gradleProjectTreeItemMap.values().next().value.projects:[...gradleProjectTreeItemMap.values()]}}class TreeItemWithTasksOrGroups extends vscode.TreeItem{constructor(e,t,r,o=vscode.TreeItemCollapsibleState.Expanded){super(e,o),this._tasks=[],this._groups=[],this.iconPath=vscode.ThemeIcon.Folder,this.contextValue="folder",this.resourceUri=r,this.parentTreeItem=t}addTask(e){this._tasks.push(e)}get tasks(){return this._tasks.sort(gradleTaskTreeItemSortCompareFunc)}addGroup(e){this._groups.push(e)}get groups(){return this._groups.sort(treeItemSortCompareFunc)}}class ProjectTreeItem extends TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=vscode.ThemeIcon.File}}class GroupTreeItem extends TreeItemWithTasksOrGroups{constructor(e,t,r){super(e,t,r,vscode.TreeItemCollapsibleState.Collapsed)}}class NoGradleTasksTreeItem extends NoTasksTreeItem{constructor(e){super("No tasks found",e),this.command={title:"Show Logs",command:COMMAND_SHOW_LOGS}}}class RootProjectTreeItem extends vscode.TreeItem{constructor(e,t){super(e,vscode.TreeItemCollapsibleState.Expanded),this.projects=[],this.parentTreeItem=null,this.contextValue=TREE_ITEM_STATE_FOLDER,this.resourceUri=t,this.iconPath=vscode.ThemeIcon.Folder}addProject(e){this.projects.push(e)}}const daemonStatusEnumMapByValue=Object.assign({},...Object.entries(gradle_pb.DaemonInfo.DaemonStatus).map(([e,t])=>({[t]:e})));class GradleDaemonTreeItem extends vscode.TreeItem{constructor(e,t,r){super(t,vscode.TreeItemCollapsibleState.None),this.context=e,this.label=t,this.daemonInfo=r;const o=DAEMON_ICON_MAP[r.getStatus()];this.iconPath={light:this.context.asAbsolutePath(path.join("resources","light",o)),dark:this.context.asAbsolutePath(path.join("resources","dark",o))},this.contextValue=this.status.toLowerCase()}get tooltip(){return`${this.status} - ${this.daemonInfo.getInfo()}`}get status(){return daemonStatusEnumMapByValue[this.daemonInfo.getStatus()]}get description(){return this.status}get pid(){return this.daemonInfo.getPid()}}class Deferred{constructor(){this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class GradleDaemonsTreeDataProvider{constructor(e,t){this.context=e,this.rootProjectsStore=t,this.treeItems=[],this._onDidChangeTreeData=new vscode.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}refresh(){var e;null===(e=this.cancelDeferred)||void 0===e||e.resolve(this.treeItems),this._onDidChangeTreeData.fire(null)}getTreeItem(e){return e}async getChildren(e){var t;if(e||!(null===(t=vscode.workspace.workspaceFolders)||void 0===t?void 0:t.length))return[];this.cancelDeferred=new Deferred;const r=new vscode.CancellationTokenSource;this.cancelDeferred.promise.then(()=>r.cancel());const o=(await this.getProjectRootFolders()).map(e=>Extension.getInstance().getClient().getDaemonsStatus(e,r.token).then(e=>e?e.getDaemonInfoList().map(e=>new GradleDaemonTreeItem(this.context,e.getPid(),e)):[]));return this.treeItems=await Promise.race([Promise.all(o).then(e=>e.flat()),this.cancelDeferred.promise]),this.cancelDeferred=void 0,this.treeItems}async getProjectRootFolders(){return(await this.rootProjectsStore.buildAndGetProjectRootsWithUniqueVersions()).map(e=>e.getProjectUri().fsPath)}}class NoPinnedTasksTreeItem extends NoTasksTreeItem{constructor(e){super("No pinned tasks",e),this.command={title:"Show Help",command:COMMAND_OPEN_PIN_HELP}}}class PinnedTaskTreeItem extends GradleTaskTreeItem{setContext(){const e=this.task.definition;this.contextValue=getTreeItemState(this.task,this.javaDebug,this.task.definition.args),this.tooltip=(e.args?`(args: ${e.args}) `:"")+(e.description||this.label),this.setIconState()}}const pinnedTasksGradleProjectTreeItemMap=new Map,pinnedTasksTreeItemMap=new Map;function getPinnedTasksTreeItemMap(){return pinnedTasksTreeItemMap}function buildTaskTreeItem(e,t,r){const o=t.definition,n=t.name,s=new PinnedTaskTreeItem(e,t,n,o.description||n,"",r.getJavaDebug());return s.setContext(),s}function buildGradleProjectTreeItem(e,t){const r=e.definition;if(isWorkspaceFolder(e.scope)&&isGradleTask(e)){let o=pinnedTasksGradleProjectTreeItemMap.get(r.projectFolder);o||(o=new PinnedTasksRootProjectTreeItem(path.basename(r.projectFolder)),pinnedTasksGradleProjectTreeItemMap.set(r.projectFolder,o));const n=buildTaskTreeItem(o,e,t);pinnedTasksTreeItemMap.set(r.id+r.args,n),o.addTask(n)}}class PinnedTasksTreeDataProvider{constructor(e,t,r){this.context=e,this.pinnedTasksStore=t,this.rootProjectsStore=r,this._onDidChangeTreeData=new vscode.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.pinnedTasksStore.onDidChange(()=>this.refresh())}getStore(){return this.pinnedTasksStore}getTreeItem(e){return e}refresh(e=null){this._onDidChangeTreeData.fire(e)}getParent(e){return e instanceof GradleTaskTreeItem&&e.parentTreeItem||null}async getChildren(e){if(e instanceof PinnedTasksRootProjectTreeItem)return[...e.tasks];if(!e){const e=await this.buildTreeItems();return e.length?e:[new NoPinnedTasksTreeItem(this.context)]}return[]}async buildTreeItems(){pinnedTasksTreeItemMap.clear(),pinnedTasksGradleProjectTreeItemMap.clear();const e=await this.rootProjectsStore.buildAndGetProjectRoots();if(!e.length)return[];const t=e.length>1,r=Extension.getInstance().getGradleTaskProvider();await r.waitForTasksLoad();const o=this.pinnedTasksStore.getData();return Array.from(o.keys()).forEach(e=>{const t=r.findByTaskId(e);if(!t)return;const n=t.definition,s=this.rootProjectsStore.get(n.projectFolder);if(!s)return;const i=o.get(e)||"";i&&Array.from(i.values()).forEach(e=>{buildGradleProjectTreeItem(cloneTask(t,e),s)})}),pinnedTasksGradleProjectTreeItemMap.size?t?[...pinnedTasksGradleProjectTreeItemMap.values()]:[...pinnedTasksGradleProjectTreeItemMap.values().next().value.tasks]:[]}}class PinnedTasksRootProjectTreeItem extends TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=vscode.ThemeIcon.Folder}}class NoRecentTasksTreeItem extends NoTasksTreeItem{constructor(e){super("No recent tasks",e)}}function getRecentTaskTreeItemState(e,t){return t>0?e+"WithTerminals":e}class RecentTaskTreeItem extends GradleTaskTreeItem{constructor(e,t,r,o,n={tasks:[]},s){super(e,t,r,o||r,"",n),this.taskTerminalsStore=s}setContext(){const e=this.task.definition;this.tooltip=(e.args?`(args: ${e.args}) `:"")+(e.description||this.label);const t=this.taskTerminalsStore.getItem(e.id+e.args),r=t?t.size:0;this.description=`(${r})`,this.contextValue=getRecentTaskTreeItemState(getTreeItemState(this.task,this.javaDebug,e.args),r),this.setIconState()}}const recentTasksGradleProjectTreeItemMap=new Map,recentTasksTreeItemMap=new Map;function getRecentTaskTreeItemMap(){return recentTasksTreeItemMap}function buildTaskTreeItem$1(e,t,r,o){const n=t.definition,s=t.name,i=new RecentTaskTreeItem(e,t,s,n.description||s,r.getJavaDebug(),o);return i.setContext(),i}function buildGradleProjectTreeItem$1(e,t,r){const o=e.definition;if(isWorkspaceFolder(e.scope)&&isGradleTask(e)){let n=recentTasksGradleProjectTreeItemMap.get(o.projectFolder);n||(n=new RecentTasksRootProjectTreeItem(path.basename(o.projectFolder)),recentTasksGradleProjectTreeItemMap.set(o.projectFolder,n));const s=buildTaskTreeItem$1(n,e,t,r);recentTasksTreeItemMap.set(o.id+o.args,s),n.addTask(s)}}class RecentTasksTreeDataProvider{constructor(e,t,r,o){this.context=e,this.recentTasksStore=t,this.taskTerminalsStore=r,this.rootProjectsStore=o,this._onDidChangeTreeData=new vscode.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.handleTerminalsStoreChange=e=>{if(e){const t=Array.from(this.taskTerminalsStore.getData().keys()).find(t=>this.taskTerminalsStore.getItem(t)===e);if(t){const e=recentTasksTreeItemMap.get(t);if(e)return e.setContext(),void this.refresh(e)}}this.refresh()},this.recentTasksStore.onDidChange(()=>this.refresh()),this.taskTerminalsStore.onDidChange(this.handleTerminalsStoreChange)}getStore(){return this.recentTasksStore}getTreeItem(e){return e}refresh(e=null){this._onDidChangeTreeData.fire(e)}getParent(e){return e instanceof GradleTaskTreeItem&&e.parentTreeItem||null}async getChildren(e){if(e instanceof RecentTasksRootProjectTreeItem)return[...e.tasks];if(!e){const e=await this.buildTreeItems();return e.length?e:[new NoRecentTasksTreeItem(this.context)]}return[]}async buildTreeItems(){recentTasksGradleProjectTreeItemMap.clear(),recentTasksTreeItemMap.clear();const e=await this.rootProjectsStore.buildAndGetProjectRoots();if(!e.length)return[];const t=e.length>1,r=Extension.getInstance().getGradleTaskProvider();await r.waitForTasksLoad();const o=this.recentTasksStore.getData();return Array.from(o.keys()).forEach(e=>{const t=r.findByTaskId(e);if(!t)return;const n=t.definition,s=this.rootProjectsStore.get(n.projectFolder);if(!s)return;const i=o.get(e)||"";i&&Array.from(i.values()).forEach(e=>{buildGradleProjectTreeItem$1(cloneTask(t,e,n.javaDebug),s,this.taskTerminalsStore)})}),recentTasksGradleProjectTreeItemMap.size?t?[...recentTasksGradleProjectTreeItemMap.values()]:[...recentTasksGradleProjectTreeItemMap.values().next().value.tasks]:[]}}class RecentTasksRootProjectTreeItem extends TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=vscode.ThemeIcon.Folder}}function treeItemSortCompareFunc(e,t){return e.label.localeCompare(t.label)}function gradleTaskTreeItemSortCompareFunc(e,t){const r=e.task.definition,o=t.task.definition,n=r.project===r.rootProject,s=o.project===o.rootProject;return n&&!s?-1:s&&!n?1:treeItemSortCompareFunc(e,t)}function getTreeItemForTask(e){const t=e.definition,r=getGradleTaskTreeItemMap().get(t.id);if(r&&r.task===e)return r;const o=getPinnedTasksTreeItemMap().get(t.id+t.args);if(o&&o.task===e)return o;const n=getRecentTaskTreeItemMap().get(t.id+t.args);return n&&n.task===e?n:null}function updateGradleTreeItemStateForTask(e){const t=e.definition,r=getGradleTaskTreeItemMap().get(t.id),o=Extension.getInstance();r&&(r.setContext(),o.getGradleTasksTreeDataProvider().refresh(r));const n=getPinnedTasksTreeItemMap().get(t.id+t.args);n&&(n.setContext(),o.getPinnedTasksTreeDataProvider().refresh(n));const s=getRecentTaskTreeItemMap().get(t.id+t.args);s&&(s.setContext(),o.getRecentTasksTreeDataProvider().refresh(s))}async function focusTaskInGradleTasksTree(e){try{const t=e.definition,r=getTreeItemForTask(e);if(null===r||r.constructor===GradleTaskTreeItem){const e=getGradleTaskTreeItemMap().get(t.id);e&&await Extension.getInstance().getGradleTasksTreeView().reveal(e,{expand:!0})}}catch(e){logger.error("Unable to focus task in explorer:",e.message)}}async function focusProjectInGradleTasksTree(e){try{await vscode.commands.executeCommand("workbench.view.extension."+GRADLE_CONTAINER_VIEW);const t=getProjectTreeItemMap().get(e.fsPath);t&&await Extension.getInstance().getGradleTasksTreeView().reveal(t,{focus:!0,expand:!0,select:!0})}catch(e){logger.error("Unable to focus project in explorer:",e.message)}}function getTreeItemRunningState(e,t,r){return isTaskCancelling(e,r)?TREE_ITEM_STATE_TASK_CANCELLING:isTaskRunning(e,r)?TREE_ITEM_STATE_TASK_RUNNING:t&&t.tasks.includes(e.definition.script)?TREE_ITEM_STATE_TASK_DEBUG_IDLE:TREE_ITEM_STATE_TASK_IDLE}function getTreeItemState(e,t,r){const o=getTreeItemRunningState(e,t,r);return r?o+"WithArgs":o}const COMMAND_RENDER_TASK="gradle.renderTask";function renderTaskCommand(e){updateGradleTreeItemStateForTask(e)}const COMMAND_RESTART_TASK="gradle.restartTask";function restartTaskCommand(e){if(e&&e.task){const t=getTaskExecution(e.task);t&&queueRestartTask(t.task)}}const COMMAND_RUN_TASK="gradle.runTask";function runTaskCommand(e){e&&e.task&&runTask(e.task)}const COMMAND_RUN_TASK_WITH_ARGS="gradle.runTaskWithArgs";function runTaskWithArgsCommand(e){e&&e.task?runTaskWithArgs(e.task,!1):logger.error("Unable to run task with args. TreeItem or TreeItem task not found.")}const COMMAND_SHOW_LOGS="gradle.showLogs";function showLogsCommand(){var e;null===(e=logger.getChannel())||void 0===e||e.show()}const COMMAND_SHOW_TASK_TERMINAL="gradle.showTaskTerminal";function showTaskTerminalCommand(e){if(e&&e.task){const t=e.task.definition,r=Extension.getInstance().getTaskTerminalsStore().getItem(t.id+t.args);if(r){const e=Array.from(r).pop();e&&e.show()}}}const COMMAND_SHOW_TASKS="gradle.showTasks";function showTasksCommand(e){focusProjectInGradleTasksTree(e)}const COMMAND_STOP_DAEMON="gradle.stopDaemon";async function stopDaemonCommand(e){if(!await confirmModal("Are you sure you want to stop the daemon?"))return;const t=e.pid,r=await Extension.getInstance().getClient().stopDaemon(t);r&&logger.info(r.getMessage())}const COMMAND_STOP_DAEMONS="gradle.stopDaemons";async function stopDaemonsCommand(){if(!vscode.workspace.workspaceFolders||!vscode.workspace.workspaceFolders.length||!await confirmModal("Are you sure you want to stop the daemons?"))return;const e=(await Extension.getInstance().getRootProjectsStore().buildAndGetProjectRootsWithUniqueVersions()).map(e=>Extension.getInstance().getClient().stopDaemons(e.getProjectUri().fsPath));(await Promise.all(e)).forEach(e=>{e&&logger.info(e.getMessage())})}const COMMAND_RUN_BUILD="gradle.runBuild";async function runBuildCommand(){const e=await getRootProjectFolder();if(!e)return;const t=await getGradleCommand();if(!t)return;const r=t.split(" ").filter(Boolean),o=getRunBuildCancellationKey(e.getProjectUri().fsPath,r),n=new GradleRunnerTerminal(e,r,o),s=new vscode.Task({type:"gradle"},e.getWorkspaceFolder(),t,"gradle",new vscode.CustomExecution(async()=>n),["$gradle"]);s.presentationOptions={showReuseMessage:!1,clear:!0,echo:!0,focus:!0,panel:vscode.TaskPanelKind.Shared,reveal:vscode.TaskRevealKind.Always},vscode.tasks.executeTask(s)}function registerCommands(e){e.subscriptions.push(vscode.commands.registerCommand(COMMAND_SHOW_TASKS,showTasksCommand),vscode.commands.registerCommand(COMMAND_RUN_TASK,runTaskCommand),vscode.commands.registerCommand(COMMAND_DEBUG_TASK,debugTaskCommand),vscode.commands.registerCommand(COMMAND_RESTART_TASK,restartTaskCommand),vscode.commands.registerCommand(COMMAND_RUN_TASK_WITH_ARGS,runTaskWithArgsCommand),vscode.commands.registerCommand(COMMAND_DEBUG_TASK_WITH_ARGS,debugTaskWithArgsCommand),vscode.commands.registerCommand(COMMAND_RENDER_TASK,renderTaskCommand),vscode.commands.registerCommand(COMMAND_CANCEL_BUILD,cancelBuildCommand),vscode.commands.registerCommand(COMMAND_CANCEL_TREE_ITEM_TASK,cancelTreeItemTaskCommand),vscode.commands.registerCommand(COMMAND_REFRESH,refreshCommand),vscode.commands.registerCommand(COMMAND_LOAD_TASKS,loadTasksCommand),vscode.commands.registerCommand(COMMAND_REFRESH_DAEMON_STATUS,refreshDaemonStatusCommand),vscode.commands.registerCommand(COMMAND_STOP_DAEMONS,stopDaemonsCommand),vscode.commands.registerCommand(COMMAND_STOP_DAEMON,stopDaemonCommand),vscode.commands.registerCommand(COMMAND_EXPLORER_TREE,explorerTreeCommand),vscode.commands.registerCommand(COMMAND_EXPLORER_FLAT,explorerFlatCommand),vscode.commands.registerCommand(COMMAND_OPEN_SETTINGS,openSettingsCommand),vscode.commands.registerCommand(COMMAND_OPEN_BUILD_FILE,openBuildFileCommand),vscode.commands.registerCommand(COMMAND_CANCELLING_TREE_ITEM_TASK,cancellingTreeItemTaskCommand),vscode.commands.registerCommand(COMMAND_SHOW_LOGS,showLogsCommand),vscode.commands.registerCommand(COMMAND_PIN_TASK,pinTaskCommand),vscode.commands.registerCommand(COMMAND_PIN_TASK_WITH_ARGS,pinTaskWithArgsCommand),vscode.commands.registerCommand(COMMAND_REMOVE_PINNED_TASK,removePinnedTaskCommand),vscode.commands.registerCommand(COMMAND_OPEN_PIN_HELP,openPinHelpCommand),vscode.commands.registerCommand(COMMAND_SHOW_TASK_TERMINAL,showTaskTerminalCommand),vscode.commands.registerCommand(COMMAND_CLOSE_TASK_TERMINALS,closeTaskTerminalsCommand),vscode.commands.registerCommand(COMMAND_CLOSE_ALL_TASK_TERMINALS,closeAllTaskTerminalsCommand),vscode.commands.registerCommand(COMMAND_CLEAR_ALL_RECENT_TASKS,clearAllRecentTasksCommand),vscode.commands.registerCommand(COMMAND_CLEAR_ALL_PINNED_TASKS,clearAllPinnedTasksCommand),vscode.commands.registerCommand(COMMAND_REMOVE_RECENT_TASK,removeRecentTaskCommand),vscode.commands.registerCommand(COMMAND_RUN_BUILD,runBuildCommand))}class Api{constructor(e,t){this.client=e,this.tasksTreeDataProvider=t,this.logger=logger}async runTask(e){const t=await this.findTask(e.projectFolder,e.taskName),r=[t.definition.script].concat(e.args).filter(Boolean),o=getRunTaskCommandCancellationKey(e.projectFolder,e.taskName);return this.client.runBuild(e.projectFolder,o,r,e.input,0,t,e.onOutput,e.showOutputColors)}async cancelRunTask(e){const t=await this.findTask(e.projectFolder,e.taskName),r=getRunTaskCommandCancellationKey(e.projectFolder,e.taskName);return this.client.cancelBuild(r,t)}async findTask(e,t){const r=await vscode.tasks.fetchTasks({type:"gradle"});if(!r)throw new Error("Unable to load gradle tasks");const o=r.find(r=>{const o=r.definition;return r.name===t&&o.projectFolder===e});if(!o)throw new Error("Unable to find task: "+t);return o}getTasksTreeProvider(){return this.tasksTreeDataProvider}}var semver=createCommonjsModule((function(e,t){var r;t=e.exports=u,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var o=Number.MAX_SAFE_INTEGER||9007199254740991,n=t.re=[],s=t.src=[],i=t.tokens={},a=0;function l(e){i[e]=a++}l("NUMERICIDENTIFIER"),s[i.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),s[i.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),s[i.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),s[i.MAINVERSION]="("+s[i.NUMERICIDENTIFIER]+")\\.("+s[i.NUMERICIDENTIFIER]+")\\.("+s[i.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),s[i.MAINVERSIONLOOSE]="("+s[i.NUMERICIDENTIFIERLOOSE]+")\\.("+s[i.NUMERICIDENTIFIERLOOSE]+")\\.("+s[i.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),s[i.PRERELEASEIDENTIFIER]="(?:"+s[i.NUMERICIDENTIFIER]+"|"+s[i.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),s[i.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[i.NUMERICIDENTIFIERLOOSE]+"|"+s[i.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),s[i.PRERELEASE]="(?:-("+s[i.PRERELEASEIDENTIFIER]+"(?:\\."+s[i.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),s[i.PRERELEASELOOSE]="(?:-?("+s[i.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[i.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),s[i.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),s[i.BUILD]="(?:\\+("+s[i.BUILDIDENTIFIER]+"(?:\\."+s[i.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),s[i.FULLPLAIN]="v?"+s[i.MAINVERSION]+s[i.PRERELEASE]+"?"+s[i.BUILD]+"?",s[i.FULL]="^"+s[i.FULLPLAIN]+"$",l("LOOSEPLAIN"),s[i.LOOSEPLAIN]="[v=\\s]*"+s[i.MAINVERSIONLOOSE]+s[i.PRERELEASELOOSE]+"?"+s[i.BUILD]+"?",l("LOOSE"),s[i.LOOSE]="^"+s[i.LOOSEPLAIN]+"$",l("GTLT"),s[i.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),s[i.XRANGEIDENTIFIERLOOSE]=s[i.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),s[i.XRANGEIDENTIFIER]=s[i.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),s[i.XRANGEPLAIN]="[v=\\s]*("+s[i.XRANGEIDENTIFIER]+")(?:\\.("+s[i.XRANGEIDENTIFIER]+")(?:\\.("+s[i.XRANGEIDENTIFIER]+")(?:"+s[i.PRERELEASE]+")?"+s[i.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),s[i.XRANGEPLAINLOOSE]="[v=\\s]*("+s[i.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[i.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[i.XRANGEIDENTIFIERLOOSE]+")(?:"+s[i.PRERELEASELOOSE]+")?"+s[i.BUILD]+"?)?)?",l("XRANGE"),s[i.XRANGE]="^"+s[i.GTLT]+"\\s*"+s[i.XRANGEPLAIN]+"$",l("XRANGELOOSE"),s[i.XRANGELOOSE]="^"+s[i.GTLT]+"\\s*"+s[i.XRANGEPLAINLOOSE]+"$",l("COERCE"),s[i.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),n[i.COERCERTL]=new RegExp(s[i.COERCE],"g"),l("LONETILDE"),s[i.LONETILDE]="(?:~>?)",l("TILDETRIM"),s[i.TILDETRIM]="(\\s*)"+s[i.LONETILDE]+"\\s+",n[i.TILDETRIM]=new RegExp(s[i.TILDETRIM],"g");l("TILDE"),s[i.TILDE]="^"+s[i.LONETILDE]+s[i.XRANGEPLAIN]+"$",l("TILDELOOSE"),s[i.TILDELOOSE]="^"+s[i.LONETILDE]+s[i.XRANGEPLAINLOOSE]+"$",l("LONECARET"),s[i.LONECARET]="(?:\\^)",l("CARETTRIM"),s[i.CARETTRIM]="(\\s*)"+s[i.LONECARET]+"\\s+",n[i.CARETTRIM]=new RegExp(s[i.CARETTRIM],"g");l("CARET"),s[i.CARET]="^"+s[i.LONECARET]+s[i.XRANGEPLAIN]+"$",l("CARETLOOSE"),s[i.CARETLOOSE]="^"+s[i.LONECARET]+s[i.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),s[i.COMPARATORLOOSE]="^"+s[i.GTLT]+"\\s*("+s[i.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),s[i.COMPARATOR]="^"+s[i.GTLT]+"\\s*("+s[i.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),s[i.COMPARATORTRIM]="(\\s*)"+s[i.GTLT]+"\\s*("+s[i.LOOSEPLAIN]+"|"+s[i.XRANGEPLAIN]+")",n[i.COMPARATORTRIM]=new RegExp(s[i.COMPARATORTRIM],"g");l("HYPHENRANGE"),s[i.HYPHENRANGE]="^\\s*("+s[i.XRANGEPLAIN]+")\\s+-\\s+("+s[i.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),s[i.HYPHENRANGELOOSE]="^\\s*("+s[i.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[i.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),s[i.STAR]="(<|>)?=?\\s*\\*";for(var g=0;g<a;g++)r(g,s[g]),n[g]||(n[g]=new RegExp(s[g]));function c(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof u)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?n[i.LOOSE]:n[i.FULL]).test(e))return null;try{return new u(e,t)}catch(e){return null}}function u(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof u){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof u))return new u(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?n[i.LOOSE]:n[i.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=c,t.valid=function(e,t){var r=c(e,t);return r?r.version:null},t.clean=function(e,t){var r=c(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=u,u.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},u.prototype.toString=function(){return this.version},u.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof u||(e=new u(e,this.options)),this.compareMain(e)||this.comparePre(e)},u.prototype.compareMain=function(e){return e instanceof u||(e=new u(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)},u.prototype.comparePre=function(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var o=this.prerelease[t],n=e.prerelease[t];if(r("prerelease compare",t,o,n),void 0===o&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===o)return-1;if(o!==n)return p(o,n)}while(++t)},u.prototype.compareBuild=function(e){e instanceof u||(e=new u(e,this.options));var t=0;do{var o=this.build[t],n=e.build[t];if(r("prerelease compare",t,o,n),void 0===o&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===o)return-1;if(o!==n)return p(o,n)}while(++t)},u.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,o){"string"==typeof r&&(o=r,r=void 0);try{return new u(e,r).inc(t,o).version}catch(e){return null}},t.diff=function(e,t){if(y(e,t))return null;var r=c(e),o=c(t),n="";if(r.prerelease.length||o.prerelease.length){n="pre";var s="prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==o[i])return n+i;return s},t.compareIdentifiers=p;var d=/^[0-9]+$/;function p(e,t){var r=d.test(e),o=d.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1}function h(e,t,r){return new u(e,r).compare(new u(t,r))}function f(e,t,r){return h(e,t,r)>0}function m(e,t,r){return h(e,t,r)<0}function y(e,t,r){return 0===h(e,t,r)}function S(e,t,r){return 0!==h(e,t,r)}function b(e,t,r){return h(e,t,r)>=0}function T(e,t,r){return h(e,t,r)<=0}function E(e,t,r,o){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return y(e,r,o);case"!=":return S(e,r,o);case">":return f(e,r,o);case">=":return b(e,r,o);case"<":return m(e,r,o);case"<=":return T(e,r,o);default:throw new TypeError("Invalid operator: "+t)}}function _(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof _){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof _))return new _(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===R?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return p(t,e)},t.major=function(e,t){return new u(e,t).major},t.minor=function(e,t){return new u(e,t).minor},t.patch=function(e,t){return new u(e,t).patch},t.compare=h,t.compareLoose=function(e,t){return h(e,t,!0)},t.compareBuild=function(e,t,r){var o=new u(e,r),n=new u(t,r);return o.compare(n)||o.compareBuild(n)},t.rcompare=function(e,t,r){return h(t,e,r)},t.sort=function(e,r){return e.sort((function(e,o){return t.compareBuild(e,o,r)}))},t.rsort=function(e,r){return e.sort((function(e,o){return t.compareBuild(o,e,r)}))},t.gt=f,t.lt=m,t.eq=y,t.neq=S,t.gte=b,t.lte=T,t.cmp=E,t.Comparator=_;var R={};function v(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof v)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new v(e.raw,t);if(e instanceof _)return new v(e.value,t);if(!(this instanceof v))return new v(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function A(e,t){for(var r=!0,o=e.slice(),n=o.pop();r&&o.length;)r=o.every((function(e){return n.intersects(e,t)})),n=o.pop();return r}function C(e){return!e||"x"===e.toLowerCase()||"*"===e}function I(e,t,r,o,n,s,i,a,l,g,c,u,d){return((t=C(r)?"":C(o)?">="+r+".0.0":C(n)?">="+r+"."+o+".0":">="+t)+" "+(a=C(l)?"":C(g)?"<"+(+l+1)+".0.0":C(c)?"<"+l+"."+(+g+1)+".0":u?"<="+l+"."+g+"."+c+"-"+u:"<="+a)).trim()}function w(e,t,o){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!o.includePrerelease){for(n=0;n<e.length;n++)if(r(e[n].semver),e[n].semver!==R&&e[n].semver.prerelease.length>0){var s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function O(e,t,r){try{t=new v(t,r)}catch(e){return!1}return t.test(e)}function M(e,t,r,o){var n,s,i,a,l;switch(e=new u(e,o),t=new v(t,o),r){case">":n=f,s=T,i=m,a=">",l=">=";break;case"<":n=m,s=b,i=f,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(O(e,t,o))return!1;for(var g=0;g<t.set.length;++g){var c=t.set[g],d=null,p=null;if(c.forEach((function(e){e.semver===R&&(e=new _(">=0.0.0")),d=d||e,p=p||e,n(e.semver,d.semver,o)?d=e:i(e.semver,p.semver,o)&&(p=e)})),d.operator===a||d.operator===l)return!1;if((!p.operator||p.operator===a)&&s(e,p.semver))return!1;if(p.operator===l&&i(e,p.semver))return!1}return!0}_.prototype.parse=function(e){var t=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=R},_.prototype.toString=function(){return this.value},_.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===R||e===R)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return E(e,this.operator,this.semver,this.options)},_.prototype.intersects=function(e,t){if(!(e instanceof _))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new v(e.value,t),O(this.value,r,t));if(""===e.operator)return""===e.value||(r=new v(this.value,t),O(e.semver,r,t));var o=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=E(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=E(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return o||n||s&&i||a||l},t.Range=v,v.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},v.prototype.toString=function(){return this.range},v.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var o=t?n[i.HYPHENRANGELOOSE]:n[i.HYPHENRANGE];e=e.replace(o,I),r("hyphen replace",e),e=e.replace(n[i.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,n[i.COMPARATORTRIM]),e=(e=(e=e.replace(n[i.TILDETRIM],"$1~")).replace(n[i.CARETTRIM],"$1^")).split(/\s+/).join(" ");var s=t?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var o=t.loose?n[i.CARETLOOSE]:n[i.CARET];return e.replace(o,(function(t,o,n,s,i){var a;return r("caret",e,t,o,n,s,i),C(o)?a="":C(n)?a=">="+o+".0.0 <"+(+o+1)+".0.0":C(s)?a="0"===o?">="+o+"."+n+".0 <"+o+"."+(+n+1)+".0":">="+o+"."+n+".0 <"+(+o+1)+".0.0":i?(r("replaceCaret pr",i),a="0"===o?"0"===n?">="+o+"."+n+"."+s+"-"+i+" <"+o+"."+n+"."+(+s+1):">="+o+"."+n+"."+s+"-"+i+" <"+o+"."+(+n+1)+".0":">="+o+"."+n+"."+s+"-"+i+" <"+(+o+1)+".0.0"):(r("no pr"),a="0"===o?"0"===n?">="+o+"."+n+"."+s+" <"+o+"."+n+"."+(+s+1):">="+o+"."+n+"."+s+" <"+o+"."+(+n+1)+".0":">="+o+"."+n+"."+s+" <"+(+o+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var o=t.loose?n[i.TILDELOOSE]:n[i.TILDE];return e.replace(o,(function(t,o,n,s,i){var a;return r("tilde",e,t,o,n,s,i),C(o)?a="":C(n)?a=">="+o+".0.0 <"+(+o+1)+".0.0":C(s)?a=">="+o+"."+n+".0 <"+o+"."+(+n+1)+".0":i?(r("replaceTilde pr",i),a=">="+o+"."+n+"."+s+"-"+i+" <"+o+"."+(+n+1)+".0"):a=">="+o+"."+n+"."+s+" <"+o+"."+(+n+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var o=t.loose?n[i.XRANGELOOSE]:n[i.XRANGE];return e.replace(o,(function(o,n,s,i,a,l){r("xRange",e,o,n,s,i,a,l);var g=C(s),c=g||C(i),u=c||C(a),d=u;return"="===n&&d&&(n=""),l=t.includePrerelease?"-0":"",g?o=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(c&&(i=0),a=0,">"===n?(n=">=",c?(s=+s+1,i=0,a=0):(i=+i+1,a=0)):"<="===n&&(n="<",c?s=+s+1:i=+i+1),o=n+s+"."+i+"."+a+l):c?o=">="+s+".0.0"+l+" <"+(+s+1)+".0.0"+l:u&&(o=">="+s+"."+i+".0"+l+" <"+s+"."+(+i+1)+".0"+l),r("xRange return",o),o}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(n[i.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(s)}))),a=a.map((function(e){return new _(e,this.options)}),this)},v.prototype.intersects=function(e,t){if(!(e instanceof v))throw new TypeError("a Range is required");return this.set.some((function(r){return A(r,t)&&e.set.some((function(e){return A(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new v(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},v.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1},t.satisfies=O,t.maxSatisfying=function(e,t,r){var o=null,n=null;try{var s=new v(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(o&&-1!==n.compare(e)||(n=new u(o=e,r)))})),o},t.minSatisfying=function(e,t,r){var o=null,n=null;try{var s=new v(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(o&&1!==n.compare(e)||(n=new u(o=e,r)))})),o},t.minVersion=function(e,t){e=new v(e,t);var r=new u("0.0.0");if(e.test(r))return r;if(r=new u("0.0.0-0"),e.test(r))return r;r=null;for(var o=0;o<e.set.length;++o){e.set[o].forEach((function(e){var t=new u(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!f(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new v(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return M(e,t,"<",r)},t.gtr=function(e,t,r){return M(e,t,">",r)},t.outside=M,t.prerelease=function(e,t){var r=c(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new v(e,r),t=new v(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof u)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var o;(o=n[i.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n[i.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;n[i.COERCERTL].lastIndex=-1}else r=e.match(n[i.COERCE]);if(null===r)return null;return c(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}})),constants=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(t.Status||(t.Status={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR"}(t.LogVerbosity||(t.LogVerbosity={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304})),logging=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});let r=console,o=constants.LogVerbosity.ERROR;if(process.env.GRPC_VERBOSITY)switch(process.env.GRPC_VERBOSITY){case"DEBUG":o=constants.LogVerbosity.DEBUG;break;case"INFO":o=constants.LogVerbosity.INFO;break;case"ERROR":o=constants.LogVerbosity.ERROR}t.getLogger=()=>r,t.setLogger=e=>{r=e},t.setLoggerVerbosity=e=>{o=e},t.log=(e,...t)=>{e>=o&&"function"==typeof r.error&&r.error(...t)};const n=process.env.GRPC_TRACE?process.env.GRPC_TRACE.split(","):[],s=n.includes("all");t.trace=function(e,r,o){(s||n.includes(r))&&t.log(e,(new Date).toISOString()+" | "+r+" | "+o)}})),metadata=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=/^[0-9a-z_.-]+$/,o=/^[ -~]*$/;function n(e){return e.endsWith("-bin")}function s(e){return e.toLowerCase()}function i(e,t){if(!function(e){return r.test(e)}(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(n(e)){if(!(t instanceof Buffer))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(t instanceof Buffer)throw new Error("keys that don't end with '-bin' must have String values");if(!function(e){return o.test(e)}(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}class a{constructor(e){this.internalRepr=new Map,this.options=void 0===e?{}:e}set(e,t){i(e=s(e),t),this.internalRepr.set(e,[t])}add(e,t){i(e=s(e),t);const r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){i(e=s(e)),this.internalRepr.delete(e)}get(e){return i(e=s(e)),this.internalRepr.get(e)||[]}getMap(){const e={};return this.internalRepr.forEach((t,r)=>{if(t.length>0){const o=t[0];e[r]=o instanceof Buffer?o.slice():o}}),e}clone(){const e=new a(this.options),t=e.internalRepr;return this.internalRepr.forEach((e,r)=>{const o=e.map(e=>e instanceof Buffer?Buffer.from(e):e);t.set(r,o)}),e}merge(e){e.internalRepr.forEach((e,t)=>{const r=(this.internalRepr.get(t)||[]).concat(e);this.internalRepr.set(t,r)})}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};return this.internalRepr.forEach((t,r)=>{e[r]=t.map(e=>e instanceof Buffer?e.toString("base64"):e)}),e}_getCoreRepresentation(){return this.internalRepr}static fromHttp2Headers(e){const t=new a;return Object.keys(e).forEach(r=>{if(":"===r.charAt(0))return;const o=e[r];try{n(r)?Array.isArray(o)?o.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==o&&(!function(e){return!e.startsWith("grpc-")}(r)?t.add(r,Buffer.from(o,"base64")):o.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))})):Array.isArray(o)?o.forEach(e=>{t.add(r,e)}):void 0!==o&&t.add(r,o)}catch(e){const t=`Failed to add metadata entry ${r}: ${o}. ${e.message}. For more information see https://github.com/grpc/grpc-node/issues/1173`;logging.log(constants.LogVerbosity.ERROR,t)}}),t}}t.Metadata=a})),callCredentials=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{static createFromMetadataGenerator(e){return new n(e)}static createFromGoogleCredential(e){return r.createFromMetadataGenerator((t,r)=>{let o;o=function(e){return"getRequestHeaders"in e&&"function"==typeof e.getRequestHeaders}(e)?e.getRequestHeaders(t.service_url):new Promise((r,o)=>{e.getRequestMetadata(t.service_url,(e,t)=>{e?o(e):r(t)})}),o.then(e=>{const t=new metadata.Metadata;for(const r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new s}}t.CallCredentials=r;class o extends r{constructor(e){super(),this.creds=e}async generateMetadata(e){const t=new metadata.Metadata,r=await Promise.all(this.creds.map(t=>t.generateMetadata(e)));for(const e of r)t.merge(e);return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){return this===e||e instanceof o&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class n extends r{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,o)=>{void 0!==o?t(o):r(e)})})}compose(e){return new o([this,e])}_equals(e){return this===e||e instanceof n&&this.metadataGenerator===e.metadataGenerator}}class s extends r{generateMetadata(e){return Promise.resolve(new metadata.Metadata)}compose(e){return e}_equals(e){return e instanceof s}}})),filterStack=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}}t.FilterStack=r;t.FilterStackFactory=class{constructor(e){this.factories=e}createFilter(e){return new r(this.factories.map(t=>t.createFilter(e)))}}})),streamDecoder=createCommonjsModule((function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={}));t.StreamDecoder=class{constructor(){this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,o=0;const n=[];for(;o<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(o,o+1),o+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-o,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,o,o+t),this.readSizeRemaining-=t,o+=t,0===this.readSizeRemaining)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,n.push(e)}break;case r.READING_MESSAGE:if(t=Math.min(e.length-o,this.readMessageRemaining),this.readPartialMessage.push(e.slice(o,o+t)),this.readMessageRemaining-=t,o+=t,0===this.readMessageRemaining){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,n.push(t)}break;default:throw new Error("Unexpected read state")}return n}}})),callStream=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=constants,{HTTP2_HEADER_STATUS:o,HTTP2_HEADER_CONTENT_TYPE:n,NGHTTP2_CANCEL:s}=http2.constants;t.isInterceptingListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length};t.InterceptingListenerImpl=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMessage=!1,this.pendingStatus=null}onReceiveMetadata(e){this.listener.onReceiveMetadata(e,e=>{this.nextListener.onReceiveMetadata(e)})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.nextListener.onReceiveMessage(e),this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}};t.Http2CallStream=class{constructor(e,t,r,o,n,s){this.methodName=e,this.channel=t,this.options=r,this.channelCallCredentials=n,this.callNumber=s,this.http2Stream=null,this.pendingRead=!1,this.isWriteFilterPending=!1,this.pendingWrite=null,this.pendingWriteCallback=null,this.writesClosed=!1,this.decoder=new streamDecoder.StreamDecoder,this.isReadFilterPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.unfilteredReadMessages=[],this.mappedStatusCode=constants.Status.UNKNOWN,this.finalStatus=null,this.subchannel=null,this.listener=null,this.filterStack=o.createFilter(this),this.credentials=n,this.disconnectListener=()=>{this.endCall({code:constants.Status.UNAVAILABLE,details:"Connection dropped",metadata:new metadata.Metadata})}}outputStatus(){var e;if(!this.statusOutput){this.statusOutput=!0;const t=this.filterStack.receiveTrailers(this.finalStatus);null===(e=this.listener)||void 0===e||e.onReceiveStatus(t),this.subchannel&&(this.subchannel.callUnref(),this.subchannel.removeDisconnectListener(this.disconnectListener))}}trace(e){logging.trace(r.LogVerbosity.DEBUG,"call_stream","["+this.callNumber+"] "+e)}endCall(e){null!==this.finalStatus&&this.finalStatus.code!==constants.Status.OK||(this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null!==this.finalStatus&&(this.finalStatus.code!==constants.Status.OK||this.readsClosed&&0===this.unpushedReadMessages.length&&0===this.unfilteredReadMessages.length&&!this.isReadFilterPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,process.nextTick(()=>{var t;this.statusOutput||(null===(t=this.listener)||void 0===t||t.onReceiveMessage(e),this.maybeOutputStatus())})}handleFilterError(e){this.cancelWithStatus(constants.Status.INTERNAL,e.message)}handleFilteredRead(e){if(null===this.finalStatus||this.finalStatus.code===constants.Status.OK){if(this.isReadFilterPending=!1,this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e)),this.unfilteredReadMessages.length>0){const e=this.unfilteredReadMessages.shift();this.filterReceivedMessage(e)}}else this.maybeOutputStatus()}filterReceivedMessage(e){null===this.finalStatus||this.finalStatus.code===constants.Status.OK?(this.trace("filterReceivedMessage of length "+e.length),this.isReadFilterPending=!0,this.filterStack.receiveMessage(Promise.resolve(e)).then(this.handleFilteredRead.bind(this),this.handleFilterError.bind(this))):this.maybeOutputStatus()}tryPush(e){this.isReadFilterPending?(this.trace("unfilteredReadMessages.push message of length "+(e&&e.length)),this.unfilteredReadMessages.push(e)):this.filterReceivedMessage(e)}handleTrailers(e){let t,r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=metadata.Metadata.fromHttp2Headers(e)}catch(e){t=new metadata.Metadata}const o=t.getMap();let n=this.mappedStatusCode;if(n===constants.Status.UNKNOWN&&"string"==typeof o["grpc-status"]){const e=Number(o["grpc-status"]);e in constants.Status&&(n=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let s="";"string"==typeof o["grpc-message"]&&(s=decodeURI(o["grpc-message"]),t.remove("grpc-message"),this.trace('received status details string "'+s+'" from server'));const i={code:n,details:s,metadata:t};let a;try{a=this.filterStack.receiveTrailers(i)}catch(e){return void this.endCall({code:constants.Status.INTERNAL,details:"Failed to process received status",metadata:new metadata.Metadata})}this.endCall(a)}attachHttp2Stream(e,t,r){if(void 0!==r&&(this.filterStack=new filterStack.FilterStack([this.filterStack,r.createFilter(this)])),null!==this.finalStatus)e.close(s);else{if(this.trace("attachHttp2Stream from subchannel "+t.getAddress()),this.http2Stream=e,this.subchannel=t,t.addDisconnectListener(this.disconnectListener),t.callRef(),e.on("response",(e,t)=>{var r;let o="";for(const t of Object.keys(e))o+="\t\t"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+o),e[":status"]){case 400:this.mappedStatusCode=constants.Status.INTERNAL;break;case 401:this.mappedStatusCode=constants.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=constants.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=constants.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=constants.Status.UNAVAILABLE;break;default:this.mappedStatusCode=constants.Status.UNKNOWN}if(t&http2.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=metadata.Metadata.fromHttp2Headers(e)}catch(e){return void this.endCall({code:constants.Status.UNKNOWN,details:e.message,metadata:new metadata.Metadata})}try{const e=this.filterStack.receiveMetadata(t);null===(r=this.listener)||void 0===r||r.onReceiveMetadata(e)}catch(e){this.endCall({code:constants.Status.UNKNOWN,details:e.message,metadata:new metadata.Metadata})}}}),e.on("trailers",this.handleTrailers.bind(this)),e.on("data",e=>{this.trace("receive HTTP/2 data frame of length "+e.length);const t=this.decoder.write(e);for(const e of t)this.trace("parsed message of length "+e.length),this.tryPush(e)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{var t;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===constants.Status.OK)return;let r,o="";switch(e.rstCode){case http2.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=constants.Status.INTERNAL,o="Received RST_STREAM with code "+e.rstCode;break;case http2.constants.NGHTTP2_REFUSED_STREAM:r=constants.Status.UNAVAILABLE,o="Stream refused by server";break;case http2.constants.NGHTTP2_CANCEL:r=constants.Status.CANCELLED,o="Call cancelled";break;case http2.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=constants.Status.RESOURCE_EXHAUSTED,o="Bandwidth exhausted";break;case http2.constants.NGHTTP2_INADEQUATE_SECURITY:r=constants.Status.PERMISSION_DENIED,o="Protocol not secure enough";break;default:r=constants.Status.INTERNAL,o="Received RST_STREAM with code "+e.rstCode}this.endCall({code:r,details:o,metadata:new metadata.Metadata})}),e.on("error",e=>{}),this.pendingRead||e.pause(),this.pendingWrite){if(!this.pendingWriteCallback)throw new Error("Invalid state in write handling code");this.trace("sending data chunk of length "+this.pendingWrite.length+" (deferred)"),e.write(this.pendingWrite,this.pendingWriteCallback)}this.maybeCloseWrites()}}start(e,t){this.trace("Sending metadata"),this.listener=t,this.channel._startCallStream(this,e)}destroyHttp2Stream(){var e;if(null!==this.http2Stream&&!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===constants.Status.OK?http2.constants.NGHTTP2_NO_ERROR:http2.constants.NGHTTP2_CANCEL,this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new metadata.Metadata})}getDeadline(){return this.options.deadline}getCredentials(){return this.credentials}setCredentials(e){this.credentials=this.channelCallCredentials.compose(e)}getStatus(){return this.finalStatus}getPeer(){throw new Error("Not yet implemented")}getMethod(){return this.methodName}getHost(){return this.options.host}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==constants.Status.OK)return this.readsClosed=!0,void this.maybeOutputStatus();if(this.canPush=!0,null===this.http2Stream)this.pendingRead=!0;else{if(this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();return void this.push(e)}this.http2Stream.resume()}}maybeCloseWrites(){this.writesClosed&&!this.isWriteFilterPending&&null!==this.http2Stream&&(this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end())}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);const o={message:t,flags:e.flags},n=null!==(r=e.callback)&&void 0!==r?r:()=>{};this.isWriteFilterPending=!0,this.filterStack.sendMessage(Promise.resolve(o)).then(e=>{this.isWriteFilterPending=!1,null===this.http2Stream?(this.trace("deferring writing data chunk of length "+e.message.length),this.pendingWrite=e.message,this.pendingWriteCallback=n):(this.trace("sending data chunk of length "+e.message.length),this.http2Stream.write(e.message,n),this.maybeCloseWrites())},this.handleFilterError.bind(this))}halfClose(){this.trace("end() called"),this.writesClosed=!0,this.maybeCloseWrites()}}})),tlsHelpers=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const r=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let o=null;t.getDefaultRootsData=function(){return r?(null===o&&(o=fs__default.readFileSync(r)),o):null}})),channelCredentials=createCommonjsModule((function(e,t){function r(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(t+", if provided, must be a Buffer.")}function o(e,t){return null===e&&null===t||null!==e&&null!==t&&e.equals(t)}Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.callCredentials=e||callCredentials.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,o,n){if(r(e,"Root certificate"),r(t,"Private key"),r(o,"Certificate chain"),t&&!o)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&o)throw new Error("Certificate chain must be given with accompanying private key");return new i(e||tlsHelpers.getDefaultRootsData(),t||null,o||null,n||{})}static createInsecure(){return new s}}t.ChannelCredentials=n;class s extends n{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof s}}class i extends n{constructor(e,t,r,o){super(),this.rootCerts=e,this.privateKey=t,this.certChain=r,this.verifyOptions=o;const n=tls.createSecureContext({ca:e||void 0,key:t||void 0,cert:r||void 0,ciphers:tlsHelpers.CIPHER_SUITES});this.connectionOptions={secureContext:n},o&&o.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=(e,t)=>o.checkServerIdentity(e,{raw:t.raw}))}compose(e){const t=this.callCredentials.compose(e);return new a(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof i&&(!!o(this.rootCerts,e.rootCerts)&&(!!o(this.privateKey,e.privateKey)&&(!!o(this.certChain,e.certChain)&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity)))}}class a extends n{constructor(e,t){super(t),this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new a(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof a&&(this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials))}}t.createGoogleDefaultCredentials=function(){const e=require("google-auth-library").GoogleAuth,t=n.createSsl(),r=callCredentials.CallCredentials.createFromGoogleCredential(new e);return t.compose(r)}})),picker=createCommonjsModule((function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE"}(r=t.PickResultType||(t.PickResultType={}));t.UnavailablePicker=class{constructor(e){this.status=void 0!==e?e:{code:constants.Status.UNAVAILABLE,details:"No connection established",metadata:new metadata.Metadata}}pick(e){return{pickResultType:r.TRANSIENT_FAILURE,subchannel:null,status:this.status,extraFilterFactory:null,onCallStarted:null}}};t.QueuePicker=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:r.QUEUE,subchannel:null,status:null,extraFilterFactory:null,onCallStarted:null}}}})),backoffTimeout=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.BackoffTimeout=class{constructor(e,t){this.callback=e,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runOnce(){this.running=!0,this.timerId=setTimeout(()=>{this.callback(),this.running=!1},this.nextDelay);const e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;var r,o;this.nextDelay=e+(r=-t,o=t,Math.random()*(o-r)+r)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){this.nextDelay=this.initialDelay}isRunning(){return this.running}}})),loadBalancingConfig=createCommonjsModule((function(e,t){function r(e){if(!("balancerName"in e)||"string"!=typeof e.balancerName)throw new Error("Invalid xds config: invalid balancerName");const t={balancerName:e.balancerName,childPolicy:[],fallbackPolicy:[]};if("childPolicy"in e){if(!Array.isArray(e.childPolicy))throw new Error("Invalid xds config: invalid childPolicy");for(const r of e.childPolicy)t.childPolicy.push(n(r))}if("fallbackPolicy"in e){if(!Array.isArray(e.fallbackPolicy))throw new Error("Invalid xds config: invalid fallbackPolicy");for(const r of e.fallbackPolicy)t.fallbackPolicy.push(n(r))}return t}function o(e){const t={childPolicy:[]};if("childPolicy"in e){if(!Array.isArray(e.childPolicy))throw new Error("Invalid xds config: invalid childPolicy");for(const r of e.childPolicy)t.childPolicy.push(n(r))}return t}function n(e){if("round_robin"in e){if("xds"in e||"grpclb"in e)throw new Error("Multiple load balancing policies configured");if(e.round_robin instanceof Object)return{name:"round_robin",round_robin:{}}}if("xds"in e){if("grpclb"in e)throw new Error("Multiple load balancing policies configured");return{name:"xds",xds:r(e.xds)}}if("grpclb"in e)return{name:"grpclb",grpclb:o(e.grpclb)};throw new Error("No recognized load balancing policy configured")}Object.defineProperty(t,"__esModule",{value:!0}),t.isRoundRobinLoadBalancingConfig=function(e){return"round_robin"===e.name},t.isXdsLoadBalancingConfig=function(e){return"xds"===e.name},t.isGrpcLbLoadBalancingConfig=function(e){return"grpclb"===e.name},t.isPriorityLoadBalancingConfig=function(e){return"priority"===e.name},t.validateConfig=n})),serviceConfig=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=/^\d+(\.\d{1,9})?s$/;function o(e){if(!("service"in e)||"string"!=typeof e.service)throw new Error("Invalid method config name: invalid service");const t={service:e.service};if("method"in e){if("string"!=typeof e.method)throw new Error("Invalid method config name: invalid method");t.method=e.method}return t}function n(e){const t={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(const r of e.name)t.name.push(o(r));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=e.waitForReady}if("timeout"in e){if("string"!=typeof e.timeout||!r.test(e.timeout))throw new Error("Invalid method config: invalid timeout");t.timeout=e.timeout}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=e.maxResponseBytes}return t}function s(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"!=typeof e.loadBalancingPolicy)throw new Error("Invalid service config: invalid loadBalancingPolicy");t.loadBalancingPolicy=e.loadBalancingPolicy}if("loadBalancingConfig"in e){if(!Array.isArray(e.loadBalancingConfig))throw new Error("Invalid service config: invalid loadBalancingConfig");for(const r of e.loadBalancingConfig)t.loadBalancingConfig.push(loadBalancingConfig.validateConfig(r))}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(const r of e.methodConfig)t.methodConfig.push(n(r));const r=[];for(const e of t.methodConfig)for(const t of e.name){for(const e of r)if(t.service===e.service&&t.method===e.method)throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function i(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");const t={serviceConfig:s(e.serviceConfig)};if("clientLanguage"in e){if(!Array.isArray(e.clientLanguage))throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage=[];for(const r of e.clientLanguage){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage.push(r)}}if("clientHostname"in e){if(!Array.isArray(e.clientHostname))throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname=[];for(const r of e.clientHostname){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname.push(r)}}if("percentage"in e){if(!("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100))throw new Error("Invalid service config choice: invalid percentage");t.percentage=e.percentage}const r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e)if(!r.includes(t))throw new Error("Invalid service config choice: unexpected field "+t);return t}function a(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(const r of e){const e=i(r);if(!("number"==typeof e.percentage&&t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(const r of e.clientHostname)r===os.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(const r of e.clientLanguage)"node"===r&&(t=!0);if(!t)continue}return e.serviceConfig}}throw new Error("No matching service config found")}t.validateServiceConfig=s,t.extractAndSelectServiceConfig=function(e,t){for(const r of e)if(r.length>0&&r[0].startsWith("grpc_config=")){const e=r.join("").substring("grpc_config=".length);return a(JSON.parse(e),t)}return null}})),uriParser=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;t.parseUri=function(e){const t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}};const o=/^\d+$/;t.splitHostPort=function(e){if(e.startsWith("[")){const t=e.indexOf("]");if(-1===t)return null;const r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(e.length>t+1){if(":"===e[t+1]){const n=e.substring(t+2);return o.test(n)?{host:r,port:+n}:null}return null}return{host:r}}{const t=e.split(":");return 2===t.length?o.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}},t.uriToString=function(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path,t}})),resolverDns=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=constants;function o(e){logging.trace(r.LogVerbosity.DEBUG,"dns_resolver",e)}const n=util__default.promisify(dns.resolveTxt),s=util__default.promisify(dns.lookup);class i{constructor(e,t){var r,n;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,o("Resolver constructed for target "+uriParser.uriToString(e));const s=uriParser.splitHostPort(e.path);null===s?(this.ipResult=null,this.dnsHostname=null,this.port=null):net__default.isIPv4(s.host)||net__default.isIPv6(s.host)?(this.ipResult=[{host:s.host,port:null!==(r=s.port)&&void 0!==r?r:443}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=s.host,this.port=null!==(n=s.port)&&void 0!==n?n:443),this.percentage=100*Math.random(),this.defaultResolutionError={code:constants.Status.UNAVAILABLE,details:"Name resolution failed for target "+uriParser.uriToString(this.target),metadata:new metadata.Metadata}}startResolution(){if(null!==this.ipResult)return o("Returning IP address for target "+uriParser.uriToString(this.target)),void setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,{})});if(null===this.dnsHostname)setImmediate(()=>{this.listener.onError({code:constants.Status.UNAVAILABLE,details:"Failed to parse DNS address "+uriParser.uriToString(this.target),metadata:new metadata.Metadata})});else{this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=s(e,{all:!0}),this.pendingLookupPromise.then(e=>{this.pendingLookupPromise=null;const t=e.filter(e=>4===e.family),r=e.filter(e=>6===e.family);this.latestLookupResult=function(...e){const t=[];for(let r=0;r<Math.max.apply(null,e.map(e=>e.length));r++)for(const o of e)r<o.length&&t.push(o[r]);return t}(r,t).map(e=>({host:e.address,port:+this.port}));const n="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";o("Resolved addresses for target "+uriParser.uriToString(this.target)+": "+n),0!==this.latestLookupResult.length?this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,{}):this.listener.onError(this.defaultResolutionError)},e=>{o("Resolution error for target "+uriParser.uriToString(this.target)+": "+e.message),this.pendingLookupPromise=null,this.listener.onError(this.defaultResolutionError)}),null===this.pendingTxtPromise&&(this.pendingTxtPromise=n(e),this.pendingTxtPromise.then(e=>{this.pendingTxtPromise=null;try{this.latestServiceConfig=serviceConfig.extractAndSelectServiceConfig(e,this.percentage)}catch(e){this.latestServiceConfigError={code:constants.Status.UNAVAILABLE,details:"Parsing service config failed",metadata:new metadata.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,{})},e=>{this.latestServiceConfigError={code:constants.Status.UNAVAILABLE,details:"TXT query failed",metadata:new metadata.Metadata},null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,{})}))}}updateResolution(){o("Resolution update requested for target "+uriParser.uriToString(this.target)),null===this.pendingLookupPromise&&this.startResolution()}static getDefaultAuthority(e){const t=uriParser.splitHostPort(e.path);if(null!==t)return t.host;throw new Error("Failed to parse target "+uriParser.uriToString(e))}}t.setup=function(){resolver.registerResolver("dns",i),resolver.registerDefaultScheme("dns")}})),resolverUds=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){let r;this.listener=t,this.addresses=[],r=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:r}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,{})}static getDefaultAuthority(e){return"localhost"}}t.setup=function(){resolver.registerResolver("unix",r)}})),resolver=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={};let o=null;t.registerResolver=function(e,t){r[e]=t},t.registerDefaultScheme=function(e){o=e},t.createResolver=function(e,t){if(void 0!==e.scheme&&e.scheme in r)return new r[e.scheme](e,t);throw new Error("No resolver could be created for target "+uriParser.uriToString(e))},t.getDefaultAuthority=function(e){if(void 0!==e.scheme&&e.scheme in r)return r[e.scheme].getDefaultAuthority(e);throw new Error("Invalid target "+uriParser.uriToString(e))},t.mapUriDefaultScheme=function(e){return void 0!==e.scheme&&e.scheme in r?e:null!==o?{scheme:o,authority:void 0,path:uriParser.uriToString(e)}:null},t.registerAll=function(){resolverDns.setup(),resolverUds.setup()}})),http_proxy=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=logging;function o(e){r.trace(constants.LogVerbosity.DEBUG,"proxy",e)}t.mapProxyName=function(e,t){var r;const n={target:e,extraOptions:{}};if(0===(null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1))return n;const s=function(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new url.URL(t)}catch(e){return logging.log(constants.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return logging.log(constants.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let n=null;e.username&&(e.password?(logging.log(constants.LogVerbosity.INFO,"userinfo found in proxy URI"),n=`${e.username}:${e.password}`):n=e.username);const s={address:e.host};return n&&(s.creds=n),o("Proxy server "+s.address+" set by environment variable "+r),s}();if(!s.address)return n;const i=uriParser.splitHostPort(e.path);if(!i)return n;const a=i.host;for(const t of function(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return e||(e=process.env.no_proxy,t="no_proxy"),e?(o("No proxy server list set by environment variable "+t),e.split(",")):[]}())if(t===a)return o("Not using proxy for target in no_proxy list: "+uriParser.uriToString(e)),n;const l={"grpc.http_connect_target":uriParser.uriToString(e)};return s.creds&&(l["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:l}},t.getProxiedConnection=function(e,t,r){if(!("grpc.http_connect_target"in t))return Promise.resolve({});const n=t["grpc.http_connect_target"],s=uriParser.parseUri(n);if(null===s)return Promise.resolve({});const i={method:"CONNECT",path:s.path};subchannel.isTcpSubchannelAddress(e)?(i.host=e.host,i.port=e.port):i.socketPath=e.path,"grpc.http_connect_creds"in t&&(i.headers={"Proxy-Authorization":"Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")});const a=subchannel.subchannelAddressToString(e);return o("Using proxy "+a+" to connect to "+i.path),new Promise((e,t)=>{const n=http.request(i);n.once("connect",(l,g,c)=>{if(n.removeAllListeners(),g.removeAllListeners(),200===l.statusCode)if(o("Successfully connected to "+i.path+" through proxy "+a),"secureContext"in r){const n=resolver.getDefaultAuthority(s),l=tls.connect(Object.assign({host:n,servername:n,socket:g},r),()=>{o("Successfully established a TLS connection to "+i.path+" through proxy "+a),e({socket:l,realTarget:s})});l.on("error",()=>{t()})}else e({socket:g,realTarget:s});else logging.log(constants.LogVerbosity.ERROR,"Failed to connect to "+i.path+" through proxy "+a+" with status "+l.statusCode),t()}),n.once("error",e=>{n.removeAllListeners(),logging.log(constants.LogVerbosity.ERROR,"Failed to connect to proxy "+a+" with error "+e.message),t()}),n.end()})}})),_args=[["@grpc/grpc-js@1.0.5","/home/runner/work/vscode-gradle/vscode-gradle/extension"]],_development=!0,_from="@grpc/grpc-js@1.0.5",_id="@grpc/grpc-js@1.0.5",_inBundle=!1,_integrity="sha512-Hm+xOiqAhcpT9RYM8lc15dbQD7aQurM7ZU8ulmulepiPlN7iwBXXwP3vSBUimoFoApRqz7pSIisXU8pZaCB4og==",_location="/@grpc/grpc-js",_phantomChildren={},_requested={type:"version",registry:!0,raw:"@grpc/grpc-js@1.0.5",name:"@grpc/grpc-js",escapedName:"@grpc%2fgrpc-js",scope:"@grpc",rawSpec:"1.0.5",saveSpec:null,fetchSpec:"1.0.5"},_requiredBy=["#DEV:/"],_resolved="https://registry.npmjs.org/@grpc/grpc-js/-/grpc-js-1.0.5.tgz",_spec="1.0.5",_where="/home/runner/work/vscode-gradle/vscode-gradle/extension",author={name:"Google Inc."},contributors=[{name:"Google Inc."}],dependencies={semver:"^6.2.0"},description="gRPC Library for Node - pure JS implementation",devDependencies={"@grpc/proto-loader":"^0.5.0","@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.108","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/node":"^12.7.5","@types/pify":"^3.0.2","@types/semver":"^6.0.1","clang-format":"^1.0.55",execa:"^2.0.3","google-auth-library":"^6.0.0",gts:"^2.0.0",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",rimraf:"^3.0.2","ts-node":"^8.3.0",typescript:"^3.7.2"},engines={node:"^8.13.0 || >=10.10.0"},files=["src/*.ts","build/src/*.{js,d.ts,js.map}","LICENSE"],homepage="https://grpc.io/",keywords=[],license="Apache-2.0",main="build/src/index.js",name="@grpc/grpc-js",peerDependencies={"google-auth-library":"5.x || 6.x"},repository={type:"git",url:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js"},scripts={build:"npm run compile",check:"gts check src/**/*.ts",clean:'node -e \'require("rimraf")("./build", () => {})\'',compile:"tsc -p .",fix:"gts fix src/**/*.ts",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"npm run check",posttest:"npm run check",prepare:"npm run compile",pretest:"npm run compile",test:"gulp test"},types="build/src/index.d.ts",version="1.0.5",_package={_args:_args,_development:_development,_from:_from,_id:_id,_inBundle:_inBundle,_integrity:_integrity,_location:_location,_phantomChildren:_phantomChildren,_requested:_requested,_requiredBy:_requiredBy,_resolved:_resolved,_spec:_spec,_where:_where,author:author,contributors:contributors,dependencies:dependencies,description:description,devDependencies:devDependencies,engines:engines,files:files,homepage:homepage,keywords:keywords,license:license,main:main,name:name,peerDependencies:peerDependencies,repository:repository,scripts:scripts,types:types,version:version},_package$1=Object.freeze({__proto__:null,_args:_args,_development:_development,_from:_from,_id:_id,_inBundle:_inBundle,_integrity:_integrity,_location:_location,_phantomChildren:_phantomChildren,_requested:_requested,_requiredBy:_requiredBy,_resolved:_resolved,_spec:_spec,_where:_where,author:author,contributors:contributors,dependencies:dependencies,description:description,devDependencies:devDependencies,engines:engines,files:files,homepage:homepage,keywords:keywords,license:license,main:main,name:name,peerDependencies:peerDependencies,repository:repository,scripts:scripts,types:types,version:version,default:_package}),require$$0=getCjsExportFromNamespace(_package$1),subchannel=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=require$$0.version;function o(e){logging.trace(constants.LogVerbosity.DEBUG,"subchannel",e)}const{HTTP2_HEADER_AUTHORITY:n,HTTP2_HEADER_CONTENT_TYPE:s,HTTP2_HEADER_METHOD:i,HTTP2_HEADER_PATH:a,HTTP2_HEADER_TE:l,HTTP2_HEADER_USER_AGENT:g}=http2.constants,c=Buffer.from("too_many_pings","ascii");function u(e){return"port"in e}function d(e){return u(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=u,t.subchannelAddressEqual=function(e,t){return u(e)?u(t)&&e.host===t.host&&e.port===t.port:!u(t)&&e.path===t.path},t.subchannelAddressToString=d;t.Subchannel=class{constructor(e,t,o,n){this.channelTarget=e,this.subchannelAddress=t,this.options=o,this.credentials=n,this.connectivityState=channel.ConnectivityState.IDLE,this.session=null,this.continueConnecting=!1,this.stateListeners=[],this.disconnectListeners=[],this.keepaliveTimeMs=~(1<<31),this.keepaliveTimeoutMs=2e4,this.callRefcount=0,this.refcount=0,this.userAgent=[o["grpc.primary_user_agent"],"grpc-node-js/"+r,o["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in o&&(this.keepaliveTimeMs=o["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in o&&(this.keepaliveTimeoutMs=o["grpc.keepalive_timeout_ms"]),this.keepaliveIntervalId=setTimeout(()=>{},0),clearTimeout(this.keepaliveIntervalId),this.keepaliveTimeoutId=setTimeout(()=>{},0),clearTimeout(this.keepaliveTimeoutId);const s={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new backoffTimeout.BackoffTimeout(()=>{this.handleBackoffTimer()},s),this.subchannelAddressString=d(t)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([channel.ConnectivityState.TRANSIENT_FAILURE],channel.ConnectivityState.CONNECTING):this.transitionToState([channel.ConnectivityState.TRANSIENT_FAILURE],channel.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}sendPing(){this.keepaliveTimeoutId=setTimeout(()=>{this.transitionToState([channel.ConnectivityState.READY],channel.ConnectivityState.IDLE)},this.keepaliveTimeoutMs),this.session.ping((e,t,r)=>{clearTimeout(this.keepaliveTimeoutId)})}startKeepalivePings(){this.keepaliveIntervalId=setInterval(()=>{this.sendPing()},this.keepaliveTimeMs),this.sendPing()}stopKeepalivePings(){clearInterval(this.keepaliveIntervalId),clearTimeout(this.keepaliveTimeoutId)}createSession(e){var t;let r=this.credentials._getConnectionOptions()||{},n="http://";if("secureContext"in r){if(n="https://",this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];r.checkServerIdentity=(t,r)=>tls.checkServerIdentity(e,r),r.servername=e}e.socket&&(r.createConnection=(t,r)=>e.socket)}else r.createConnection=(t,r)=>e.socket?e.socket:net__default.connect(this.subchannelAddress);r=Object.assign(Object.assign({},r),this.subchannelAddress);const s=http2.connect(n+resolver.getDefaultAuthority(null!==(t=e.realTarget)&&void 0!==t?t:this.channelTarget),r);this.session=s,s.unref(),s.once("connect",()=>{this.session===s&&this.transitionToState([channel.ConnectivityState.CONNECTING],channel.ConnectivityState.READY)}),s.once("close",()=>{this.session===s&&(this.transitionToState([channel.ConnectivityState.CONNECTING],channel.ConnectivityState.TRANSIENT_FAILURE),this.transitionToState([channel.ConnectivityState.READY],channel.ConnectivityState.IDLE))}),s.once("goaway",(e,t,r)=>{this.session===s&&(e===http2.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r.equals(c)&&(logging.log(constants.LogVerbosity.ERROR,`Connection to ${this.channelTarget} rejected by server because of excess pings`),this.keepaliveTimeMs=Math.min(2*this.keepaliveTimeMs,~(1<<31))),this.transitionToState([channel.ConnectivityState.CONNECTING,channel.ConnectivityState.READY],channel.ConnectivityState.IDLE))}),s.once("error",e=>{o(this.subchannelAddressString+" connection closed with error "+e.message)})}startConnectingInternal(){const e=this.credentials._getConnectionOptions()||{};if("secureContext"in e&&(e.ALPNProtocols=["h2"],this.options["grpc.ssl_target_name_override"])){const t=this.options["grpc.ssl_target_name_override"];e.checkServerIdentity=(e,r)=>tls.checkServerIdentity(t,r),e.servername=t}http_proxy.getProxiedConnection(this.subchannelAddress,this.options,e).then(e=>{this.createSession(e)},e=>{this.transitionToState([channel.ConnectivityState.CONNECTING],channel.ConnectivityState.TRANSIENT_FAILURE)})}transitionToState(e,t){if(-1===e.indexOf(this.connectivityState))return!1;o(this.subchannelAddressString+" "+channel.ConnectivityState[this.connectivityState]+" -> "+channel.ConnectivityState[t]);const r=this.connectivityState;switch(this.connectivityState=t,t){case channel.ConnectivityState.READY:this.stopBackoff(),this.session.socket.once("close",()=>{for(const e of this.disconnectListeners)e()});break;case channel.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case channel.ConnectivityState.TRANSIENT_FAILURE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings(),this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case channel.ConnectivityState.IDLE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings();break;default:throw new Error("Invalid state: unknown ConnectivityState "+t)}for(const e of[...this.stateListeners])e(this,r,t);return!0}checkBothRefcounts(){0===this.callRefcount&&0===this.refcount&&this.transitionToState([channel.ConnectivityState.CONNECTING,channel.ConnectivityState.IDLE,channel.ConnectivityState.READY],channel.ConnectivityState.TRANSIENT_FAILURE)}callRef(){o(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount+1)),0===this.callRefcount&&(this.session&&this.session.ref(),this.startKeepalivePings()),this.callRefcount+=1}callUnref(){o(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount-1)),this.callRefcount-=1,0===this.callRefcount&&(this.session&&this.session.unref(),this.stopKeepalivePings(),this.checkBothRefcounts())}ref(){o(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){o(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.checkBothRefcounts()}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}startCallStream(e,t,r){const c=e.toHttp2Headers();c[n]=t.getHost(),c[g]=this.userAgent,c[s]="application/grpc",c[i]="POST",c[a]=t.getMethod(),c[l]="trailers";const u=this.session.request(c);let d="";for(const e of Object.keys(c))d+="\t\t"+e+": "+c[e]+"\n";o("Starting stream with headers\n"+d),t.attachHttp2Stream(u,this,r)}startConnecting(){this.transitionToState([channel.ConnectivityState.IDLE],channel.ConnectivityState.CONNECTING)||this.connectivityState===channel.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){const t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}addDisconnectListener(e){this.disconnectListeners.push(e)}removeDisconnectListener(e){const t=this.disconnectListeners.indexOf(e);t>-1&&this.disconnectListeners.splice(t,1)}resetBackoff(){this.backoffTimeout.reset(),this.transitionToState([channel.ConnectivityState.TRANSIENT_FAILURE],channel.ConnectivityState.CONNECTING)}getAddress(){return this.subchannelAddressString}}})),loadBalancerPickFirst=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(e){logging.trace(constants.LogVerbosity.DEBUG,"pick_first",e)}class o{constructor(e){this.subchannel=e}pick(e){return{pickResultType:picker.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,extraFilterFactory:null,onCallStarted:null}}}class n{constructor(e){this.channelControlHelper=e,this.latestAddressList=[],this.subchannels=[],this.currentState=channel.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.triedAllSubchannels=!1,this.subchannelStateCounts={[channel.ConnectivityState.CONNECTING]:0,[channel.ConnectivityState.IDLE]:0,[channel.ConnectivityState.READY]:0,[channel.ConnectivityState.SHUTDOWN]:0,[channel.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{if(this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,e===this.subchannels[this.currentSubchannelIndex]&&r===channel.ConnectivityState.TRANSIENT_FAILURE&&this.startNextSubchannelConnecting(),r!==channel.ConnectivityState.READY){if(this.triedAllSubchannels&&this.subchannelStateCounts[channel.ConnectivityState.IDLE]===this.subchannels.length)return this.resetSubchannelList(),void this.updateState(channel.ConnectivityState.IDLE,new picker.QueuePicker(this));if(null===this.currentPick)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[channel.ConnectivityState.CONNECTING]>0?channel.ConnectivityState.CONNECTING:this.subchannelStateCounts[channel.ConnectivityState.TRANSIENT_FAILURE]>0?channel.ConnectivityState.TRANSIENT_FAILURE:channel.ConnectivityState.IDLE,e!==this.currentState&&(e===channel.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new picker.UnavailablePicker):this.updateState(e,new picker.QueuePicker(this)))}else this.updateState(channel.ConnectivityState.CONNECTING,new picker.QueuePicker(this))}else this.pickSubchannel(e)},this.pickedSubchannelStateListener=(e,t,r)=>{if(r!==channel.ConnectivityState.READY)if(this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.pickedSubchannelStateListener),this.subchannels.length>0)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[channel.ConnectivityState.CONNECTING]>0?channel.ConnectivityState.CONNECTING:this.subchannelStateCounts[channel.ConnectivityState.TRANSIENT_FAILURE]>0?channel.ConnectivityState.TRANSIENT_FAILURE:channel.ConnectivityState.IDLE,e===channel.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new picker.UnavailablePicker):this.updateState(e,new picker.QueuePicker(this))}else this.updateState(channel.ConnectivityState.CONNECTING,new picker.QueuePicker(this));else this.updateState(channel.ConnectivityState.IDLE,new picker.QueuePicker(this))},this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}startNextSubchannelConnecting(){if(!this.triedAllSubchannels){for(const[e,t]of this.subchannels.entries())if(e>this.currentSubchannelIndex){const r=t.getConnectivityState();if(r===channel.ConnectivityState.IDLE||r===channel.ConnectivityState.CONNECTING)return void this.startConnecting(e)}this.triedAllSubchannels=!0}}startConnecting(e){clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.subchannels[e].getConnectivityState()===channel.ConnectivityState.IDLE&&(r("Start connecting to subchannel with address "+this.subchannels[e].getAddress()),process.nextTick(()=>{this.subchannels[e].startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting()},250)}pickSubchannel(e){r("Pick subchannel with address "+e.getAddress()),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener)),this.currentPick=e,this.updateState(channel.ConnectivityState.READY,new o(e)),e.addConnectivityStateListener(this.pickedSubchannelStateListener),e.ref(),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout)}updateState(e,t){r(channel.ConnectivityState[this.currentState]+" -> "+channel.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.currentSubchannelIndex=0,this.subchannelStateCounts={[channel.ConnectivityState.CONNECTING]:0,[channel.ConnectivityState.IDLE]:0,[channel.ConnectivityState.READY]:0,[channel.ConnectivityState.SHUTDOWN]:0,[channel.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[],this.triedAllSubchannels=!1}connectToAddressList(){this.resetSubchannelList(),r("Connect to address list "+this.latestAddressList.map(e=>subchannel.subchannelAddressToString(e))),this.subchannels=this.latestAddressList.map(e=>this.channelControlHelper.createSubchannel(e,{}));for(const e of this.subchannels)e.ref();for(const e of this.subchannels)if(e.addConnectivityStateListener(this.subchannelStateListener),this.subchannelStateCounts[e.getConnectivityState()]+=1,e.getConnectivityState()===channel.ConnectivityState.READY)return this.pickSubchannel(e),void this.resetSubchannelList();for(const[e,t]of this.subchannels.entries()){const r=t.getConnectivityState();if(r===channel.ConnectivityState.IDLE||r===channel.ConnectivityState.CONNECTING)return this.startConnecting(e),void(null===this.currentPick&&this.updateState(channel.ConnectivityState.CONNECTING,new picker.QueuePicker(this)))}null===this.currentPick&&this.updateState(channel.ConnectivityState.TRANSIENT_FAILURE,new picker.UnavailablePicker)}updateAddressList(e,t){0!==this.subchannels.length&&this.latestAddressList.every((t,r)=>e[r]===t)||(this.latestAddressList=e,this.connectToAddressList())}exitIdle(){for(const e of this.subchannels)e.startConnecting();this.currentState===channel.ConnectivityState.IDLE&&this.latestAddressList.length>0&&this.connectToAddressList(),(this.currentState===channel.ConnectivityState.IDLE||this.triedAllSubchannels)&&this.channelControlHelper.requestReresolution()}resetBackoff(){}destroy(){this.resetSubchannelList(),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener))}getTypeName(){return"pick_first"}}t.PickFirstLoadBalancer=n,t.setup=function(){loadBalancer.registerLoadBalancerType("pick_first",n)}})),loadBalancerRoundRobin=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(e){logging.trace(constants.LogVerbosity.DEBUG,"round_robin",e)}class o{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){const t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:picker.PickResultType.COMPLETE,subchannel:t,status:null,extraFilterFactory:null,onCallStarted:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class n{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=channel.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateCounts={[channel.ConnectivityState.CONNECTING]:0,[channel.ConnectivityState.IDLE]:0,[channel.ConnectivityState.READY]:0,[channel.ConnectivityState.SHUTDOWN]:0,[channel.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,this.calculateAndUpdateState(),r===channel.ConnectivityState.TRANSIENT_FAILURE&&this.channelControlHelper.requestReresolution(),r!==channel.ConnectivityState.TRANSIENT_FAILURE&&r!==channel.ConnectivityState.IDLE||e.startConnecting()}}calculateAndUpdateState(){if(this.subchannelStateCounts[channel.ConnectivityState.READY]>0){const e=this.subchannels.filter(e=>e.getConnectivityState()===channel.ConnectivityState.READY);let t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(channel.ConnectivityState.READY,new o(e,t))}else this.subchannelStateCounts[channel.ConnectivityState.CONNECTING]>0?this.updateState(channel.ConnectivityState.CONNECTING,new picker.QueuePicker(this)):this.subchannelStateCounts[channel.ConnectivityState.TRANSIENT_FAILURE]>0?this.updateState(channel.ConnectivityState.TRANSIENT_FAILURE,new picker.UnavailablePicker):this.updateState(channel.ConnectivityState.IDLE,new picker.QueuePicker(this))}updateState(e,t){r(channel.ConnectivityState[this.currentState]+" -> "+channel.ConnectivityState[e]),e===channel.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.subchannelStateCounts={[channel.ConnectivityState.CONNECTING]:0,[channel.ConnectivityState.IDLE]:0,[channel.ConnectivityState.READY]:0,[channel.ConnectivityState.SHUTDOWN]:0,[channel.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),r("Connect to address list "+e.map(e=>subchannel.subchannelAddressToString(e))),this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{}));for(const e of this.subchannels){e.ref(),e.addConnectivityStateListener(this.subchannelStateListener);const t=e.getConnectivityState();this.subchannelStateCounts[t]+=1,t!==channel.ConnectivityState.IDLE&&t!==channel.ConnectivityState.TRANSIENT_FAILURE||e.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(const e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return"round_robin"}}t.RoundRobinLoadBalancer=n,t.setup=function(){loadBalancer.registerLoadBalancerType("round_robin",n)}})),loadBalancer=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={};t.registerLoadBalancerType=function(e,t){r[e]=t},t.createLoadBalancer=function(e,t){return e in r?new r[e](t):null},t.isLoadBalancerNameRegistered=function(e){return e in r},t.getFirstUsableConfig=function(e){for(const t of e)if(t.name in r)return t;return null},t.registerAll=function(){loadBalancerPickFirst.setup(),loadBalancerRoundRobin.setup()}})),loadBalancerChildHandler=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.ChildLoadBalancerHandler=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e!==channel.ConnectivityState.READY)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}updateAddressList(e,t,r){let o;if(null===this.currentChild||this.currentChild.getTypeName()!==t.name){const e=new this.ChildPolicyHelper(this),r=loadBalancer.createLoadBalancer(t.name,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,o=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,o=this.pendingChild)}else o=null===this.pendingChild?this.currentChild:this.pendingChild;o.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&this.currentChild.destroy(),this.pendingChild&&this.pendingChild.destroy()}getTypeName(){return"child_load_balancer_helper"}}})),resolvingLoadBalancer=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=constants;t.ResolvingLoadBalancer=class{constructor(e,t,r){this.target=e,this.channelControlHelper=t,this.defaultServiceConfig=r,this.latestChildState=channel.ConnectivityState.IDLE,this.latestChildPicker=new picker.QueuePicker(this),this.currentState=channel.ConnectivityState.IDLE,this.previousServiceConfig=void 0,this.continueResolving=!1,this.updateState(channel.ConnectivityState.IDLE,new picker.QueuePicker(this)),this.childLoadBalancer=new loadBalancerChildHandler.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)}}),this.innerResolver=resolver.createResolver(e,{onSuccessfulResolution:(e,t,r,o)=>{var n;let s=null;null===t?null===r?(this.previousServiceConfig=t,s=this.defaultServiceConfig):void 0===this.previousServiceConfig?null===this.defaultServiceConfig?this.handleResolutionFailure(r):s=this.defaultServiceConfig:s=this.previousServiceConfig:(s=t,this.previousServiceConfig=t);const i=null!==(n=null==s?void 0:s.loadBalancingConfig)&&void 0!==n?n:[];0===i.length&&i.push({name:"pick_first",pick_first:{}});const a=loadBalancer.getFirstUsableConfig(i);null!==a?this.childLoadBalancer.updateAddressList(e,a,o):this.handleResolutionFailure({code:constants.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new metadata.Metadata})},onError:e=>{this.handleResolutionFailure(e)}}),this.backoffTimeout=new backoffTimeout.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)})}updateResolution(){this.innerResolver.updateResolution(),this.currentState===channel.ConnectivityState.IDLE&&this.updateState(channel.ConnectivityState.CONNECTING,new picker.QueuePicker(this))}updateState(e,t){var o;o=uriParser.uriToString(this.target)+" "+channel.ConnectivityState[this.currentState]+" -> "+channel.ConnectivityState[e],logging.trace(r.LogVerbosity.DEBUG,"resolving_load_balancer",o),e===channel.ConnectivityState.IDLE&&(t=new picker.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===channel.ConnectivityState.IDLE&&this.updateState(channel.ConnectivityState.TRANSIENT_FAILURE,new picker.UnavailablePicker(e)),this.backoffTimeout.runOnce()}exitIdle(){this.childLoadBalancer.exitIdle(),this.currentState===channel.ConnectivityState.IDLE&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution(),this.updateState(channel.ConnectivityState.CONNECTING,new picker.QueuePicker(this)))}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.updateState(channel.ConnectivityState.SHUTDOWN,new picker.UnavailablePicker)}getTypeName(){return"resolving_load_balancer"}}})),channelOptions=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0},t.channelOptionsEqual=function(e,t){const r=Object.keys(e).sort(),o=Object.keys(t).sort();if(r.length!==o.length)return!1;for(let n=0;n<r.length;n+=1){if(r[n]!==o[n])return!1;if(e[r[n]]!==t[o[n]])return!1}return!0}})),subchannelPool=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.global=e,this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(const t in this.pool){const r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.global&&null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},1e4),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,o){this.ensureCleanupTask();const n=uriParser.uriToString(e);if(n in this.pool){const e=this.pool[n];for(const n of e)if(subchannel.subchannelAddressEqual(t,n.subchannelAddress)&&channelOptions.channelOptionsEqual(r,n.channelArguments)&&o._equals(n.channelCredentials))return n.subchannel}const s=new subchannel.Subchannel(e,t,r,o);return n in this.pool||(this.pool[n]=[]),this.pool[n].push({subchannelAddress:t,channelArguments:r,channelCredentials:o,subchannel:s}),this.global&&s.ref(),s}}t.SubchannelPool=r;const o=new r(!0);t.getSubchannelPool=function(e){return e?o:new r(!1)}})),filter=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.BaseFilter=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}})),callCredentialsFilter=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r extends filter.BaseFilter{constructor(e,t){super(),this.channel=e,this.stream=t,this.channel=e,this.stream=t;const r=t.getMethod().split("/");let o="";r.length>=2&&(o=r[1]),this.serviceUrl=`https://${t.getHost()}/${o}`}async sendMetadata(e){const t=this.stream.getCredentials().generateMetadata({service_url:this.serviceUrl}),r=await e;return r.merge(await t),r.get("authorization").length>1&&this.stream.cancelWithStatus(constants.Status.INTERNAL,'"authorization" metadata cannot have multiple values'),r}}t.CallCredentialsFilter=r;t.CallCredentialsFilterFactory=class{constructor(e){this.channel=e,this.channel=e}createFilter(e){return new r(this.channel,e)}}})),deadlineFilter=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=[["m",1],["S",1e3],["M",6e4],["H",36e5]];class o extends filter.BaseFilter{constructor(e,t){var r,o;super(),this.channel=e,this.callStream=t,this.timer=null;const n=t.getDeadline();n instanceof Date?this.deadline=n.getTime():this.deadline=n;const s=(new Date).getTime();let i=this.deadline-s;i<0&&(i=0),this.deadline!==1/0&&(this.timer=setTimeout(()=>{t.cancelWithStatus(constants.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},i),null===(o=(r=this.timer).unref)||void 0===o||o.call(r))}async sendMetadata(e){if(this.deadline===1/0)return e;const t=await e,o=function(e){const t=(new Date).getTime(),o=Math.max(e-t,0);for(const[e,t]of r){const r=o/t;if(r<1e8)return String(Math.ceil(r))+e}throw new Error("Deadline is too far in the future")}(this.deadline);return t.set("grpc-timeout",o),t}receiveTrailers(e){return this.timer&&clearTimeout(this.timer),e}}t.DeadlineFilter=o;t.DeadlineFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new o(this.channel,e)}}})),compressionFilter=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));const o=Buffer.allocUnsafe(r.length+5);return o.writeUInt8(t?1:0,0),o.writeUInt32BE(r.length,1),r.copy(o,5),o}async readMessage(e){const t=1===e.readUInt8(0);let r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class o extends r{async compressMessage(e){return e}async writeMessage(e,t){const r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class n extends r{compressMessage(e){return new Promise((t,r)=>{zlib.deflate(e,(e,o)=>{e?r(e):t(o)})})}decompressMessage(e){return new Promise((t,r)=>{zlib.inflate(e,(e,o)=>{e?r(e):t(o)})})}}class s extends r{compressMessage(e){return new Promise((t,r)=>{zlib.gzip(e,(e,o)=>{e?r(e):t(o)})})}decompressMessage(e){return new Promise((t,r)=>{zlib.unzip(e,(e,o)=>{e?r(e):t(o)})})}}class i extends r{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error("Received message compressed with unsupported compression method "+this.compressionName))}decompressMessage(e){return Promise.reject(new Error("Compression method not supported: "+this.compressionName))}}class a extends filter.BaseFilter{constructor(){super(...arguments),this.sendCompression=new o,this.receiveCompression=new o}async sendMetadata(e){const t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity,gzip"),t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];"string"==typeof e&&(this.receiveCompression=function(e){switch(e){case"identity":return new o;case"deflate":return new n;case"gzip":return new s;default:return new i(e)}}(e))}return e.remove("grpc-encoding"),e.remove("grpc-accept-encoding"),e}async sendMessage(e){const t=await e,r=void 0!==t.flags&&0==(2&t.flags);return{message:await this.sendCompression.writeMessage(t.message,r),flags:t.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=a;t.CompressionFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new a}}})),maxMessageSizeFilter=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r extends filter.BaseFilter{constructor(e,t){super(),this.options=e,this.callStream=t,this.maxSendMessageSize=constants.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=constants.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}async sendMessage(e){if(-1===this.maxSendMessageSize)return e;{const t=await e;return t.message.length>this.maxSendMessageSize?(this.callStream.cancelWithStatus(constants.Status.RESOURCE_EXHAUSTED,`Sent message larger than max (${t.message.length} vs. ${this.maxSendMessageSize})`),Promise.reject("Message too large")):t}}async receiveMessage(e){if(-1===this.maxReceiveMessageSize)return e;{const t=await e;return t.length>this.maxReceiveMessageSize?(this.callStream.cancelWithStatus(constants.Status.RESOURCE_EXHAUSTED,`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`),Promise.reject("Message too large")):t}}}t.MaxMessageSizeFilter=r;t.MaxMessageSizeFilterFactory=class{constructor(e){this.options=e}createFilter(e){return new r(this.options,e)}}})),channel=createCommonjsModule((function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.READY=1]="READY",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.IDLE=3]="IDLE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r=t.ConnectivityState||(t.ConnectivityState={}));let o=0;t.ChannelImplementation=class{constructor(e,t,o){var n;if(this.credentials=t,this.options=o,this.connectivityState=r.IDLE,this.currentPicker=new picker.UnavailablePicker,this.pickQueue=[],this.connectivityStateWatchers=[],"string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof channelCredentials.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&("object"!=typeof o||!Object.values(o).every(e=>"string"==typeof e||"number"==typeof e||void 0===e)))throw new TypeError("Channel options must be an object with string or number values");const s=uriParser.parseUri(e);if(null===s)throw new Error(`Could not parse target name "${e}"`);const i=resolver.mapUriDefaultScheme(s);if(null===i)throw new Error(`Could not find a default scheme for target name "${e}"`);this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=resolver.getDefaultAuthority(i);const a=http_proxy.mapProxyName(i,o);this.target=a.target,this.options=Object.assign({},this.options,a.extraOptions),this.subchannelPool=subchannelPool.getSubchannelPool(0===(null!==(n=o["grpc.use_local_subchannel_pool"])&&void 0!==n?n:0));const l={createSubchannel:(e,t)=>this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials),updateState:(e,t)=>{this.currentPicker=t;const r=this.pickQueue.slice();this.pickQueue=[];for(const{callStream:e,callMetadata:t}of r)this.tryPick(e,t);this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")}};let g={loadBalancingConfig:[],methodConfig:[]};o["grpc.service_config"]&&(g=serviceConfig.validateServiceConfig(JSON.parse(o["grpc.service_config"]))),this.resolvingLoadBalancer=new resolvingLoadBalancer.ResolvingLoadBalancer(this.target,l,g),this.filterStackFactory=new filterStack.FilterStackFactory([new callCredentialsFilter.CallCredentialsFilterFactory(this),new deadlineFilter.DeadlineFilterFactory(this),new maxMessageSizeFilter.MaxMessageSizeFilterFactory(this.options),new compressionFilter.CompressionFilterFactory(this)])}tryPick(e,t){var o,n,s;const i=this.currentPicker.pick({metadata:t});switch(logging.trace(constants.LogVerbosity.DEBUG,"channel","Pick result: "+picker.PickResultType[i.pickResultType]+" subchannel: "+(null===(o=i.subchannel)||void 0===o?void 0:o.getAddress())+" status: "+(null===(n=i.status)||void 0===n?void 0:n.code)+" "+(null===(s=i.status)||void 0===s?void 0:s.details)),i.pickResultType){case picker.PickResultType.COMPLETE:if(null===i.subchannel)e.cancelWithStatus(constants.Status.UNAVAILABLE,"Request dropped by load balancing policy");else{if(i.subchannel.getConnectivityState()!==r.READY){logging.log(constants.LogVerbosity.ERROR,"Error: COMPLETE pick result subchannel "+i.subchannel.getAddress()+" has state "+r[i.subchannel.getConnectivityState()]),this.pickQueue.push({callStream:e,callMetadata:t});break}e.filterStack.sendMetadata(Promise.resolve(t.clone())).then(o=>{var n,s;const a=i.subchannel.getConnectivityState();if(a===r.READY)try{i.subchannel.startCallStream(o,e,null!==(n=i.extraFilterFactory)&&void 0!==n?n:void 0),null===(s=i.onCallStarted)||void 0===s||s.call(i)}catch(r){"ERR_HTTP2_GOAWAY_SESSION"===r.code?(logging.trace(constants.LogVerbosity.INFO,"channel","Failed to start call on picked subchannel "+i.subchannel.getAddress()+" with error "+r.message+". Retrying pick"),this.tryPick(e,t)):(logging.trace(constants.LogVerbosity.INFO,"channel","Failed to start call on picked subchanel "+i.subchannel.getAddress()+" with error "+r.message+". Ending call"),e.cancelWithStatus(constants.Status.INTERNAL,"Failed to start HTTP/2 stream"))}else logging.trace(constants.LogVerbosity.INFO,"channel","Picked subchannel "+i.subchannel.getAddress()+" has state "+r[a]+" after metadata filters. Retrying pick"),this.tryPick(e,t)},t=>{e.cancelWithStatus(t.code||constants.Status.UNKNOWN,"Getting metadata from plugin failed with error: "+t.message)})}break;case picker.PickResultType.QUEUE:this.pickQueue.push({callStream:e,callMetadata:t});break;case picker.PickResultType.TRANSIENT_FAILURE:t.getOptions().waitForReady?this.pickQueue.push({callStream:e,callMetadata:t}):e.cancelWithStatus(i.status.code,i.status.details);break;default:throw new Error("Invalid state: unknown pickResultType "+i.pickResultType)}}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){logging.trace(constants.LogVerbosity.DEBUG,"connectivity_state",uriParser.uriToString(this.target)+" "+r[this.connectivityState]+" -> "+r[e]),this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const r of t)e!==r.currentState&&(clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback())}_startCallStream(e,t){this.tryPick(e,t.clone())}close(){this.resolvingLoadBalancer.destroy(),this.updateState(r.SHUTDOWN),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return uriParser.uriToString(this.target)}getConnectivityState(e){const t=this.connectivityState;return e&&this.resolvingLoadBalancer.exitIdle(),t}watchConnectivityState(e,t,r){const o=t instanceof Date?t:new Date(t),n=new Date;if(o<=n)return void process.nextTick(r,new Error("Deadline passed without connectivity state change"));const s={currentState:e,callback:r,timer:setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-n.getTime())};this.connectivityStateWatchers.push(s)}createCall(e,t,n,s,i){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===r.SHUTDOWN)throw new Error("Channel has been shut down");const a=function(){const e=o;return o+=1,o>=Number.MAX_SAFE_INTEGER&&(o=0),e}();logging.trace(constants.LogVerbosity.DEBUG,"channel",uriParser.uriToString(this.target)+" createCall ["+a+'] method="'+e+'", deadline='+t);const l={deadline:t,flags:i||0,host:n||this.defaultAuthority,parentCall:s||null};return new callStream.Http2CallStream(e,this,l,this.filterStackFactory,this.credentials._getCallCredentials(),a)}}})),call=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.callErrorFromStatus=function(e){const t=`${e.code} ${constants.Status[e.code]}: ${e.details}`;return Object.assign(new Error(t),e)};class r extends events.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(constants.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:""}}t.ClientUnaryCallImpl=r;class o extends stream.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(constants.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:""}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=o;class n extends stream.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(constants.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:""}_write(e,t,r){var o;const n={callback:r},s=Number(t);Number.isNaN(s)||(n.flags=s),null===(o=this.call)||void 0===o||o.sendMessageWithContext(n,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=n;class s extends stream.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(constants.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:""}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var o;const n={callback:r},s=Number(t);Number.isNaN(s)||(n.flags=s),null===(o=this.call)||void 0===o||o.sendMessageWithContext(n,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=s})),clientInterceptors=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,r)}}t.InterceptorConfigurationError=r;t.ListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};t.RequesterBuilder=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};const o={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},n={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};t.InterceptingCall=class{constructor(e,t){var r,o,s,i;this.nextCall=e,this.processingMessage=!1,this.pendingHalfClose=!1,this.requester=t?{start:null!==(r=t.start)&&void 0!==r?r:n.start,sendMessage:null!==(o=t.sendMessage)&&void 0!==o?o:n.sendMessage,halfClose:null!==(s=t.halfClose)&&void 0!==s?s:n.halfClose,cancel:null!==(i=t.cancel)&&void 0!==i?i:n.cancel}:n}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}start(e,t){var r,n,s,i,a,l;const g={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(i=null===(s=null==t?void 0:t.onReceiveMessage)||void 0===s?void 0:s.bind(t))&&void 0!==i?i:e=>{},onReceiveStatus:null!==(l=null===(a=null==t?void 0:t.onReceiveStatus)||void 0===a?void 0:a.bind(t))&&void 0!==l?l:e=>{}};this.requester.start(e,g,(e,t)=>{var r,n,s;let i;if(callStream.isInterceptingListener(t))i=t;else{const e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:o.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:o.onReceiveMessage,onReceiveStatus:null!==(s=t.onReceiveStatus)&&void 0!==s?s:o.onReceiveStatus};i=new callStream.InterceptingListenerImpl(e,g)}this.nextCall.start(e,i)})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,t=>{this.processingMessage=!1,this.nextCall.sendMessageWithContext(e,t),this.pendingHalfClose&&this.nextCall.halfClose()})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}setCredentials(e){this.nextCall.setCredentials(e)}};class s{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}setCredentials(e){this.call.setCredentials(e)}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t),this.call.sendMessageWithContext(e,r)}catch(e){this.call.cancelWithStatus(constants.Status.INTERNAL,"Request message serialization failure: "+e.message)}}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var o;let n;try{n=this.methodDefinition.responseDeserialize(e),null===(o=null==t?void 0:t.onReceiveMessage)||void 0===o||o.call(t,n)}catch(e){r={code:constants.Status.INTERNAL,details:"Response message parsing error: "+e.message,metadata:new metadata.Metadata},this.call.cancelWithStatus(r.code,r.details)}},onReceiveStatus:e=>{var o,n;r?null===(o=null==t?void 0:t.onReceiveStatus)||void 0===o||o.call(t,r):null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class i extends s{constructor(e,t){super(e,t)}start(e,t){var r,o;let n=!1;const s={onReceiveMetadata:null!==(o=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==o?o:e=>{},onReceiveMessage:e=>{var r;n=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,o;n||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(o=null==t?void 0:t.onReceiveStatus)||void 0===o||o.call(t,e)}};super.start(e,s),this.call.startRead()}}class a extends s{}function l(e,t,r){const o=function(e,t,r){let o,n,s,i;r&&(o=r.deadline,n=r.host,s=r.propagate_flags,i=r.credentials),void 0===o&&(o=1/0);const a=e.createCall(t,o,n,null,s);return i&&a.setCredentials(i),a}(e,r.path,t);return r.responseStream?new a(o,r):new i(o,r)}t.getInterceptingCall=function(e,t,o,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new r("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new r("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];s=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);const i=Object.assign({},o,{method_definition:t});return s.reduceRight((e,t)=>r=>t(r,e),e=>l(n,e,t))(i)}})),client=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Symbol(),o=Symbol(),n=Symbol(),s=Symbol();t.Client=class{constructor(e,t,i={}){var a,l;if(i=Object.assign({},i),this[o]=null!==(a=i.interceptors)&&void 0!==a?a:[],delete i.interceptors,this[n]=null!==(l=i.interceptor_providers)&&void 0!==l?l:[],delete i.interceptor_providers,this[o].length>0&&this[n].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[s]=i.callInvocationTransformer,delete i.callInvocationTransformer,i.channelOverride)this[r]=i.channelOverride;else if(i.channelFactoryOverride){const o=i.channelFactoryOverride;delete i.channelFactoryOverride,this[r]=o(e,t,i)}else this[r]=new channel.ChannelImplementation(e,t,i)}close(){this[r].close()}getChannel(){return this[r]}waitForReady(e,t){const o=n=>{if(n)return void t(new Error("Failed to connect before the deadline"));let s;try{s=this[r].getConnectivityState(!0)}catch(e){return void t(new Error("The channel has been closed"))}if(s===channel.ConnectivityState.READY)t();else try{this[r].watchConnectivityState(s,e,o)}catch(e){t(new Error("The channel has been closed"))}};setImmediate(o)}checkOptionalUnaryResponseArguments(e,t,r){if(e instanceof Function)return{metadata:new metadata.Metadata,options:{},callback:e};if(t instanceof Function)return e instanceof metadata.Metadata?{metadata:e,options:{},callback:t}:{metadata:new metadata.Metadata,options:e,callback:t};if(!(e instanceof metadata.Metadata&&t instanceof Object&&r instanceof Function))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,i,a,l,g,c){var u,d;const p=this.checkOptionalUnaryResponseArguments(l,g,c),h={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:i};let f={argument:a,metadata:p.metadata,call:new call.ClientUnaryCallImpl,channel:this[r],methodDefinition:h,callOptions:p.options,callback:p.callback};this[s]&&(f=this[s](f));const m=f.call,y={clientInterceptors:this[o],clientInterceptorProviders:this[n],callInterceptors:null!==(u=f.callOptions.interceptors)&&void 0!==u?u:[],callInterceptorProviders:null!==(d=f.callOptions.interceptor_providers)&&void 0!==d?d:[]},S=clientInterceptors.getInterceptingCall(y,f.methodDefinition,f.callOptions,f.channel);m.call=S,f.callOptions.credentials&&S.setCredentials(f.callOptions.credentials);let b=null,T=!1;return S.start(f.metadata,{onReceiveMetadata:e=>{m.emit("metadata",e)},onReceiveMessage(e){null!==b&&S.cancelWithStatus(constants.Status.INTERNAL,"Too many responses received"),b=e},onReceiveStatus(e){T||(T=!0,e.code===constants.Status.OK?f.callback(null,b):f.callback(call.callErrorFromStatus(e)),m.emit("status",e))}}),S.sendMessage(a),S.halfClose(),m}makeClientStreamRequest(e,t,i,a,l,g){var c,u;const d=this.checkOptionalUnaryResponseArguments(a,l,g),p={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:i};let h={metadata:d.metadata,call:new call.ClientWritableStreamImpl(t),channel:this[r],methodDefinition:p,callOptions:d.options,callback:d.callback};this[s]&&(h=this[s](h));const f=h.call,m={clientInterceptors:this[o],clientInterceptorProviders:this[n],callInterceptors:null!==(c=h.callOptions.interceptors)&&void 0!==c?c:[],callInterceptorProviders:null!==(u=h.callOptions.interceptor_providers)&&void 0!==u?u:[]},y=clientInterceptors.getInterceptingCall(m,h.methodDefinition,h.callOptions,h.channel);f.call=y,h.callOptions.credentials&&y.setCredentials(h.callOptions.credentials);let S=null,b=!1;return y.start(h.metadata,{onReceiveMetadata:e=>{f.emit("metadata",e)},onReceiveMessage(e){null!==S&&y.cancelWithStatus(constants.Status.INTERNAL,"Too many responses received"),S=e},onReceiveStatus(e){b||(b=!0,e.code===constants.Status.OK?h.callback(null,S):h.callback(call.callErrorFromStatus(e)),f.emit("status",e))}}),f}checkMetadataAndOptions(e,t){let r,o;return e instanceof metadata.Metadata?(r=e,o=t||{}):(o=e||{},r=new metadata.Metadata),{metadata:r,options:o}}makeServerStreamRequest(e,t,i,a,l,g){var c,u;const d=this.checkMetadataAndOptions(l,g),p={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:i};let h={argument:a,metadata:d.metadata,call:new call.ClientReadableStreamImpl(i),channel:this[r],methodDefinition:p,callOptions:d.options};this[s]&&(h=this[s](h));const f=h.call,m={clientInterceptors:this[o],clientInterceptorProviders:this[n],callInterceptors:null!==(c=h.callOptions.interceptors)&&void 0!==c?c:[],callInterceptorProviders:null!==(u=h.callOptions.interceptor_providers)&&void 0!==u?u:[]},y=clientInterceptors.getInterceptingCall(m,h.methodDefinition,h.callOptions,h.channel);f.call=y,h.callOptions.credentials&&y.setCredentials(h.callOptions.credentials);let S=!1;return y.start(h.metadata,{onReceiveMetadata(e){f.emit("metadata",e)},onReceiveMessage(e){f.push(e)&&y.startRead()},onReceiveStatus(e){S||(S=!0,f.push(null),e.code!==constants.Status.OK&&f.emit("error",call.callErrorFromStatus(e)),f.emit("status",e))}}),y.sendMessage(a),y.halfClose(),f}makeBidiStreamRequest(e,t,i,a,l){var g,c;const u=this.checkMetadataAndOptions(a,l),d={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:i};let p={metadata:u.metadata,call:new call.ClientDuplexStreamImpl(t,i),channel:this[r],methodDefinition:d,callOptions:u.options};this[s]&&(p=this[s](p));const h=p.call,f={clientInterceptors:this[o],clientInterceptorProviders:this[n],callInterceptors:null!==(g=p.callOptions.interceptors)&&void 0!==g?g:[],callInterceptorProviders:null!==(c=p.callOptions.interceptor_providers)&&void 0!==c?c:[]},m=clientInterceptors.getInterceptingCall(f,p.methodDefinition,p.callOptions,p.channel);h.call=m,p.callOptions.credentials&&m.setCredentials(p.callOptions.credentials);let y=!1;return m.start(p.metadata,{onReceiveMetadata(e){h.emit("metadata",e)},onReceiveMessage(e){h.push(e)&&m.startRead()},onReceiveStatus(e){y||(y=!0,h.push(null),e.code!==constants.Status.OK&&h.emit("error",call.callErrorFromStatus(e)),h.emit("status",e))}}),h}}})),makeClient=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={unary:client.Client.prototype.makeUnaryRequest,server_stream:client.Client.prototype.makeServerStreamRequest,client_stream:client.Client.prototype.makeClientStreamRequest,bidi:client.Client.prototype.makeBidiStreamRequest};function o(e,t,o){class n extends client.Client{}return Object.keys(e).forEach(t=>{const o=e[t];let s;if("string"==typeof t&&"$"===t.charAt(0))throw new Error("Method names cannot start with $");s=o.requestStream?o.responseStream?"bidi":"client_stream":o.responseStream?"server_stream":"unary";const i=o.requestSerialize,a=o.responseDeserialize,l=function(e,t,r,o){return function(...n){return e.call(this,t,r,o,...n)}}(r[s],o.path,i,a);n.prototype[t]=l,Object.assign(n.prototype[t],o),o.originalName&&(n.prototype[o.originalName]=n.prototype[t])}),n.service=e,n}t.makeClientConstructor=o,t.loadPackageDefinition=function(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const s=e[n],i=n.split("."),a=i[i.length-1];let l=t;for(const e of i.slice(0,-1))l[e]||(l[e]={}),l=l[e];r=s,l[a]="format"in r?s:o(s)}var r;return t}})),serverCall=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=/(\d{1,8})\s*([HMSmun])/,o={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},n={"grpc-accept-encoding":"identity","grpc-encoding":"identity",[http2.constants.HTTP2_HEADER_STATUS]:http2.constants.HTTP_STATUS_OK,[http2.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},s={waitForTrailers:!0};class i extends events.EventEmitter{constructor(e,t){super(),this.call=e,this.metadata=t,this.cancelled=!1,this.request=null,this.call.setupSurfaceCall(this)}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}}t.ServerUnaryCallImpl=i;class a extends stream.Readable{constructor(e,t,r){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}}t.ServerReadableStreamImpl=a;class l extends stream.Writable{constructor(e,t,r){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.cancelled=!1,this.request=null,this.trailingMetadata=new metadata.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}_write(e,t,r){try{const t=this.call.serializeMessage(e);if(!this.call.write(t))return void this.call.once("drain",r)}catch(e){e.code=constants.Status.INTERNAL,this.emit("error",e)}r()}_final(e){this.call.sendStatus({code:constants.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=l;class g extends stream.Duplex{constructor(e,t,r,o){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=o,this.cancelled=!1,this.trailingMetadata=new metadata.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}}t.ServerDuplexStreamImpl=g,g.prototype._read=a.prototype._read,g.prototype._write=l.prototype._write,g.prototype._final=l.prototype._final,g.prototype.end=l.prototype.end;const c=setTimeout(()=>{},0);class u extends events.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.options=r,this.cancelled=!1,this.deadline=c,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=constants.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=constants.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",e=>{}),this.stream.once("close",()=>{this.cancelled=!0,this.emit("cancelled","cancelled")}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return this.stream.destroyed&&(this.cancelled=!0),this.cancelled}sendMetadata(e){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,r=Object.assign(n,t);this.stream.respond(r,s)}receiveMetadata(e){const t=metadata.Metadata.fromHttp2Headers(e),n=t.get("grpc-timeout");if(n.length>0){const e=n[0].toString().match(r);if(null===e){const e=new Error("Invalid deadline");return e.code=constants.Status.OUT_OF_RANGE,void this.sendError(e)}const s=+e[1]*o[e[2]]|0;this.deadline=setTimeout(d,s,this),t.remove("grpc-timeout")}return t.remove(http2.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(http2.constants.HTTP2_HEADER_TE),t.remove(http2.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-encoding"),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(){return new Promise((e,t)=>{const r=this.stream,o=[];let n=0;r.on("data",e=>{o.push(e),n+=e.byteLength}),r.once("end",async()=>{try{const t=Buffer.concat(o,n);-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize&&(this.sendError({code:constants.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`}),e()),e(this.deserializeMessage(t))}catch(t){t.code=constants.Status.INTERNAL,this.sendError(t),e()}})})}serializeMessage(e){const t=this.handler.serialize(e),r=t.byteLength,o=Buffer.allocUnsafe(r+5);return o.writeUInt8(0,0),o.writeUInt32BE(r,1),t.copy(o,5),o}deserializeMessage(e){const t=e.slice(5);return this.handler.deserialize(t)}async sendUnaryMessage(e,t,r,o){if(!this.checkCancelled()){if(r||(r=new metadata.Metadata),e)return Object.prototype.hasOwnProperty.call(e,"metadata")||(e.metadata=r),void this.sendError(e);try{const e=this.serializeMessage(t);this.write(e),this.sendStatus({code:constants.Status.OK,details:"OK",metadata:r})}catch(e){e.code=constants.Status.INTERNAL,this.sendError(e)}}}sendStatus(e){var t,r;this.checkCancelled()||(r="Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+constants.Status[e.code]+" details: "+e.details,logging.trace(constants.LogVerbosity.DEBUG,"server_call",r),clearTimeout(this.deadline),this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{const t=Object.assign({"grpc-status":e.code,"grpc-message":encodeURI(e.details)},e.metadata.toHttp2Headers());this.stream.sendTrailers(t)}),this.sendMetadata(),this.stream.end()))}sendError(e){if(this.checkCancelled())return;const t={code:constants.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:new metadata.Metadata};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(!(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize))return this.sendMetadata(),this.stream.write(e);this.sendError({code:constants.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`})}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)})}setupReadable(e){const t=new streamDecoder.StreamDecoder;this.stream.on("data",async r=>{const o=t.write(r);for(const t of o){if(-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize)return void this.sendError({code:constants.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`});this.pushOrBufferMessage(e,t)}}),this.stream.once("end",()=>{this.pushOrBufferMessage(e,null)})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){const t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):this.pushMessage(e,t)}async pushMessage(e,t){if(null!==t){this.isPushPending=!0;try{const r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(t){this.bufferedMessages.length=0,t.code=constants.Status.INTERNAL,e.emit("error",t)}this.isPushPending=!1,this.bufferedMessages.length>0&&this.pushMessage(e,this.bufferedMessages.shift())}else this.canPush?e.push(null):this.messagesToPush.push(null)}}function d(e){const t=new Error("Deadline exceeded");t.code=constants.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=u})),server=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(e){logging.trace(constants.LogVerbosity.DEBUG,"server",e)}function o(){}function n(e){return{code:constants.Status.UNIMPLEMENTED,details:"The server does not implement the method "+e,metadata:new metadata.Metadata}}t.Server=class{constructor(e){this.http2ServerList=[],this.handlers=new Map,this.sessions=new Set,this.started=!1,this.options=null!=e?e:{}}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(!0===this.started)throw new Error("Can't add a service to a started server.");if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const r=Object.keys(e);if(0===r.length)throw new Error("Cannot add an empty service to a server");r.forEach(r=>{const o=e[r];let s;s=o.requestStream?o.responseStream?"bidi":"clientStream":o.responseStream?"serverStream":"unary";let i,a=t[r];void 0===a&&"string"==typeof o.originalName&&(a=t[o.originalName]),i=void 0!==a?a.bind(t):function(e,t){const r=n(t);switch(e){case"unary":case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":case"bidi":return e=>{e.emit("error",r)};default:throw new Error("Invalid handlerType "+e)}}(s,r);if(!1===this.register(o.path,i,o.responseSerialize,o.requestDeserialize,s))throw new Error(`Method handler for ${o.path} already provided.`)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,n){if(!0===this.started)throw new Error("server is already started");if("string"!=typeof e)throw new TypeError("port must be a string");if(null===t||"object"!=typeof t)throw new TypeError("creds must be an object");if("function"!=typeof n)throw new TypeError("callback must be a function");const s=uriParser.parseUri(e);if(null===s)throw new Error(`Could not parse port "${e}"`);const i=resolver.mapUriDefaultScheme(s);if(null===i)throw new Error(`Could not get a default scheme for port "${e}"`);const a={};"grpc.max_concurrent_streams"in this.options&&(a.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});const l=()=>{let e;if(t._isSecure()){const r=Object.assign(a,t._getSettings());e=http2.createSecureServer(r)}else e=http2.createServer(a);return e.setTimeout(0,o),this._setupHandlers(e),e},g=(e,t,o)=>0===e.length?Promise.resolve({port:t,count:o}):Promise.all(e.map(e=>{let o;r("Attempting to bind "+subchannel.subchannelAddressToString(e)),o=subchannel.isTcpSubchannelAddress(e)?{host:e.host,port:t}:e;const n=l();return new Promise((s,i)=>{function a(e){s(e)}n.once("error",a),n.listen(o,()=>{r("Successfully bound "+subchannel.subchannelAddressToString(e)),this.http2ServerList.push(n);const o=n.address();s("string"==typeof o?t:o.port),n.removeListener("error",a)})})})).then(e=>{let r=0;for(const o of e)if("number"==typeof o&&(r+=1,o!==t))throw new Error("Invalid state: multiple port numbers added from single address");return{port:t,count:r+o}}),c=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});const t=e[0],r=l();return new Promise((o,n)=>{function s(t){o(c(e.slice(1)))}r.once("error",s),r.listen(t,()=>{this.http2ServerList.push(r),o(g(e.slice(1),r.address().port,1)),r.removeListener("error",s)})})},u={onSuccessfulResolution:(t,r,o)=>{if(u.onSuccessfulResolution=()=>{},0===t.length)return void n(new Error("No addresses resolved for port "+e),0);let s;s=subchannel.isTcpSubchannelAddress(t[0])?0===t[0].port?c(t):g(t,t[0].port,0):g(t,1,0),s.then(e=>{if(0===e.count){const e=`No address added out of total ${t.length} resolved`;logging.log(constants.LogVerbosity.ERROR,e),n(new Error(e),0)}else e.count<t.length&&logging.log(constants.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),n(null,e.port)},e=>{const r=`No address added out of total ${t.length} resolved`;logging.log(constants.LogVerbosity.ERROR,r),n(new Error(r),0)})},onError:e=>{n(new Error(e.details),0)}};resolver.createResolver(i,u).updateResolution()}forceShutdown(){for(const e of this.http2ServerList)e.listening&&e.close();this.started=!1,this.sessions.forEach(e=>{e.destroy(http2.constants.NGHTTP2_CANCEL)}),this.sessions.clear()}register(e,t,r,o,n){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:o,type:n,path:e}),!0)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(e=>!0!==e.listening))throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.started=!0}tryShutdown(e){let t=0;function r(){t--,0===t&&e()}this.started=!1;for(const e of this.http2ServerList)e.listening&&(t++,e.close(r));t+=this.sessions.size,this.sessions.forEach(e=>{e.close(r)}),0===t&&e()}addHttp2Port(){throw new Error("Not yet implemented")}_setupHandlers(e){null!==e&&(e.on("stream",(t,o)=>{var s;const i=o[http2.constants.HTTP2_HEADER_CONTENT_TYPE];if("string"==typeof i&&i.startsWith("application/grpc"))try{const i=o[http2.constants.HTTP2_HEADER_PATH];r("Received call to method "+i+" at address "+(null===(s=e.address())||void 0===s?void 0:s.toString()));const a=this.handlers.get(i);if(void 0===a)throw r("No handler registered for method "+i+". Sending UNIMPLEMENTED status."),n(i);const l=new serverCall.Http2ServerCallStream(t,a,this.options),g=l.receiveMetadata(o);switch(a.type){case"unary":!async function(e,t,r){const o=new serverCall.ServerUnaryCallImpl(e,r),n=await e.receiveUnaryMessage();if(void 0===n||e.cancelled)return;o.request=n,t.func(o,(t,r,o,n)=>{e.sendUnaryMessage(t,r,o,n)})}(l,a,g);break;case"clientStream":!function(e,t,r){const o=new serverCall.ServerReadableStreamImpl(e,r,t.deserialize);function n(t,r,n,s){o.destroy(),e.sendUnaryMessage(t,r,n,s)}if(e.cancelled)return;o.on("error",n),t.func(o,n)}(l,a,g);break;case"serverStream":!async function(e,t,r){const o=await e.receiveUnaryMessage();if(void 0===o||e.cancelled)return;const n=new serverCall.ServerWritableStreamImpl(e,r,t.serialize);n.request=o,t.func(n)}(l,a,g);break;case"bidi":!function(e,t,r){const o=new serverCall.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize);if(e.cancelled)return;t.func(o)}(l,a,g);break;default:throw new Error("Unknown handler type: "+a.type)}}catch(e){const r=new serverCall.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=constants.Status.INTERNAL),r.sendError(e)}else t.respond({[http2.constants.HTTP2_HEADER_STATUS]:http2.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0})}),e.on("session",e=>{this.started?this.sessions.add(e):e.destroy()}))}}})),serverCredentials=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{static createInsecure(){return new o}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw new TypeError("checkClientCertificate must be a boolean");const o=[],s=[];for(let e=0;e<t.length;e++){const r=t[e];if(null===r||"object"!=typeof r)throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);o.push(r.cert_chain),s.push(r.private_key)}return new n({ca:e||tlsHelpers.getDefaultRootsData()||void 0,cert:o,key:s,requestCert:r,ciphers:tlsHelpers.CIPHER_SUITES})}}t.ServerCredentials=r;class o extends r{_isSecure(){return!1}_getSettings(){return null}}class n extends r{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}})),statusBuilder=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.StatusBuilder=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){const e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}})),src=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=callCredentials.CallCredentials,t.connectivityState=channel.ConnectivityState,t.Channel=channel.ChannelImplementation,t.ChannelCredentials=channelCredentials.ChannelCredentials,t.Client=client.Client,t.logVerbosity=constants.LogVerbosity,t.status=constants.Status,t.loadPackageDefinition=makeClient.loadPackageDefinition,t.makeClientConstructor=makeClient.makeClientConstructor,t.makeGenericClientConstructor=makeClient.makeClientConstructor,t.Metadata=metadata.Metadata,t.Server=server.Server,t.ServerCredentials=serverCredentials.ServerCredentials,t.StatusBuilder=statusBuilder.StatusBuilder;const r=require$$0.engines.node;if(!semver.satisfies(process.version,r))throw new Error("@grpc/grpc-js only works on Node "+r);t.credentials=function(...e){const t={};for(const r of e)for(const e of Object.getOwnPropertyNames(r)){const o=r[e];"function"==typeof o&&(t[e]=o)}return t}({combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e)},channelCredentials.ChannelCredentials,callCredentials.CallCredentials),t.closeClient=e=>e.close(),t.waitForClientReady=(e,t,r)=>e.waitForReady(t,r),t.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.load=(e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.setLogger=e=>{logging.setLogger(e)},t.setLogVerbosity=e=>{logging.setLoggerVerbosity(e)},t.getClientChannel=e=>client.Client.prototype.getChannel.call(e),t.ListenerBuilder=clientInterceptors.ListenerBuilder,t.RequesterBuilder=clientInterceptors.RequesterBuilder,t.InterceptingCall=clientInterceptors.InterceptingCall,t.InterceptorConfigurationError=clientInterceptors.InterceptorConfigurationError,resolver.registerAll(),loadBalancer.registerAll()})),index=unwrapExports(src),gradle_grpc_pb=createCommonjsModule((function(e,t){var r=t.GradleService={getBuild:{path:"/gradle.Gradle/GetBuild",requestStream:!1,responseStream:!0,requestType:gradle_pb.GetBuildRequest,responseType:gradle_pb.GetBuildReply,requestSerialize:function(e){if(!(e instanceof gradle_pb.GetBuildRequest))throw new Error("Expected argument of type gradle.GetBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return gradle_pb.GetBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof gradle_pb.GetBuildReply))throw new Error("Expected argument of type gradle.GetBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return gradle_pb.GetBuildReply.deserializeBinary(new Uint8Array(e))}},runBuild:{path:"/gradle.Gradle/RunBuild",requestStream:!1,responseStream:!0,requestType:gradle_pb.RunBuildRequest,responseType:gradle_pb.RunBuildReply,requestSerialize:function(e){if(!(e instanceof gradle_pb.RunBuildRequest))throw new Error("Expected argument of type gradle.RunBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return gradle_pb.RunBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof gradle_pb.RunBuildReply))throw new Error("Expected argument of type gradle.RunBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return gradle_pb.RunBuildReply.deserializeBinary(new Uint8Array(e))}},cancelBuild:{path:"/gradle.Gradle/CancelBuild",requestStream:!1,responseStream:!1,requestType:gradle_pb.CancelBuildRequest,responseType:gradle_pb.CancelBuildReply,requestSerialize:function(e){if(!(e instanceof gradle_pb.CancelBuildRequest))throw new Error("Expected argument of type gradle.CancelBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return gradle_pb.CancelBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof gradle_pb.CancelBuildReply))throw new Error("Expected argument of type gradle.CancelBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return gradle_pb.CancelBuildReply.deserializeBinary(new Uint8Array(e))}},getDaemonsStatus:{path:"/gradle.Gradle/GetDaemonsStatus",requestStream:!1,responseStream:!1,requestType:gradle_pb.GetDaemonsStatusRequest,responseType:gradle_pb.GetDaemonsStatusReply,requestSerialize:function(e){if(!(e instanceof gradle_pb.GetDaemonsStatusRequest))throw new Error("Expected argument of type gradle.GetDaemonsStatusRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return gradle_pb.GetDaemonsStatusRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof gradle_pb.GetDaemonsStatusReply))throw new Error("Expected argument of type gradle.GetDaemonsStatusReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return gradle_pb.GetDaemonsStatusReply.deserializeBinary(new Uint8Array(e))}},stopDaemons:{path:"/gradle.Gradle/StopDaemons",requestStream:!1,responseStream:!1,requestType:gradle_pb.StopDaemonsRequest,responseType:gradle_pb.StopDaemonsReply,requestSerialize:function(e){if(!(e instanceof gradle_pb.StopDaemonsRequest))throw new Error("Expected argument of type gradle.StopDaemonsRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return gradle_pb.StopDaemonsRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof gradle_pb.StopDaemonsReply))throw new Error("Expected argument of type gradle.StopDaemonsReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return gradle_pb.StopDaemonsReply.deserializeBinary(new Uint8Array(e))}},stopDaemon:{path:"/gradle.Gradle/StopDaemon",requestStream:!1,responseStream:!1,requestType:gradle_pb.StopDaemonRequest,responseType:gradle_pb.StopDaemonReply,requestSerialize:function(e){if(!(e instanceof gradle_pb.StopDaemonRequest))throw new Error("Expected argument of type gradle.StopDaemonRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return gradle_pb.StopDaemonRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof gradle_pb.StopDaemonReply))throw new Error("Expected argument of type gradle.StopDaemonReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return gradle_pb.StopDaemonReply.deserializeBinary(new Uint8Array(e))}}};t.GradleClient=src.makeGenericClientConstructor(r)}));class EventWaiter{constructor(e){this.event=e,this.eventRun=!1,this.waitForEvent=e=>{const t=this.event(()=>{t.dispose(),this.eventRun=!0,e&&e()})},this.wait=()=>this.eventRun?Promise.resolve():new Promise(this.waitForEvent),this.waitForEvent()}reset(){this.eventRun=!1,this.waitForEvent()}}class ProgressHandler{constructor(e,t){this.progress=e,this.initialMessage=t,this._onDidProgressStart=new vscode.EventEmitter,this.onDidProgressStart=this._onDidProgressStart.event,this.initialMessage&&this.progress.report({message:this.initialMessage})}report(e){e.trim()&&(this.progress.report({message:e}),this._onDidProgressStart.fire(null),this._onDidProgressStart.dispose())}}function logBuildEnvironment(e){const t=e.getJavaEnvironment(),r=e.getGradleEnvironment();logger.info("Java Home:",t.getJavaHome()),logger.info("JVM Args:",t.getJvmArgsList().join(",")),logger.info("Gradle User Home:",r.getGradleUserHome()),logger.info("Gradle Version:",r.getGradleVersion())}class GradleClient{constructor(e,t,r){this.server=e,this.statusBarItem=t,this.clientLogger=r,this.connectDeadline=30,this.grpcClient=null,this._onDidConnect=new vscode.EventEmitter,this._onDidConnectFail=new vscode.EventEmitter,this.onDidConnect=this._onDidConnect.event,this.onDidConnectFail=this._onDidConnectFail.event,this.waitForConnect=new EventWaiter(this.onDidConnect).wait,this.handleServerStop=()=>{},this.handleServerStart=()=>vscode.window.withProgress({location:vscode.ProgressLocation.Window,title:"Gradle",cancellable:!1},e=>(e.report({message:"Connecting"}),new Promise(e=>{const t=this.onDidConnect(()=>{t.dispose(),e()}),r=this.onDidConnectFail(()=>{r.dispose(),e()});this.connectToServer()}))),this.handleClientReady=e=>{e?this.handleConnectError(e):(logger.info("Gradle client connected to server"),this._onDidConnect.fire(null))},this.handleRunBuildCancelled=(e,t,r)=>{logger.info(`Build cancelled: ${e.join(" ")}: ${t.getMessage()}`),r&&removeCancellingTask(r)},this.handleGetBuildCancelled=e=>{logger.info("Get build cancelled:",e.getMessage())},this.handleConnectError=e=>{if(logger.error("Error connecting to gradle server:",e.message),this.close(),this._onDidConnectFail.fire(null),this.server.isReady()){const e=this.grpcClient.getChannel().getConnectivityState(!0),t=index.connectivityState[e];logger.error("The client has state:",t),this.showRestartMessage()}else this.server.showRestartMessage()},this.server.onDidStart(this.handleServerStart),this.server.onDidStop(this.handleServerStop),this.server.start()}connectToServer(){try{this.grpcClient=new gradle_grpc_pb.GradleClient("localhost:"+this.server.getPort(),index.credentials.createInsecure(),{"grpc.enable_http_proxy":0}),index.setLogger(this.clientLogger);const e=new Date;e.setSeconds(e.getSeconds()+this.connectDeadline),this.grpcClient.waitForReady(e,this.handleClientReady)}catch(e){logger.error("Unable to construct the gRPC client:",e.message),this.statusBarItem.hide()}}async getBuild(e,t,r=!1){return await this.waitForConnect(),this.statusBarItem.hide(),vscode.window.withProgress({location:vscode.ProgressLocation.Window,title:"Gradle",cancellable:!0},async(o,n)=>{const s=new ProgressHandler(o,"Configure project"),i=getBuildCancellationKey(e.getProjectUri().fsPath);n.onCancellationRequested(()=>this.cancelBuild(i));const a=new LoggerStream(logger,LogVerbosity.INFO),l=new LoggerStream(logger,LogVerbosity.ERROR),g=new gradle_pb.GetBuildRequest;g.setProjectDir(e.getProjectUri().fsPath),g.setCancellationKey(i),g.setGradleConfig(t),g.setShowOutputColors(r);const c=this.grpcClient.getBuild(g);try{return await new Promise((t,r)=>{let o=void 0;c.on("data",t=>{switch(t.getKindCase()){case gradle_pb.GetBuildReply.KindCase.PROGRESS:s.report(t.getProgress().getMessage().trim());break;case gradle_pb.GetBuildReply.KindCase.OUTPUT:switch(t.getOutput().getOutputType()){case gradle_pb.Output.OutputType.STDOUT:a.write(t.getOutput().getOutputBytes_asU8());break;case gradle_pb.Output.OutputType.STDERR:l.write(t.getOutput().getOutputBytes_asU8())}break;case gradle_pb.GetBuildReply.KindCase.CANCELLED:this.handleGetBuildCancelled(t.getCancelled());break;case gradle_pb.GetBuildReply.KindCase.GET_BUILD_RESULT:o=t.getGetBuildResult().getBuild();break;case gradle_pb.GetBuildReply.KindCase.ENVIRONMENT:const r=t.getEnvironment();e.setEnvironment(r),logBuildEnvironment(r),vscode.commands.executeCommand(COMMAND_REFRESH_DAEMON_STATUS)}}).on("error",r).on("end",()=>t(o))})}catch(t){logger.error(`Error getting build for ${e.getProjectUri().fsPath}: ${t.details||t.message}`),this.statusBarItem.command=COMMAND_SHOW_LOGS,this.statusBarItem.text="$(warning) Gradle: Build Error",this.statusBarItem.show()}finally{process.nextTick(()=>vscode.commands.executeCommand(COMMAND_REFRESH_DAEMON_STATUS))}})}async runBuild(e,t,r,o="",n=0,s,i,a=!0){return await this.waitForConnect(),this.statusBarItem.hide(),vscode.window.withProgress({location:vscode.ProgressLocation.Window,title:"Gradle",cancellable:!0},async(l,g)=>{g.onCancellationRequested(()=>vscode.commands.executeCommand(COMMAND_CANCEL_BUILD,t,s));const c=new ProgressHandler(l);c.onDidProgressStart(()=>{vscode.commands.executeCommand(COMMAND_REFRESH_DAEMON_STATUS)});const u=getGradleConfig(),d=new gradle_pb.RunBuildRequest;d.setProjectDir(e),d.setCancellationKey(t),d.setArgsList(r),d.setGradleConfig(u),d.setShowOutputColors(a),d.setJavaDebugPort(n),d.setInput(o);const p=this.grpcClient.runBuild(d);try{await new Promise((e,t)=>{p.on("data",e=>{switch(e.getKindCase()){case gradle_pb.RunBuildReply.KindCase.PROGRESS:c.report(e.getProgress().getMessage().trim());break;case gradle_pb.RunBuildReply.KindCase.OUTPUT:i&&i(e.getOutput());break;case gradle_pb.RunBuildReply.KindCase.CANCELLED:this.handleRunBuildCancelled(r,e.getCancelled(),s)}}).on("error",t).on("end",e)}),logger.info("Completed build:",r.join(" "))}catch(e){throw logger.error("Error running build:",r.join(" ")+":",e.details||e.message),e}finally{vscode.commands.executeCommand(COMMAND_REFRESH_DAEMON_STATUS),s&&restartQueuedTask(s)}})}async cancelBuild(e,t){await this.waitForConnect(),this.statusBarItem.hide();const r=new gradle_pb.CancelBuildRequest;r.setCancellationKey(e);try{const e=await new Promise((e,t)=>{this.grpcClient.cancelBuild(r,(r,o)=>{r?t(r):e(o)})});logger.info("Cancel build:",e.getMessage()),!e.getBuildRunning()&&t&&removeCancellingTask(t)}catch(e){logger.error("Error cancelling build:",e.details||e.message)}}async getDaemonsStatus(e,t){await this.waitForConnect(),logger.debug("Get daemon status");const r=new gradle_pb.GetDaemonsStatusRequest;r.setProjectDir(e);try{return await new Promise((e,o)=>{const n=this.grpcClient.getDaemonsStatus(r,(t,r)=>{t?o(t):e(r)});t.onCancellationRequested(()=>n.cancel())})}catch(e){const r=e.details||e.message;t.isCancellationRequested?logger.debug("Get daemon status:",r):logger.error("Unable to get daemon status:",r)}}async stopDaemons(e){await this.waitForConnect();const t=new gradle_pb.StopDaemonsRequest;t.setProjectDir(e);try{return await new Promise((e,r)=>{this.grpcClient.stopDaemons(t,(t,o)=>{t?r(t):e(o)})})}catch(e){logger.error("Error stopping daemons:",e.details||e.message)}finally{vscode.commands.executeCommand(COMMAND_REFRESH_DAEMON_STATUS)}}async stopDaemon(e){await this.waitForConnect();const t=new gradle_pb.StopDaemonRequest;t.setPid(e);try{return await new Promise((e,r)=>{this.grpcClient.stopDaemon(t,(t,o)=>{t?r(t):e(o)})})}catch(e){logger.error("Error stopping daemon:",e.details||e.message)}finally{vscode.commands.executeCommand(COMMAND_REFRESH_DAEMON_STATUS)}}async showRestartMessage(){"Re-connect Client"===await vscode.window.showErrorMessage("The Gradle client was unable to connect. Try re-connecting.","Re-connect Client")&&this.handleServerStart()}close(){var e;this.statusBarItem.hide(),null===(e=this.grpcClient)||void 0===e||e.close()}dispose(){this.close(),this._onDidConnect.dispose()}}const SERVER_TASK_NAME="Gradle Server";function getGradleServerCommand(){const e=process.platform;if("win32"===e)return"gradle-server.bat";if("linux"===e||"darwin"===e)return"gradle-server";throw new Error("Unsupported platform")}function buildGradleServerTask(e,t=[]){const r=path.join(e,getGradleServerCommand());logger.debug(`Gradle Server cmd: ${r} ${t.join(" ")}`);const o={type:"gradleserver"},n=getConfigJavaHome(),s={};n&&Object.assign(s,{VSCODE_JAVA_HOME:n});const i=new vscode.Task(o,vscode.TaskScope.Workspace,SERVER_TASK_NAME,"gradleserver",new vscode.ProcessExecution(r,t,{env:s}));return i.presentationOptions={showReuseMessage:!1,clear:!0,echo:!1,focus:!1,panel:vscode.TaskPanelKind.Shared,reveal:vscode.TaskRevealKind.Silent},i}class GradleServer{constructor(e,t){this.opts=e,this.context=t,this._onDidStart=new vscode.EventEmitter,this._onDidStop=new vscode.EventEmitter,this.restarting=!1,this.ready=!1,this.onDidStart=this._onDidStart.event,this.onDidStop=this._onDidStop.event,t.subscriptions.push(vscode.tasks.onDidStartTaskProcess(async e=>{e.execution.task.name===SERVER_TASK_NAME&&this.fireOnStart()}),vscode.tasks.onDidEndTaskProcess(e=>{e.execution.task.name===SERVER_TASK_NAME&&(this.ready=!1,this._onDidStop.fire(null),this.restarting||(logger.info("Gradle server stopped"),this.taskExecution=void 0,this.showRestartMessage()))}))}async start(){if(isDebuggingServer())this.port=8887,this.fireOnStart();else{this.port=await getPort();const e=buildGradleServerTask(this.context.asAbsolutePath("lib"),[String(this.port)]);logger.debug("Starting server");try{if(this.taskExecution=await vscode.tasks.executeTask(e),!this.taskExecution)throw new Error("Task execution not found")}catch(e){logger.error("There was an error starting the server:",e.message)}}}isReady(){return this.ready}async showRestartMessage(){"Restart Server"===await vscode.window.showErrorMessage("No connection to gradle server. Try restarting the server.","Restart Server")&&this.start()}restart(){if(!this.restarting)if(logger.info("Restarting gradle server"),this.taskExecution){this.restarting=!0;const e=vscode.tasks.onDidEndTaskProcess(t=>{t.execution.task.name===SERVER_TASK_NAME&&(this.restarting=!1,e.dispose(),this.start())});this.taskExecution.terminate()}else this.start()}fireOnStart(){logger.info("Gradle server started"),this.ready=!0,this._onDidStart.fire(null)}dispose(){var e;null===(e=this.taskExecution)||void 0===e||e.terminate(),this._onDidStart.dispose(),this._onDidStop.dispose()}getPort(){return this.port}getOpts(){return this.opts}}class Icons{constructor(e){this.context=e,this.iconPathRunning={light:this.context.asAbsolutePath(path.join("resources","light",ICON_LOADING)),dark:this.context.asAbsolutePath(path.join("resources","dark",ICON_LOADING))},this.iconPathIdle={light:this.context.asAbsolutePath(path.join("resources","light",ICON_GRADLE_TASK)),dark:this.context.asAbsolutePath(path.join("resources","dark",ICON_GRADLE_TASK))}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __decorate(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function createDecorator(e){return(t,r,o)=>{let n=null,s=null;if("function"==typeof o.value?(n="value",s=o.value):"function"==typeof o.get&&(n="get",s=o.get),!s)throw new Error("not supported");o[n]=e(s,r)}}function debounce(e,t,r){return createDecorator((o,n)=>{const s="$debounce$"+n,i="$debounce$result$"+n;return function(...n){this[i]||(this[i]=r?r():void 0),clearTimeout(this[s]),t&&(this[i]=t(this[i],...n),n=[this[i]]),this[s]=setTimeout(()=>{o.apply(this,n),this[i]=r?r():void 0},e)}})}class EventedStore{constructor(){this._onDidChange=new vscode.EventEmitter,this.onDidChange=this._onDidChange.event}fireOnDidChange(e){this._onDidChange.fire(e)}dispose(){this._onDidChange.dispose()}}__decorate([debounce(0)],EventedStore.prototype,"fireOnDidChange",null);class StoreMap extends EventedStore{constructor(){super(...arguments),this.data=new Map}getItem(e){return this.data.get(e)}getData(){return this.data}get(e){return this.getData().get(e)}clear(e=!0){this.data.clear(),e&&this.fireOnDidChange(null)}setItem(e,t,r=!0){this.data.set(e,t),r&&this.fireOnDidChange(t)}removeItem(e,t=!0){const r=this.data.get(e);r&&(this.data.delete(e),t&&this.fireOnDidChange(r))}}class StoreMapSet extends StoreMap{addEntry(e,t,r=!0){let o=this.getItem(e);o||(o=new Set,this.setItem(e,o,!1)),o.has(t)||(o.add(t),r&&this.fireOnDidChange(o))}removeEntry(e,t,r=!0){const o=this.getItem(e);o&&o.has(t)&&(o.delete(t),0===o.size&&this.removeItem(e,!1),r&&this.fireOnDidChange(o))}}class TaskStore extends StoreMapSet{}const toWorkspaceStateTasks=e=>Array.from(e.keys()).reduce((t,r)=>(t[r]=Array.from(e.get(r).values()),t),{});class PinnedTasksStore extends TaskStore{constructor(e){super(),this.context=e;const t=this.context.workspaceState.get("pinnedTasks",{});t&&!Array.isArray(t)&&"object"==typeof t&&Object.keys(t).forEach(e=>{this.setItem(e,new Set(t[e]),!1)})}fireOnDidChange(){const e=toWorkspaceStateTasks(this.getData());this.context.workspaceState.update("pinnedTasks",e),super.fireOnDidChange(null)}}class RecentTasksStore extends TaskStore{}class TaskTerminalsStore extends StoreMapSet{removeTerminal(e){Array.from(this.getData().keys()).forEach(t=>{const r=this.getItem(t);r&&Array.from(r).forEach(t=>{t===e&&r.delete(t)})}),this.fireOnDidChange(null)}}class RootProject{constructor(e,t,r){this.workspaceFolder=e,this.projectUri=t,this.javaDebug=r}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getJavaDebug(){return this.javaDebug}getWorkspaceFolder(){return this.workspaceFolder}getProjectUri(){return this.projectUri}}async function getNestedRootProjectFolders(){const e=await vscode.workspace.findFiles("**/{gradlew,gradlew.bat}","/{gradlew,gradlew.bat}");return[...new Set(e.map(e=>path.dirname(e.fsPath)))].map(e=>buildRootFolder(vscode.Uri.file(e)))}function buildRootFolder(e){const t=vscode.workspace.getWorkspaceFolder(e),r=getConfigJavaDebug(t);return new RootProject(t,e,r)}class RootProjectsStore extends StoreMap{constructor(){super(...arguments),this.setRootProjectFolder=e=>{isGradleRootProject(e)&&this.setItem(e.getProjectUri().fsPath,e,!1)}}async populate(){const e=vscode.workspace.workspaceFolders||[];e.forEach(e=>this.setRootProjectFolder(buildRootFolder(e.uri)));for(const t of e){const e=getNestedProjectsConfig(t);!0===e?(await getNestedRootProjectFolders()).forEach(this.setRootProjectFolder):Array.isArray(e)&&e.map(e=>{const r=path.join(t.uri.fsPath,e);return buildRootFolder(vscode.Uri.file(r))}).forEach(this.setRootProjectFolder)}this.fireOnDidChange(null)}async buildAndGetProjectRoots(){return this.getData().size||await this.populate(),[...this.getData().values()]}async buildAndGetProjectRootsWithUniqueVersions(){const e=[];return(await this.buildAndGetProjectRoots()).filter(t=>{var r,o;const n=null===(o=null===(r=t.getEnvironment())||void 0===r?void 0:r.getGradleEnvironment())||void 0===o?void 0:o.getGradleVersion();return void 0!==n&&(!e.includes(n)&&(e.push(n),!0))})}}class GradleTaskManager{constructor(e){this.context=e,this._onDidStartTask=new vscode.EventEmitter,this._onDidEndTask=new vscode.EventEmitter,this._onDidEndAllTasks=new vscode.EventEmitter,this.onDidStartTask=this._onDidStartTask.event,this.onDidEndTask=this._onDidEndTask.event,this.onDidEndAllTasks=this._onDidEndAllTasks.event,this.context.subscriptions.push(vscode.tasks.onDidStartTask(e=>{isGradleTask(e.execution.task)&&this._onDidStartTask.fire(e.execution.task)}),vscode.tasks.onDidEndTask(e=>{isGradleTask(e.execution.task)&&(this._onDidEndTask.fire(e.execution.task),0===getRunningGradleTasks().length&&this._onDidEndAllTasks.fire(null))}))}dispose(){this._onDidStartTask.dispose(),this._onDidEndAllTasks.dispose()}}class GradleTaskProvider{constructor(e){this.rootProjectsStore=e,this.cachedTasks=[],this._onDidLoadTasks=new vscode.EventEmitter,this._onDidStartRefresh=new vscode.EventEmitter,this._onDidStopRefresh=new vscode.EventEmitter,this.onDidLoadTasks=this._onDidLoadTasks.event,this.onDidStartRefresh=this._onDidStartRefresh.event,this.onDidStopRefresh=this._onDidStopRefresh.event,this._waitForTasksLoad=new EventWaiter(this.onDidLoadTasks),this.waitForTasksLoad=this._waitForTasksLoad.wait}provideTasks(){return this.loadTasks()}async resolveTask(e){const{definition:t}=e,r=t,o=vscode.workspace.getWorkspaceFolder(vscode.Uri.file(r.workspaceFolder));if(!o)return void logger.error("Unable to provide Gradle task. Invalid workspace folder: ",r.workspaceFolder);const n=getConfigJavaDebug(o);return createTaskFromDefinition(r,new RootProject(o,vscode.Uri.file(r.projectFolder),n))}async loadTasks(){if(this.loadTasksPromise)return this.loadTasksPromise;if(this.cachedTasks.length)return Promise.resolve(this.cachedTasks);logger.debug("Refreshing tasks"),this._onDidStartRefresh.fire(null);const e=await this.rootProjectsStore.buildAndGetProjectRoots();return e.length?(this.loadTasksPromise=loadTasksForProjectRoots(e).then(e=>{this.cachedTasks=e,logger.info(`Found ${this.cachedTasks.length} tasks`)},e=>{logger.error("Unable to refresh tasks:",e.message),this.cachedTasks=[]}).then(()=>this.cachedTasks),this.loadTasksPromise.finally(()=>{this._onDidLoadTasks.fire(null),this._onDidStopRefresh.fire(null),this.loadTasksPromise=void 0})):(this.cachedTasks=[],Promise.resolve(this.cachedTasks))}getTasks(){return this.cachedTasks}findByTaskId(e){return this.getTasks().find(t=>t.definition.id===e)}clearTasksCache(){this.cachedTasks=[],this._waitForTasksLoad.reset()}dispose(){this._onDidLoadTasks.dispose(),this._onDidStartRefresh.dispose(),this._onDidStopRefresh.dispose()}}class FileWatcher{constructor(e){this.buildFileGlob=e,this.enabled=!0,this._onDidChange=new vscode.EventEmitter,this.onDidChange=this._onDidChange.event,this.fireOnDidChange=e=>{this.enabled&&this._onDidChange.fire(e)},this.fileSystemWatcher=vscode.workspace.createFileSystemWatcher(this.buildFileGlob),this.fileSystemWatcher.onDidChange(this.fireOnDidChange),this.fileSystemWatcher.onDidDelete(this.fireOnDidChange),this.fileSystemWatcher.onDidCreate(this.fireOnDidChange)}enable(){this.enabled=!0}disable(){this.enabled=!1}dispose(){this.fileSystemWatcher.dispose(),this._onDidChange.dispose()}}class GracefulFileWatcher extends FileWatcher{constructor(e,t,r){super(e),this.buildFileGlob=e,this.gradleTaskProvider=t,this.gradleTaskManager=r,this.gradleTaskProvider.onDidStartRefresh(()=>this.disable()),this.gradleTaskProvider.onDidStopRefresh(()=>this.enable()),this.gradleTaskManager.onDidStartTask(()=>this.disable()),this.gradleTaskManager.onDidEndAllTasks(()=>this.enable())}}class Extension{constructor(e){this.context=e;const t=vscode.window.createOutputChannel("Gradle Tasks"),r=new Logger("grpc");logger.setLoggingChannel(t),r.setLoggingChannel(t),getConfigIsDebugEnabled()&&(logger.setLogVerbosity(LogVerbosity.DEBUG),r.setLogVerbosity(LogVerbosity.DEBUG));const o=vscode.window.createStatusBarItem();this.server=new GradleServer({host:"localhost"},e),this.client=new GradleClient(this.server,o,r),this.pinnedTasksStore=new PinnedTasksStore(e),this.recentTasksStore=new RecentTasksStore,this.taskTerminalsStore=new TaskTerminalsStore,this.rootProjectsStore=new RootProjectsStore,this.gradleTaskProvider=new GradleTaskProvider(this.rootProjectsStore),this.taskProvider=vscode.tasks.registerTaskProvider("gradle",this.gradleTaskProvider),this.icons=new Icons(e),this.gradleTasksTreeDataProvider=new GradleTasksTreeDataProvider(this.context,this.rootProjectsStore),this.gradleTasksTreeView=vscode.window.createTreeView(GRADLE_TASKS_VIEW,{treeDataProvider:this.gradleTasksTreeDataProvider,showCollapseAll:!0}),this.gradleDaemonsTreeDataProvider=new GradleDaemonsTreeDataProvider(this.context,this.rootProjectsStore),this.gradleDaemonsTreeView=vscode.window.createTreeView(GRADLE_DAEMONS_VIEW,{treeDataProvider:this.gradleDaemonsTreeDataProvider,showCollapseAll:!1}),this.pinnedTasksTreeDataProvider=new PinnedTasksTreeDataProvider(this.context,this.pinnedTasksStore,this.rootProjectsStore),this.pinnedTasksTreeView=vscode.window.createTreeView(PINNED_TASKS_VIEW,{treeDataProvider:this.pinnedTasksTreeDataProvider,showCollapseAll:!1}),this.recentTasksTreeDataProvider=new RecentTasksTreeDataProvider(this.context,this.recentTasksStore,this.taskTerminalsStore,this.rootProjectsStore),this.recentTasksTreeView=vscode.window.createTreeView(RECENT_TASKS_VIEW,{treeDataProvider:this.recentTasksTreeDataProvider,showCollapseAll:!1}),this.gradleTaskManager=new GradleTaskManager(e),this.buildFileWatcher=new GracefulFileWatcher("**/*.{gradle,gradle.kts}",this.gradleTaskProvider,this.gradleTaskManager),this.gradleWrapperWatcher=new GracefulFileWatcher("**/gradle/wrapper/gradle-wrapper.properties",this.gradleTaskProvider,this.gradleTaskManager),this.api=new Api(this.client,this.gradleTasksTreeDataProvider),this.storeSubscriptions(),this.registerCommands(),this.handleTaskEvents(),this.handleWatchEvents(),this.handleEditorEvents(),this.loadTasks(),Extension.instance=this}static getInstance(){return Extension.instance}storeSubscriptions(){this.context.subscriptions.push(this.client,this.server,this.pinnedTasksStore,this.recentTasksStore,this.taskTerminalsStore,this.gradleTaskProvider,this.taskProvider,this.gradleTaskManager,this.buildFileWatcher,this.gradleWrapperWatcher,this.gradleDaemonsTreeView,this.gradleTasksTreeView,this.pinnedTasksTreeView,this.recentTasksTreeView)}registerCommands(){registerCommands(this.context)}loadTasks(){this.client.onDidConnect(()=>this.refresh())}handleTaskEvents(){this.gradleTaskManager.onDidStartTask(async e=>{this.gradleTasksTreeView.visible&&getConfigFocusTaskInExplorer()&&await focusTaskInGradleTasksTree(e);const t=e.definition;this.recentTasksStore.addEntry(t.id,t.args),await vscode.commands.executeCommand(COMMAND_RENDER_TASK,e)}),this.gradleTaskManager.onDidEndTask(async e=>{await vscode.commands.executeCommand(COMMAND_RENDER_TASK,e)})}handleWatchEvents(){this.buildFileWatcher.onDidChange(e=>{logger.debug("Build file changed:",e.fsPath),this.refresh()}),this.gradleWrapperWatcher.onDidChange(e=>{logger.debug("Gradle wrapper properties changed:",e.fsPath),this.client.close();const t=this.client.onDidConnect(()=>{t.dispose(),this.refresh()});this.server.restart()})}refresh(){vscode.commands.executeCommand(COMMAND_REFRESH)}handleEditorEvents(){this.context.subscriptions.push(vscode.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("java.home")&&this.server.isReady()&&this.server.restart(),(e.affectsConfiguration("gradle.javaDebug")||e.affectsConfiguration("gradle.nestedProjects"))&&(this.rootProjectsStore.clear(),this.refresh()),e.affectsConfiguration("gradle.debug")){const e=getConfigIsDebugEnabled();logger.setLogVerbosity(e?LogVerbosity.DEBUG:LogVerbosity.INFO)}}),vscode.window.onDidCloseTerminal(e=>{this.taskTerminalsStore.removeTerminal(e)}),vscode.workspace.onDidChangeWorkspaceFolders(()=>this.refresh()))}getApi(){return this.api}getGradleTaskProvider(){return this.gradleTaskProvider}getRootProjectsStore(){return this.rootProjectsStore}getClient(){return this.client}getTaskTerminalsStore(){return this.taskTerminalsStore}getRecentTasksStore(){return this.recentTasksStore}getPinnedTasksStore(){return this.pinnedTasksStore}getGradleTasksTreeDataProvider(){return this.gradleTasksTreeDataProvider}getPinnedTasksTreeDataProvider(){return this.pinnedTasksTreeDataProvider}getRecentTasksTreeDataProvider(){return this.recentTasksTreeDataProvider}getGradleTasksTreeView(){return this.gradleTasksTreeView}getGradleDaemonsTreeDataProvider(){return this.gradleDaemonsTreeDataProvider}getIcons(){return this.icons}}function activate(e){return new Extension(e).getApi()}function deactivate(){}exports.activate=activate,exports.deactivate=deactivate;
//# sourceMappingURL=index.js.map
