{"version":3,"sources":["components/contextmenu/contextmenu-models.ts","components/contextmenu/contextmenuItem.tsx","components/contextmenu/contextmenu.tsx","components/url-input/url-input.tsx","components/device-settings/device-settings.tsx","components/toolbar/toolbar.tsx","components/loading-bar/loading-bar.tsx","components/screencast/screencast.tsx","components/viewport-info/viewport-info.tsx","components/viewport/viewport.tsx","utils/logger.ts","connection.ts","utils/cdpHelper.ts","App.tsx","index.tsx"],"names":["ContextMenuItemsType","ContextMenuItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","itemType","isDisabled","handleClick","bind","assertThisInitialized","nextProps","setState","event","setVisibility","className","push","Seperator","react","join","onClick","React","ContextMenu","ref","isVisible","position","x","y","menuItems","Cut","e","CutHandler","Copy","CopyHandler","Paste","PasteHandler","PasteAndGo","PasteGoHandler","Delete","DeleteHandler","SelectAll","SelectAllHandler","setRef","handleClickOutside","manageMenuItemsStatus","document","addEventListener","removeEventListener","_menuItems","cut","find","cutIndex","findIndex","copy","copyIndex","deleteItem","deleteItemIndex","window","getSelection","toString","length","paste","pasteIndex","pasteGo","pasteGoIndex","onActionInvoked","menuStyle","left","top","style","map","item","index","contextmenuItem","assign","key","node","contains","target","selectedUrlInput","value","setUrl","enterUrl","selectUrl","UrlInput","hasChanged","isFocused","url","urlSelectionStart","urlSelectionEnd","contextMenuProps","handleChange","handleFocus","handleBlur","handleKeyDown","handleContextMenu","objectSpread","newCursorPosition","_url","firstPart","slice","secondPart","focus","setSelectionRange","type","onFocus","onBlur","onChange","onKeyDown","onContextMenu","contextmenu","element","select","preventDefault","currentTarget","selectionStart","selectionEnd","clientX","clientY","match","onUrlChanged","keyCode","devices","require","DeviceSettings","emulatedDevices","viewportMetadata","handleWidthChange","handleHeightChange","handleDeviceChange","name","userAgent","viewport","width","height","concat","filter","d","isLandscape","selectedDevice","emulatedDeviceId","procentageZoom","Math","round","screenZoom","zoomLevels","label","viewportHeight","viewportWidth","console","log","device","selected","min","handleZoomChange","level","deviceName","onDeviceChange","newVal","parseInt","onViewportSizeChange","iconBackwardStyle","backgroundImage","iconForwardStyle","iconRefreshStyle","iconInspectStyle","backgroundSize","iconDeviceStyle","Toolbar","handleBack","handleForward","handleRefresh","handleUrlChange","handleInspect","handleEmulateDevice","handleViewportSizeChange","isInspectEnabled","isDeviceEmulationEnabled","disabled","canGoBack","canGoForward","url_input_url_input","device_settings_device_settings","viewportSize","LoadingBar","getBarStyle","percent","display","Screencast","canvasRef","imageRef","canvasContext","frameId","frame","handleMouseEvent","handleKeyEvent","renderLoop","imageZoom","screenOffsetTop","prevProps","prevState","renderScreencastFrame","startLoop","stopLoop","requestAnimationFrame","cancelAnimationFrame","renderFrame","canvasStyle","cursor","onMouseDown","onMouseUp","onMouseMove","onWheel","onKeyUp","onKeyPress","tabIndex","current","getContext","canvasElement","imageElement","imageSmoothingEnabled","checkerboardPattern","getCheckerboardPattern","devicePixelRatio","canvasWidth","canvasHeight","scale","save","fillStyle","fillRect","restore","dy","dw","dh","drawImage","highlightInfo","model","scaleBoxModelToViewport","config","contentColor","paddingColor","borderColor","marginColor","quads","content","quad","color","padding","border","margin","i","globalAlpha","drawOutlinedQuadWithClip","drawOutlinedQuad","screencastFrame","metadata","format","offsetTop","scrollOffsetX","scrollOffsetY","src","base64Data","canvas","context","pattern","pctx","size","result","createPattern","CanvasPattern","convertIntoScreenSpace","onInspectElement","onInspectHighlightRequested","dispatchMouseEvent","nativeEvent","onMouseMoved","getBoundingClientRect","beginPath","moveTo","lineTo","closePath","fillColor","lineWidth","quadToPath","clip","fill","clipQuad","globalCompositeOperation","zoomFactor","scaleQuad","emitKeyEvent","altKey","ctrlKey","metaKey","shiftKey","text","String","fromCharCode","charCode","undefined","params","modifiers","modifiersForEvent","unmodifiedText","toLowerCase","keyIdentifier","code","windowsVirtualKeyCode","nativeVirtualKeyCode","autoRepeat","isKeypad","isSystemKey","onInteraction","clickCount","types","mousedown","mouseup","mousemove","wheel","offsetX","offsetY","button","0","1","2","3","which","deltaX","deltaY","ViewportInfo","timer","isHidden","clearTimeout","_this2","setTimeout","Viewport","viewportRef","debouncedResizeHandler","viewportPadding","right","bottom","debounce","handleViewportResize","handleInspectElement","handleInspectHighlightRequested","handleScreencastInteraction","handleResizeStop","handleMouseMoved","resizableEnableOptions","topRight","bottomRight","bottomLeft","topLeft","isResizable","renderer","screencast_screencast","loading_bar_loading_bar","loadingPercent","viewport_info_viewport_info","lib","onResizeStop","enable","handleClasses","calculateViewportSize","calculateViewportZoom","isFixedZoom","isFixedSize","screenViewportDimensions","innerHeight","innerWidth","emitViewportChanges","dim","roundNumber","calculateViewport","direction","delta","onViewportChanged","action","floor","newViewport","Logger","enabled","_console","apply","arguments","Connection","lastId","vscode","callbacks","logger","Map","onMessage","method","id","acquireVsCodeApi","_unused","postMessage","callbackId","Promise","resolve","reject","set","error","Error","message","object","data","callback","get","delete","emit","verbose","disable","EventEmitter2","CDPHelper","connection","createClass","_resolveElementProperties","asyncToGenerator","regenerator_default","a","mark","_callee2","objectId","maxDepth","initialProperties","wrap","_context2","prev","next","getProperties","sent","_ref","_callee","passedDepth","resolveResult","internalCurentDepth","_iterator","_step","newDepth","_context","_createForOfIteratorHelper","s","n","done","Array","isArray","defineProperty","enumerable","configurable","writable","t0","f","finish","abrupt","stop","_x3","_x4","_x","_x2","_getProperties","_callee3","_context3","send","ownProperties","_x5","_getCursorForNode","_callee4","nodeInfo","nodeId","computedStyleReq","cursorCSS","_context4","getNodeIdFromBackendId","backendNodeId","computedStyle","c","_x6","_getNodeIdFromBackendId","_callee5","nodeIdsReq","_context5","backendNodeIds","nodeIds","_x7","App","cdpHelper","isVerboseMode","history","deviceSizeRatio","highlightNode","isLoading","onToolbarActionInvoked","enableVerboseLogging","on","requestNavigationHistory","parentId","updateState","handleScreencastFrame","stopCasting","startCasting","payload","startUrl","enableViewportDeviceEmulation","sessionId","requestNodeHighlighting","toolbar_toolbar","viewport_viewport","quality","maxWidth","maxHeight","historyIndex","currentIndex","historyEntries","entries","currentEntry","panelTitle","title","handleInspectElementRequest","handleToggleInspect","handleElementChanged","deviceScaleFactor","mobile","newState","_this3","sendStatetoHost","highlightNodeInfo","sourceMetadata","nodeDetails","resolveElementProperties","nodeProperties","getElementSourceMetadata","fileName","columnNumber","lineNumber","charNumber","resolveHighlightNodeSourceMetadata","handleToggleDeviceEmulation","handleClipboardWrite","handleViewportDeviceChange","disableViewportDeviceEmulation","getCursorForNode","highlightBoxModel","highlightConfig","showInfo","showStyles","showRulers","showExtensionLines","ReactDOM","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.ff3b3196.chunk.js","sourcesContent":["export interface IContextMenu {\n  menuItems: Array<IContextMenuItemProps>;\n  isVisible: boolean;\n  position: IPosition;\n}\n\nexport interface IContextMenuProps extends IContextMenu {\n  setVisibility: (value: boolean) => void;\n  setUrl: (value: string) => void;\n  enterUrl: () => void;\n  selectUrl: (element?: HTMLInputElement) => void;\n  onActionInvoked: (action: string, data?: object) => Promise<any>;\n  selectedUrlInput: string;\n}\n\nexport interface IContextMenuItemState {\n  itemType: ContextMenuItemsType;\n  isDisabled?: boolean;\n}\n\nexport interface IContextMenuItemProps extends IContextMenuItemState {\n  handleClick: (event: React.MouseEvent<HTMLLIElement>) => void;\n  setVisibility: (value: boolean) => void;\n}\n\nexport enum ContextMenuItemsType {\n  Cut = 'Cut',\n  Copy = 'Copy',\n  Paste = 'Paste',\n  PasteAndGo = 'Paste & Go',\n  Delete = 'Delete',\n  SelectAll = 'Select All',\n  Seperator = '-'\n}\n\nexport interface IPosition {\n  x: number;\n  y: number;\n}\n","import * as React from 'react';\nimport {\n  IContextMenuItemProps,\n  IContextMenuItemState,\n  ContextMenuItemsType\n} from './contextmenu-models';\n\nclass ContextMenuItem extends React.Component<\n  IContextMenuItemProps,\n  IContextMenuItemState\n> {\n  constructor(props: IContextMenuItemProps) {\n    super(props);\n    this.state = {\n      itemType: this.props.itemType,\n      isDisabled: this.props.isDisabled || false\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps: IContextMenuItemProps) {\n    if (nextProps.isDisabled !== this.state.isDisabled) {\n      this.setState({\n        isDisabled: nextProps.isDisabled\n      });\n    }\n  }\n\n  private handleClick(event: React.MouseEvent<HTMLLIElement>) {\n    this.props.handleClick(event);\n    this.props.setVisibility(false);\n  }\n\n  public render() {\n    const className = ['contextMenuItem'];\n    if (this.state.isDisabled) {\n      className.push('disabled');\n    }\n    if (this.state.itemType === ContextMenuItemsType.Seperator) {\n      className.push('disabled');\n      className.push('separator');\n    }\n\n    if (this.state.itemType === ContextMenuItemsType.Seperator) {\n      return <li className={className.join(' ')} />;\n    } else {\n      return (\n        <li className={className.join(' ')} onClick={this.handleClick}>\n          {this.state.itemType}\n        </li>\n      );\n    }\n  }\n}\n\nexport default ContextMenuItem;\n","import * as React from 'react';\nimport {\n  IContextMenu,\n  IContextMenuProps,\n  ContextMenuItemsType\n} from './contextmenu-models';\nimport ContextMenuItem from './contextmenuItem';\n\nclass ContextMenu extends React.Component<IContextMenuProps, IContextMenu> {\n  private ref?: HTMLUListElement;\n  constructor(props: IContextMenuProps) {\n    super(props);\n    this.state = {\n      isVisible: false,\n      position: {\n        x: 0,\n        y: 0\n      },\n      //assign menuItems\n      menuItems: [\n        {\n          itemType: ContextMenuItemsType.Cut,\n          setVisibility: this.props.setVisibility,\n          handleClick: (e) => this.CutHandler(e)\n        },\n        {\n          itemType: ContextMenuItemsType.Copy,\n          setVisibility: this.props.setVisibility,\n          handleClick: (e) => this.CopyHandler(e)\n        },\n        {\n          itemType: ContextMenuItemsType.Paste,\n          setVisibility: this.props.setVisibility,\n          handleClick: (e) => this.PasteHandler(e)\n        },\n        {\n          itemType: ContextMenuItemsType.PasteAndGo,\n          setVisibility: this.props.setVisibility,\n          handleClick: (e) => this.PasteGoHandler(e)\n        },\n        {\n          itemType: ContextMenuItemsType.Delete,\n          setVisibility: this.props.setVisibility,\n          handleClick: (e) => this.DeleteHandler(e)\n        },\n        {\n          itemType: ContextMenuItemsType.Seperator,\n          setVisibility: this.props.setVisibility,\n          handleClick: () => {}\n        },\n        {\n          itemType: ContextMenuItemsType.SelectAll,\n          setVisibility: this.props.setVisibility,\n          handleClick: (e) => this.SelectAllHandler(e)\n        }\n      ]\n    };\n\n    this.setRef = this.setRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps: IContextMenuProps) {\n    if (\n      nextProps.position.x !== this.state.position.x ||\n      nextProps.position.y !== this.state.position.y\n    ) {\n      this.setState({\n        position: nextProps.position\n      });\n    }\n    if (nextProps.isVisible !== this.state.isVisible) {\n      this.setState({\n        isVisible: nextProps.isVisible\n      });\n      this.manageMenuItemsStatus();\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  async manageMenuItemsStatus() {\n    let _menuItems = [...this.state.menuItems];\n\n    // Cut\n    let cut = this.state.menuItems.find(\n      (x) => x.itemType === ContextMenuItemsType.Cut\n    );\n    let cutIndex = this.state.menuItems.findIndex(\n      (x) => x.itemType === ContextMenuItemsType.Cut\n    );\n\n    // Copy\n    let copy = this.state.menuItems.find(\n      (x) => x.itemType === ContextMenuItemsType.Copy\n    );\n    let copyIndex = this.state.menuItems.findIndex(\n      (x) => x.itemType === ContextMenuItemsType.Copy\n    );\n\n    // Delete\n    let deleteItem = this.state.menuItems.find(\n      (x) => x.itemType === ContextMenuItemsType.Delete\n    );\n    let deleteItemIndex = this.state.menuItems.findIndex(\n      (x) => x.itemType === ContextMenuItemsType.Delete\n    );\n    if (window.getSelection().toString().length > 0) {\n      if (cut) {\n        _menuItems[cutIndex].isDisabled = false;\n        this.setState({ menuItems: _menuItems });\n      }\n\n      if (copy) {\n        _menuItems[copyIndex].isDisabled = false;\n        this.setState({ menuItems: _menuItems });\n      }\n\n      if (deleteItem) {\n        _menuItems[deleteItemIndex].isDisabled = false;\n        this.setState({ menuItems: _menuItems });\n      }\n    } else {\n      if (cut) {\n        _menuItems[cutIndex].isDisabled = true;\n        this.setState({ menuItems: _menuItems });\n      }\n\n      if (copy) {\n        _menuItems[copyIndex].isDisabled = true;\n        this.setState({ menuItems: _menuItems });\n      }\n\n      if (deleteItem) {\n        _menuItems[deleteItemIndex].isDisabled = true;\n        this.setState({ menuItems: _menuItems });\n      }\n    }\n\n    // Paste\n    let paste = this.state.menuItems.find(\n      (x) => x.itemType === ContextMenuItemsType.Paste\n    );\n    let pasteIndex = this.state.menuItems.findIndex(\n      (x) => x.itemType === ContextMenuItemsType.Paste\n    );\n\n    // Paste & Go\n    let pasteGo = this.state.menuItems.find(\n      (x) => x.itemType === ContextMenuItemsType.PasteAndGo\n    );\n    let pasteGoIndex = this.state.menuItems.findIndex(\n      (x) => x.itemType === ContextMenuItemsType.PasteAndGo\n    );\n    if (\n      this.props.onActionInvoked &&\n      (await this.props.onActionInvoked('readClipboard'))\n    ) {\n      if (paste) {\n        _menuItems[pasteIndex].isDisabled = false;\n        this.setState({ menuItems: _menuItems });\n      }\n\n      if (pasteGo) {\n        _menuItems[pasteGoIndex].isDisabled = false;\n        this.setState({ menuItems: _menuItems });\n      }\n    } else {\n      if (paste) {\n        _menuItems[pasteIndex].isDisabled = true;\n        this.setState({ menuItems: _menuItems });\n      }\n\n      if (pasteGo) {\n        _menuItems[pasteGoIndex].isDisabled = true;\n        this.setState({ menuItems: _menuItems });\n      }\n    }\n  }\n\n  public render() {\n    const className = ['contextMenu'];\n    if (!this.state.isVisible) className.push('hidden');\n\n    const menuStyle = {\n      left: this.state.position.x,\n      top: this.state.position.y\n    };\n\n    return (\n      <ul className={className.join(' ')} style={menuStyle} ref={this.setRef}>\n        {this.state.menuItems.map((item, index) => {\n          return <ContextMenuItem {...item} key={index} />;\n        })}\n      </ul>\n    );\n  }\n\n  private setRef(node: HTMLUListElement) {\n    this.ref = node;\n  }\n\n  private handleClickOutside(e: MouseEvent) {\n    if (this.ref && !this.ref.contains(e.target as Node)) {\n      this.props.setVisibility(false);\n    }\n  }\n\n  private async CutHandler(event: React.MouseEvent<HTMLLIElement>) {\n    if (this.props.onActionInvoked && this.props.selectedUrlInput) {\n      await this.props.onActionInvoked('writeClipboard', {\n        value: this.props.selectedUrlInput\n      });\n      this.props.setUrl('');\n    }\n  }\n\n  private async CopyHandler(event: React.MouseEvent<HTMLLIElement>) {\n    if (this.props.onActionInvoked && this.props.selectedUrlInput) {\n      await this.props.onActionInvoked('writeClipboard', {\n        value: this.props.selectedUrlInput\n      });\n    }\n  }\n\n  private async PasteHandler(event: React.MouseEvent<HTMLLIElement>) {\n    if (this.props.onActionInvoked) {\n      let value: string = await this.props.onActionInvoked('readClipboard');\n      if (value) this.props.setUrl(value);\n    }\n  }\n\n  private async PasteGoHandler(event: React.MouseEvent<HTMLLIElement>) {\n    if (this.props.onActionInvoked && this.props.enterUrl) {\n      let value: string = await this.props.onActionInvoked('readClipboard');\n      if (value) {\n        this.props.setUrl(value);\n        this.props.enterUrl();\n      }\n    }\n  }\n\n  private async DeleteHandler(event: React.MouseEvent<HTMLLIElement>) {\n    if (this.props.selectedUrlInput) {\n      this.props.setUrl('');\n    }\n  }\n\n  private async SelectAllHandler(event: React.MouseEvent<HTMLLIElement>) {\n    if (this.props.selectUrl) {\n      this.props.selectUrl();\n    }\n  }\n}\n\nexport default ContextMenu;\n","import * as React from 'react';\nimport ContextMenu from '../contextmenu/contextmenu';\nimport { IContextMenuProps } from '../contextmenu/contextmenu-models';\nimport './url-input.css';\n\ninterface IUrlInputState {\n  isFocused: boolean;\n  hasChanged: boolean;\n  url: string;\n  urlSelectionStart: number | null;\n  urlSelectionEnd: number | null;\n  contextMenuProps: IContextMenuProps;\n}\n\nclass UrlInput extends React.Component<any, IUrlInputState> {\n  private ref?: HTMLInputElement;\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      hasChanged: false,\n      isFocused: false,\n      url: this.props.url,\n      urlSelectionStart: 0,\n      urlSelectionEnd: 0,\n      contextMenuProps: {\n        menuItems: [],\n        isVisible: false,\n        position: { x: 0, y: 0 },\n        setVisibility: this.setVisibility.bind(this),\n        setUrl: this.setUrl.bind(this),\n        enterUrl: this.enterUrl.bind(this),\n        selectUrl: this.selectUrl.bind(this),\n        onActionInvoked: this.props.onActionInvoked,\n        selectedUrlInput: ''\n      }\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleContextMenu = this.handleContextMenu.bind(this);\n\n    this.setRef = this.setRef.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    if (nextProps.url !== this.state.url && !this.state.hasChanged) {\n      this.setState({\n        url: nextProps.url\n      });\n    }\n  }\n\n  //changing ContextMenu visibility status from child components\n  public setVisibility(value: boolean) {\n    this.setState({\n      contextMenuProps: {\n        ...this.state.contextMenuProps,\n        isVisible: value\n      }\n    });\n  }\n\n  //changing url from child components\n  public setUrl(value: string) {\n    // if selectionStart and selectionEnd are available, then we have to\n    // only modify that part of the url\n    let newCursorPosition: number | null = null;\n    if (this.state.urlSelectionStart && this.state.urlSelectionEnd) {\n      let _url: string = this.state.url;\n      let firstPart: string = _url.slice(0, this.state.urlSelectionStart);\n      let secondPart: string = _url.slice(this.state.urlSelectionEnd);\n\n      //set newCursorPosition\n      newCursorPosition = (firstPart + value).length;\n\n      value = firstPart + value + secondPart;\n    } else if (this.state.urlSelectionStart) {\n      let _url: string = this.state.url;\n      let firstPart: string = _url.slice(0, this.state.urlSelectionStart);\n      let secondPart: string = _url.slice(this.state.urlSelectionStart);\n\n      //set newCursorPosition\n      newCursorPosition = (firstPart + value).length;\n\n      value = firstPart + value + secondPart;\n    }\n\n    if (value !== this.state.url) {\n      this.setState({\n        url: value,\n        hasChanged: true,\n        isFocused: true\n      });\n\n      //set urlCursorPosition\n      if (this.ref && newCursorPosition) {\n        this.ref.focus();\n        this.ref.setSelectionRange(newCursorPosition, newCursorPosition);\n      }\n    }\n  }\n\n  public render() {\n    const className = ['urlbar'];\n    if (this.state.isFocused) {\n      className.push('focused');\n    }\n\n    return (\n      <div className={className.join(' ')}>\n        <input\n          type=\"text\"\n          ref={this.setRef}\n          value={this.state.url}\n          onFocus={this.handleFocus}\n          onBlur={this.handleBlur}\n          onChange={this.handleChange}\n          onKeyDown={this.handleKeyDown}\n          onContextMenu={this.handleContextMenu}\n        />\n        <ContextMenu {...this.state.contextMenuProps} />\n      </div>\n    );\n  }\n\n  private setRef(node: HTMLInputElement) {\n    this.ref = node;\n  }\n\n  private handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      url: e.target.value,\n      hasChanged: true\n    });\n  }\n\n  private handleFocus(e: React.FocusEvent<HTMLInputElement>) {\n    this.selectUrl(e.target);\n  }\n\n  //select all url from child components\n  private selectUrl(element?: HTMLInputElement) {\n    if (!element && this.ref) element = this.ref;\n\n    if (element) {\n      element.select();\n      this.setState({\n        isFocused: true\n      });\n    }\n  }\n\n  private handleBlur(e: React.FocusEvent<HTMLInputElement>) {\n    this.setState({\n      isFocused: false\n    });\n  }\n\n  private handleContextMenu(e: React.MouseEvent<HTMLInputElement>) {\n    e.preventDefault();\n    this.setState({\n      urlSelectionStart: (e.currentTarget as HTMLInputElement).selectionStart,\n      urlSelectionEnd: (e.currentTarget as HTMLInputElement).selectionEnd,\n      contextMenuProps: {\n        ...this.state.contextMenuProps,\n        isVisible: true,\n        position: {\n          x: e.clientX,\n          y: e.clientY\n        },\n        selectedUrlInput: this.state.isFocused\n          ? window.getSelection().toString()\n          : ''\n      }\n    });\n  }\n\n  private enterUrl() {\n    let url = this.state.url;\n    let schemeRegex = /^(https?|about|chrome|file):/;\n\n    if (!url.match(schemeRegex)) {\n      url = 'http://' + this.state.url;\n    }\n\n    this.setState({\n      hasChanged: false\n    });\n\n    this.props.onUrlChanged(url);\n  }\n\n  private handleKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n    if (e.keyCode === 13) {\n      // Enter\n      this.enterUrl();\n    }\n  }\n}\n\nexport default UrlInput;\n","import * as React from 'react';\nimport './device-settings.css';\n\nconst devices = require('browser-viewport-device-descriptions');\n\nclass DeviceSettings extends React.Component<any, any> {\n  private emulatedDevices: any[];\n  private viewportMetadata: any;\n\n  constructor(props: any) {\n    super(props);\n\n    this.handleWidthChange = this.handleWidthChange.bind(this);\n    this.handleHeightChange = this.handleHeightChange.bind(this);\n    this.handleDeviceChange = this.handleDeviceChange.bind(this);\n\n    this.emulatedDevices = [\n      { name: 'Responsive', userAgent: '', viewport: [] },\n      {\n        name: 'Macbook 15',\n        userAgent: '',\n        viewport: {\n          width: 1440,\n          height: 900\n        }\n      },\n      {\n        name: 'Macbook 13',\n        userAgent: '',\n        viewport: {\n          width: 1280,\n          height: 800\n        }\n      }\n    ]\n      .concat(devices)\n      .filter((d: any) => !d.viewport.isLandscape);\n  }\n\n  public render() {\n    this.viewportMetadata = this.props.viewportMetadata;\n\n    let selectedDevice = this.viewportMetadata.emulatedDeviceId || '';\n\n    let procentageZoom = Math.round(this.viewportMetadata.screenZoom * 100);\n    let zoomLevels = [\n      { label: `Fit (${procentageZoom}%)`, value: 'fit' }\n      // { label: '50%', value: '0.5' },\n      // { label: '75%', value: '0.75' },\n      // { label: '100%', value: '1' },\n      // { label: '125%', value: '1.25' },\n      // { label: '150%', value: '1.50' }\n    ];\n\n    let viewportHeight = this.viewportMetadata.height | 0;\n    let viewportWidth = this.viewportMetadata.width | 0;\n\n    console.log(this.viewportMetadata, selectedDevice);\n\n    return (\n      <div className={`device-settings ` + (this.props.isVisible ? `active` : ``)}>\n        <select className=\"device-selector\" onChange={this.handleDeviceChange} value={selectedDevice}>\n          {this.emulatedDevices.map((device: any) => {\n            return (\n              <option key={device.name} value={device.name} selected={device.selected}>\n                {device.name}\n              </option>\n            );\n          })}\n        </select>\n\n        <span className=\"metadata\">\n          <input\n            className=\"viewport-size-input\"\n            type=\"number\"\n            min=\"0\"\n            value={viewportWidth}\n            onChange={this.handleWidthChange}\n          />\n          <span className=\"spacer\">𝗑</span>\n          <input\n            className=\"viewport-size-input\"\n            type=\"number\"\n            min=\"0\"\n            value={viewportHeight}\n            onChange={this.handleHeightChange}\n          />\n        </span>\n\n        <select className=\"zoom-selector\" value=\"fit\" onChange={this.handleZoomChange}>\n          {zoomLevels.map((level: any) => {\n            return (\n              <option key={level.value} value={level.value}>\n                {level.label}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n    );\n  }\n\n  private handleDeviceChange(e: React.ChangeEvent<HTMLSelectElement>) {\n    let deviceName = e.target.value;\n    let device = this.emulatedDevices.find((d: any) => d.name == deviceName);\n\n    this.props.onDeviceChange(device);\n  }\n\n  private handleHeightChange(e: React.ChangeEvent<HTMLInputElement>) {\n    var newVal = parseInt(e.target.value);\n\n    this.props.onViewportSizeChange({\n      height: newVal,\n      width: this.props.width\n    });\n  }\n\n  private handleWidthChange(e: React.ChangeEvent<HTMLInputElement>) {\n    var newVal = parseInt(e.target.value);\n\n    this.props.onViewportSizeChange({\n      width: newVal,\n      height: this.props.height\n    });\n  }\n\n  private handleZoomChange(e: React.ChangeEvent<HTMLSelectElement>) {\n    console.log('not implemented');\n  }\n}\n\nexport default DeviceSettings;\n","import * as React from 'react';\nimport './toolbar.css';\n\nimport UrlInput from '../url-input/url-input';\nimport DeviceSettings from '../device-settings/device-settings';\n\nconst iconBackwardStyle = {\n  backgroundImage: `url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNDI3IDIzNC42MjVIMTY3LjI5NmwxMTkuNzAyLTExOS43MDJMMjU2IDg1IDg1IDI1NmwxNzEgMTcxIDI5LjkyMi0yOS45MjQtMTE4LjYyNi0xMTkuNzAxSDQyN3YtNDIuNzV6Ii8+PC9zdmc+)`\n};\n\nconst iconForwardStyle = {\n  backgroundImage: `url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNODUgMjc3LjM3NWgyNTkuNzA0TDIyNS4wMDIgMzk3LjA3NyAyNTYgNDI3bDE3MS0xNzFMMjU2IDg1bC0yOS45MjIgMjkuOTI0IDExOC42MjYgMTE5LjcwMUg4NXY0Mi43NXoiLz48L3N2Zz4=)`\n};\n\nconst iconRefreshStyle = {\n  backgroundImage: `url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNMjU2IDM4OGMtNzIuNTk3IDAtMTMyLTU5LjQwNS0xMzItMTMyIDAtNzIuNjAxIDU5LjQwMy0xMzIgMTMyLTEzMiAzNi4zIDAgNjkuMjk5IDE1LjQgOTIuNDA2IDM5LjYwMUwyNzggMjM0aDE1NFY4MGwtNTEuNjk4IDUxLjcwMkMzNDguNDA2IDk5Ljc5OCAzMDQuNDA2IDgwIDI1NiA4MGMtOTYuNzk3IDAtMTc2IDc5LjIwMy0xNzYgMTc2czc4LjA5NCAxNzYgMTc2IDE3NmM4MS4wNDUgMCAxNDguMjg3LTU0LjEzNCAxNjkuNDAxLTEyOEgzNzguODVjLTE4Ljc0NSA0OS41NjEtNjcuMTM4IDg0LTEyMi44NSA4NHoiLz48L3N2Zz4=)`\n};\n\nconst iconInspectStyle = {\n  backgroundImage: `url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxNjBweCIgaGVpZ2h0PSIxNjBweCIgdmlld0JveD0iMCAwIDE2MCAxNjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+aW5zcGVjdDwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJpbnNwZWN0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjQuMDAwMDAwLCAtMjQuMDAwMDAwKSI+ICAgICAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgzNDYiIG9wYWNpdHk9IjAuNSIgcG9pbnRzPSIwIDAgMTk2IDAgMTk2IDE5NiAwIDE5NiI+PC9wb2x5Z29uPiAgICAgICAgICAgIDxwYXRoIGQ9Ik03My41LDE3MS41IEw0Mi44NzUsMTcxLjUgQzMwLjYyNSwxNzEuNSAyNC41LDE2NS4zNzUgMjQuNSwxNTMuMTI1IEwyNC41LDQyLjg3NSBDMjQuNSwzMC42MjUgMzAuNjI1LDI0LjUgNDIuODc1LDI0LjUgTDE1My4xMjUsMjQuNSBDMTcxLjUsMjQuNSAxNzEuNSw0Mi40ODA1NSAxNzEuNSw0Mi44NzUgTDE3MS41LDczLjUgTDE1OS4yNSw3My41IEwxNTkuMjUsMzYuNzUgTDM2Ljc1LDM2Ljc1IEwzNi43NSwxNTkuMjUgTDczLjUsMTU5LjI1IEw3My41LDE3MS41IFogTTE4My43NSwxMTAuMjUgTDE0NywxMzQuNzUgTDE4My43NSwxNzEuNSBMMTcxLjUsMTgzLjc1IEwxMzQuNzUsMTQ3IEwxMTAuMjUsMTgzLjc1IEw4NS43NSw4NS43NSBMMTgzLjc1LDExMC4yNSBaIiBpZD0icGF0aDM0OCIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4=)`,\n  backgroundSize: `12px 12px`\n};\n\nconst iconDeviceStyle = {\n  backgroundImage: `url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTVweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTUgMTYiIHZlcnNpb249IjEuMSI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjIgKDY3MTQ1KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5waG9uZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJwaG9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPHBhdGggZD0iTTMsMSBMMyw1LjAwMDEgTDMsNi4wMDAyIEw2LjM0MzQsNi41MzEzNSBMNi4zMjc4LDE0LjU3ODE1IEw1LDE0Ljk5OTk4IEM1LjAwNiwxNS41OTI3NiA1LjQzOTMxLDE2LjAxMTM4IDYsMTUuOTk5OTggTDE0LDE1Ljk5OTk4IEMxNC41Nzg5NiwxNi4wMDE5OCAxNC45ODE3NywxNS41NzI5IDE1LDE0Ljk5OTk4IEwxNSwwLjk5OTk4IEMxNC45ODk4LDAuNDY1MjEgMTQuNTE4MjMsMC4wMDI1OSAxNCwtMmUtMDUgTDQsLTJlLTA1IEMzLjQ2NzAzLDAuMDA3OTggMy4wMDI4NCwwLjQ1Njc1IDMsMC45OTk5OCBMMywxIFogTTMuOTk5OTUsMSBMMTQsMSBMMTQsMTUgTDYsMTUgTDYuNzE4NDUsMTQuNTc4MjEgTDYuODEyMTUsNi4xNTY0MSBMMy45OTk5NSw2LjAwMDMxIEwzLjk5OTk1LDUuMDAwMzggTDMuOTk5OTUsMSBaIiBpZD0icGF0aDM4MiIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMCw2IEwwLDE1IEMwLjAwNiwxNS41OTI3OCAwLjQzOTMxLDE2LjAxMTQgMSwxNiBMNiwxNiBDNi41Nzg5NiwxNi4wMDIgNi45ODE3NywxNS41NzI5MiA3LDE1IEw3LDYgQzYuOTg5OCw1LjQ2NTIzIDYuNTE4MjMsNS4wMDI2MSA2LDUgTDEsNSBDMC40NjcwMyw1LjAwOCAwLjAwMjg0LDUuNDU2NzcgMCw2IFogTTEsNy4wMDAyIEw2LDcuMDAwMiBMNiwxNC4wMDAyIEwxLDE0LjAwMDIgTDEsNy4wMDAyIFoiIGlkPSJwYXRoMzg0Ii8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=)`,\n  backgroundSize: `14px 14px`\n};\n\ninterface IToolbarProps {\n  canGoBack: boolean;\n  canGoForward: boolean;\n  isInspectEnabled: boolean;\n  isDeviceEmulationEnabled: boolean;\n  url: string;\n  viewport: any;\n  onActionInvoked: (action: string, data?: object) => Promise<any>;\n}\n\nclass Toolbar extends React.Component<IToolbarProps, any> {\n  private viewportMetadata: any;\n\n  constructor(props: any) {\n    super(props);\n\n    this.handleBack = this.handleBack.bind(this);\n    this.handleForward = this.handleForward.bind(this);\n    this.handleRefresh = this.handleRefresh.bind(this);\n    this.handleUrlChange = this.handleUrlChange.bind(this);\n    this.handleInspect = this.handleInspect.bind(this);\n    this.handleEmulateDevice = this.handleEmulateDevice.bind(this);\n    this.handleDeviceChange = this.handleDeviceChange.bind(this);\n    this.handleViewportSizeChange = this.handleViewportSizeChange.bind(this);\n  }\n\n  public render() {\n    this.viewportMetadata = this.props.viewport;\n\n    return (\n      <div className=\"toolbar\">\n        <div className=\"inner\">\n          <button\n            className={`inspect ` + (this.props.isInspectEnabled ? `active` : ``)}\n            style={iconInspectStyle}\n            onClick={this.handleInspect}\n          >\n            Inspect\n          </button>\n          <button\n            className={`device ` + (this.props.isDeviceEmulationEnabled ? `active` : ``)}\n            style={iconDeviceStyle}\n            onClick={this.handleEmulateDevice}\n          >\n            Emulate device\n          </button>\n          <button\n            className=\"backward\"\n            style={iconBackwardStyle}\n            onClick={this.handleBack}\n            disabled={this.props.canGoBack}\n          >\n            Backward\n          </button>\n          <button\n            className=\"forward\"\n            style={iconForwardStyle}\n            onClick={this.handleForward}\n            disabled={this.props.canGoForward}\n          >\n            Forward\n          </button>\n          <button className=\"refresh\" style={iconRefreshStyle} onClick={this.handleRefresh}>\n            Refresh\n          </button>\n          <UrlInput\n            url={this.props.url}\n            onUrlChanged={this.handleUrlChange}\n            onActionInvoked={this.props.onActionInvoked}\n          />\n        </div>\n        <DeviceSettings\n          viewportMetadata={this.viewportMetadata}\n          isVisible={this.props.isDeviceEmulationEnabled}\n          onDeviceChange={this.handleDeviceChange}\n          onViewportSizeChange={this.handleViewportSizeChange}\n        />\n      </div>\n    );\n  }\n\n  private handleUrlChange(url: string) {\n    this.props.onActionInvoked('urlChange', { url });\n  }\n\n  private handleBack() {\n    this.props.onActionInvoked('backward', {});\n  }\n\n  private handleForward() {\n    this.props.onActionInvoked('forward', {});\n  }\n\n  private handleRefresh() {\n    this.props.onActionInvoked('refresh', {});\n  }\n\n  private handleInspect() {\n    this.props.onActionInvoked('inspect', {});\n  }\n\n  private handleEmulateDevice() {\n    this.props.onActionInvoked('emulateDevice', {});\n  }\n\n  private handleViewportSizeChange(viewportSize: any) {\n    this.props.onActionInvoked('viewportSizeChange', {\n      height: viewportSize.height,\n      width: viewportSize.width\n    });\n  }\n\n  private handleDeviceChange(device: any) {\n    this.props.onActionInvoked('viewportDeviceChange', {\n      device: device\n    });\n  }\n}\n\nexport default Toolbar;\n","import * as React from 'react';\nimport './loading-bar.css';\n\ninterface ILoadingBarState {\n  percent: number;\n}\n\nclass LoadingBar extends React.Component<any, ILoadingBarState> {\n  constructor(props: any) {\n    super(props);\n  }\n\n  public render() {\n    return (\n      <div className=\"loading-bar\">\n        <div className=\"bar\" style={this.getBarStyle()}>\n          <div className=\"peg\" />\n        </div>\n      </div>\n    );\n  }\n\n  private getBarStyle() {\n    const { percent } = this.props;\n\n    return {\n      display: percent > 0 ? 'block' : 'none',\n      width: `${percent * 100}%`\n    };\n  }\n}\n\nexport default LoadingBar;\n","import * as React from 'react';\nimport './screencast.css';\n\n// This implementation is heavily inspired by https://cs.chromium.org/chromium/src/third_party/blink/renderer/devtools/front_end/screencast/ScreencastView.js\n\nclass Screencast extends React.Component<any, any> {\n  private canvasRef: React.RefObject<HTMLCanvasElement>;\n  private imageRef: React.RefObject<HTMLImageElement>;\n  private canvasContext: CanvasRenderingContext2D | null;\n  private frameId: number | null;\n  private frame: string | null;\n  private viewportMetadata: any;\n\n  constructor(props: any) {\n    super(props);\n    this.canvasRef = React.createRef();\n    this.imageRef = React.createRef();\n    this.canvasContext = null;\n    this.frameId = null;\n    this.frame = props.frame;\n\n    this.handleMouseEvent = this.handleMouseEvent.bind(this);\n    this.handleKeyEvent = this.handleKeyEvent.bind(this);\n    this.renderLoop = this.renderLoop.bind(this);\n\n    this.state = {\n      imageZoom: 1,\n      screenOffsetTop: 0\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps: any, prevState: any) {\n    if (nextProps.frame !== prevState.frame) {\n      return {\n        frame: nextProps.frame\n      };\n    } else return null;\n  }\n\n  public componentDidUpdate(prevProps: any, prevState: any) {\n    if (prevState.frame !== this.state.frame) {\n      this.renderScreencastFrame();\n    }\n  }\n\n  public componentDidMount() {\n    this.startLoop();\n  }\n\n  public componentWillUnmount() {\n    this.stopLoop();\n  }\n\n  public startLoop() {\n    if (!this.frameId) {\n      this.frameId = window.requestAnimationFrame(this.renderLoop);\n    }\n  }\n\n  public stopLoop() {\n    if (this.frameId) {\n      window.cancelAnimationFrame(this.frameId);\n    }\n  }\n\n  public renderLoop() {\n    this.renderFrame();\n    this.frameId = window.requestAnimationFrame(this.renderLoop); // Set up next iteration of the loop\n  }\n\n  public render() {\n    let canvasStyle = {\n      cursor: this.viewportMetadata ? this.viewportMetadata.cursor : 'auto'\n    };\n\n    return (\n      <>\n        <img ref={this.imageRef} className=\"img-hidden\" />\n        <canvas\n          className=\"screencast\"\n          style={canvasStyle}\n          ref={this.canvasRef}\n          onMouseDown={this.handleMouseEvent}\n          onMouseUp={this.handleMouseEvent}\n          onMouseMove={this.handleMouseEvent}\n          onClick={this.handleMouseEvent}\n          onWheel={this.handleMouseEvent}\n          onKeyDown={this.handleKeyEvent}\n          onKeyUp={this.handleKeyEvent}\n          onKeyPress={this.handleKeyEvent}\n          tabIndex={0}\n        />\n      </>\n    );\n  }\n\n  private renderFrame() {\n    if (!this.canvasRef.current || !this.imageRef.current) {\n      return;\n    }\n\n    this.viewportMetadata = this.props.viewportMetadata;\n    this.canvasContext = this.canvasRef.current.getContext('2d');\n    const canvasElement = this.canvasRef.current;\n    const imageElement = this.imageRef.current;\n\n    if (!this.canvasContext) {\n      return;\n    }\n\n    this.canvasContext.imageSmoothingEnabled = false;\n\n    const checkerboardPattern = this.getCheckerboardPattern(canvasElement, this.canvasContext);\n    let devicePixelRatio = window.devicePixelRatio || 1;\n\n    // Resize and scale canvas\n    const canvasWidth = this.props.width;\n    const canvasHeight = this.props.height;\n\n    // TODO Move out to increase performance\n    canvasElement.width = canvasWidth * devicePixelRatio;\n    canvasElement.height = canvasHeight * devicePixelRatio;\n    this.canvasContext.scale(devicePixelRatio, devicePixelRatio);\n\n    // Render checkerboard\n    this.canvasContext.save();\n    this.canvasContext.fillStyle = checkerboardPattern;\n    this.canvasContext.fillRect(0, 0, canvasWidth, canvasHeight);\n    this.canvasContext.restore();\n\n    // Render viewport frame\n    let dy = this.state.screenOffsetTop * this.viewportMetadata.screenZoom;\n    let dw = this.props.width;\n    let dh = this.props.height;\n\n    // Render screen frame\n    this.canvasContext.save();\n    this.canvasContext.drawImage(imageElement, 0, dy, dw, dh);\n    this.canvasContext.restore();\n\n    // Render element highlight\n    if (this.props.viewportMetadata && this.props.viewportMetadata.highlightInfo) {\n      let model = this.scaleBoxModelToViewport(this.props.viewportMetadata.highlightInfo);\n      let config = {\n        contentColor: 'rgba(111, 168, 220, .66)',\n        paddingColor: 'rgba(147, 196, 125, .55)',\n        borderColor: 'rgba(255, 229, 153, .66)',\n        marginColor: 'rgba(246, 178, 107, .66)'\n      };\n\n      this.canvasContext.save();\n\n      const quads = [];\n\n      if (model.content) {\n        quads.push({ quad: model.content, color: config.contentColor });\n      }\n\n      if (model.padding) {\n        quads.push({ quad: model.padding, color: config.paddingColor });\n      }\n\n      if (model.border) {\n        quads.push({ quad: model.border, color: config.borderColor });\n      }\n\n      if (model.margin) {\n        quads.push({ quad: model.margin, color: config.marginColor });\n      }\n\n      for (let i = quads.length - 1; i > 0; --i) {\n        this.canvasContext.save();\n        this.canvasContext.globalAlpha = 0.66;\n\n        this.drawOutlinedQuadWithClip(this.canvasContext, quads[i].quad, quads[i - 1].quad, quads[i].color);\n        this.canvasContext.restore();\n      }\n\n      if (quads.length > 0) {\n        this.canvasContext.save();\n        this.drawOutlinedQuad(this.canvasContext, quads[0].quad, quads[0].color);\n        this.canvasContext.restore();\n      }\n\n      this.canvasContext.restore();\n    }\n  }\n\n  public renderScreencastFrame() {\n    const screencastFrame = this.props.frame;\n    const imageElement = this.imageRef.current;\n\n    if (imageElement && screencastFrame) {\n      // const canvasWidth = this.props.width;\n      // const canvasHeight = this.props.height;\n      // const deviceSizeRatio = metadata.deviceHeight / metadata.deviceWidth;\n\n      // let imageZoom = Math.min(\n      //   canvasWidth / metadata.deviceWidth,\n      //   canvasHeight / (metadata.deviceWidth * deviceSizeRatio)\n      // );\n\n      // if (imageZoom < 1.01 / window.devicePixelRatio) {\n      //   imageZoom = 1 / window.devicePixelRatio;\n      // }\n\n      const metadata = screencastFrame.metadata;\n      const format = this.props.format;\n\n      this.setState({\n        screenOffsetTop: metadata.offsetTop,\n        scrollOffsetX: metadata.scrollOffsetX,\n        scrollOffsetY: metadata.scrollOffsetY\n      });\n\n      imageElement.src = 'data:image/' + format + ';base64,' + screencastFrame.base64Data;\n    }\n  }\n\n  private getCheckerboardPattern(canvas: HTMLCanvasElement, context: CanvasRenderingContext2D): CanvasPattern {\n    const pattern = canvas;\n    const size = 32;\n    const pctx = pattern.getContext('2d');\n\n    // Pattern size\n    pattern.width = size * 2;\n    pattern.height = size * 2;\n\n    if (pctx) {\n      // Dark grey\n      pctx.fillStyle = 'rgb(195, 195, 195)';\n      pctx.fillRect(0, 0, size * 2, size * 2);\n\n      // Light grey\n      pctx.fillStyle = 'rgb(225, 225, 225)';\n      pctx.fillRect(0, 0, size, size);\n      pctx.fillRect(size, size, size, size);\n    }\n\n    let result = context.createPattern(pattern, 'repeat');\n    if (result) {\n      return result;\n    } else {\n      return new CanvasPattern();\n    }\n  }\n\n  private handleMouseEvent(event: any) {\n    if (this.props.isInspectEnabled) {\n      if (event.type === 'click') {\n        const position = this.convertIntoScreenSpace(event, this.state);\n        this.props.onInspectElement({\n          position: position\n        });\n      } else if (event.type === 'mousemove') {\n        const position = this.convertIntoScreenSpace(event, this.state);\n        this.props.onInspectHighlightRequested({\n          position: position\n        });\n      }\n    } else {\n      this.dispatchMouseEvent(event.nativeEvent);\n    }\n\n    if (event.type === 'mousemove') {\n      const position = this.convertIntoScreenSpace(event, this.state);\n      this.props.onMouseMoved({\n        position: position\n      });\n    }\n\n    if (event.type === 'mousedown') {\n      if (this.canvasRef.current) {\n        this.canvasRef.current.focus();\n      }\n    }\n  }\n\n  private convertIntoScreenSpace(event: any, state: any) {\n    let screenOffsetTop = 0;\n    if (this.canvasRef && this.canvasRef.current) {\n      screenOffsetTop = this.canvasRef.current.getBoundingClientRect().top;\n    }\n\n    return {\n      x: Math.round(event.clientX / this.viewportMetadata.screenZoom + this.state.scrollOffsetX),\n      y: Math.round(event.clientY / this.viewportMetadata.screenZoom - screenOffsetTop + this.state.scrollOffsetY)\n    };\n  }\n\n  private quadToPath(context: any, quad: any) {\n    context.beginPath();\n    context.moveTo(quad[0], quad[1]);\n    context.lineTo(quad[2], quad[3]);\n    context.lineTo(quad[4], quad[5]);\n    context.lineTo(quad[6], quad[7]);\n    context.closePath();\n    return context;\n  }\n\n  private drawOutlinedQuad(context: any, quad: any, fillColor: any) {\n    context.lineWidth = 2;\n    this.quadToPath(context, quad).clip();\n    context.fillStyle = fillColor;\n    context.fill();\n  }\n\n  private drawOutlinedQuadWithClip(context: any, quad: any, clipQuad: any, fillColor: any) {\n    context.fillStyle = fillColor;\n    context.lineWidth = 0;\n    this.quadToPath(context, quad).fill();\n    context.globalCompositeOperation = 'destination-out';\n    context.fillStyle = 'red';\n    this.quadToPath(context, clipQuad).fill();\n  }\n\n  private scaleBoxModelToViewport(model: any) {\n    let zoomFactor = this.viewportMetadata.screenZoom;\n    let offsetTop = this.state.screenOffsetTop;\n\n    function scaleQuad(quad: any) {\n      for (let i = 0; i < quad.length; i += 2) {\n        quad[i] = quad[i] * zoomFactor;\n        quad[i + 1] = (quad[i + 1] + offsetTop) * zoomFactor;\n      }\n    }\n\n    scaleQuad.call(this, model.content);\n    scaleQuad.call(this, model.padding);\n    scaleQuad.call(this, model.border);\n    scaleQuad.call(this, model.margin);\n\n    return model;\n  }\n\n  private handleKeyEvent(event: any) {\n    this.emitKeyEvent(event.nativeEvent);\n\n    if (event.key === 'Tab') {\n      event.preventDefault();\n    }\n\n    if (this.canvasRef.current) {\n      this.canvasRef.current.focus();\n    }\n  }\n\n  private modifiersForEvent(event: any) {\n    return (event.altKey ? 1 : 0) | (event.ctrlKey ? 2 : 0) | (event.metaKey ? 4 : 0) | (event.shiftKey ? 8 : 0);\n  }\n\n  private emitKeyEvent(event: any) {\n    let type;\n    switch (event.type) {\n      case 'keydown':\n        type = 'keyDown';\n        break;\n      case 'keyup':\n        type = 'keyUp';\n        break;\n      case 'keypress':\n        type = 'char';\n        break;\n      default:\n        return;\n    }\n\n    const text = event.type === 'keypress' ? String.fromCharCode(event.charCode) : undefined;\n    var params = {\n      type: type,\n      modifiers: this.modifiersForEvent(event),\n      text: text,\n      unmodifiedText: text ? text.toLowerCase() : undefined,\n      keyIdentifier: event.keyIdentifier,\n      code: event.code,\n      key: event.key,\n      windowsVirtualKeyCode: event.keyCode,\n      nativeVirtualKeyCode: event.keyCode,\n      autoRepeat: false,\n      isKeypad: false,\n      isSystemKey: false\n    };\n\n    this.props.onInteraction('Input.dispatchKeyEvent', params);\n  }\n\n  private dispatchMouseEvent(event: any) {\n    let clickCount = 0;\n    const buttons = { 0: 'none', 1: 'left', 2: 'middle', 3: 'right' };\n    const types = {\n      mousedown: 'mousePressed',\n      mouseup: 'mouseReleased',\n      mousemove: 'mouseMoved',\n      wheel: 'mouseWheel'\n    };\n\n    if (!(event.type in types)) {\n      return;\n    }\n\n    let x = Math.round(event.offsetX / this.viewportMetadata.screenZoom);\n    let y = Math.round(event.offsetY / this.viewportMetadata.screenZoom);\n\n    let type = (types as any)[event.type];\n\n    if (type == 'mousePressed' || type == 'mouseReleased') {\n      clickCount = 1;\n    }\n\n    const params = {\n      type: type,\n      x: x,\n      y: y,\n      modifiers: this.modifiersForEvent(event),\n      button: (buttons as any)[event.which],\n      clickCount: clickCount,\n      deltaX: 0,\n      deltaY: 0\n    };\n\n    if (type === 'mouseWheel') {\n      params.deltaX = event.deltaX / this.viewportMetadata.screenZoom;\n      params.deltaY = event.deltaY / this.viewportMetadata.screenZoom;\n    }\n\n    this.props.onInteraction('Input.dispatchMouseEvent', params);\n  }\n}\n\nexport default Screencast;\n","import * as React from 'react';\nimport './viewport-info.css';\n\nclass ViewportInfo extends React.Component<any, any> {\n  private timer: number;\n\n  constructor(props: any) {\n    super(props);\n    this.timer = 0;\n\n    this.state = {\n      isHidden: false\n    };\n  }\n\n  public componentWillReceiveProps(nextProps: any) {\n    if (nextProps.height !== this.props.height || nextProps.width !== this.props.width) {\n      this.setState({ isHidden: false });\n      window.clearTimeout(this.timer);\n    }\n  }\n\n  public render() {\n    const height = Math.round(this.props.height);\n    const width = Math.round(this.props.width);\n\n    this.timer = window.setTimeout(() => {\n      this.setState({ isHidden: true });\n    }, 5000);\n\n    return (\n      <div className={`viewport-info ${this.state.isHidden ? 'hidden' : ''}`}>\n        {width}px 𝗑 {height}px\n      </div>\n    );\n  }\n}\n\nexport default ViewportInfo;\n","import * as React from 'react';\nimport './viewport.css';\n\nimport Loading from '../loading-bar/loading-bar';\nimport Resizable from 're-resizable';\nimport Screencast from '../screencast/screencast';\nimport ViewportInfo from '../viewport-info/viewport-info';\n\nimport debounce from 'lodash/debounce';\n\nclass Viewport extends React.Component<any, any> {\n  private viewportRef: React.RefObject<HTMLDivElement>;\n  private viewportMetadata: any;\n  private debouncedResizeHandler: any;\n  private viewportPadding: any;\n\n  constructor(props: any) {\n    super(props);\n    this.viewportRef = React.createRef();\n    this.viewportPadding = {\n      top: 70,\n      left: 30,\n      right: 30,\n      bottom: 30\n    };\n\n    this.debouncedResizeHandler = debounce(this.handleViewportResize.bind(this), 50);\n    this.handleInspectElement = this.handleInspectElement.bind(this);\n    this.handleInspectHighlightRequested = this.handleInspectHighlightRequested.bind(this);\n    this.handleScreencastInteraction = this.handleScreencastInteraction.bind(this);\n    this.handleResizeStop = this.handleResizeStop.bind(this);\n    this.handleMouseMoved = this.handleMouseMoved.bind(this);\n  }\n\n  public componentDidMount() {\n    this.debouncedResizeHandler();\n    window.addEventListener('resize', this.debouncedResizeHandler);\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedResizeHandler);\n  }\n\n  public render() {\n    this.viewportMetadata = this.props.viewport;\n\n    let width = this.viewportMetadata.width * this.viewportMetadata.screenZoom;\n    let height = this.viewportMetadata.height * this.viewportMetadata.screenZoom;\n\n    let resizableEnableOptions = {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      topRight: false,\n      bottomRight: false,\n      bottomLeft: false,\n      topLeft: false\n    };\n\n    if (this.viewportMetadata.isResizable) {\n      resizableEnableOptions = {\n        top: true,\n        topRight: true,\n        topLeft: true,\n        bottom: true,\n        bottomRight: true,\n        bottomLeft: true,\n        left: true,\n        right: true\n      };\n    }\n\n    let renderer = (\n      <Screencast\n        height={height}\n        width={width}\n        frame={this.props.frame}\n        format={this.props.format}\n        viewportMetadata={this.viewportMetadata}\n        isInspectEnabled={this.props.isInspectEnabled}\n        onInspectElement={this.handleInspectElement}\n        onInspectHighlightRequested={this.handleInspectHighlightRequested}\n        onInteraction={this.handleScreencastInteraction}\n        onMouseMoved={this.handleMouseMoved}\n      />\n    );\n\n    return (\n      <div\n        className={`viewport ` + (this.props.isDeviceEmulationEnabled ? `viewport-resizable` : ``)}\n        ref={this.viewportRef}\n      >\n        <Loading percent={this.viewportMetadata.loadingPercent} />\n        <ViewportInfo height={this.viewportMetadata.height} width={this.viewportMetadata.width} />\n        <Resizable\n          className=\"viewport-resizable-wrap\"\n          size={{\n            width: width,\n            height: height\n          }}\n          onResizeStop={this.handleResizeStop}\n          enable={resizableEnableOptions}\n          handleClasses={{\n            bottom: 'viewport-resizer resizer-bottom',\n            bottomRight: 'viewport-resizer resizer-bottom-right',\n            bottomLeft: 'viewport-resizer resizer-bottom-left',\n            left: 'viewport-resizer resizer-left',\n            right: 'viewport-resizer resizer-right',\n            top: 'viewport-resizer resizer-top',\n            topRight: 'viewport-resizer resizer-top-right',\n            topLeft: 'viewport-resizer resizer-top-left'\n          }}\n        >\n          {renderer}\n        </Resizable>\n      </div>\n    );\n  }\n\n  public calculateViewport() {\n    console.log('viewport.calculateViewport');\n    this.calculateViewportSize();\n    this.calculateViewportZoom();\n  }\n\n  private calculateViewportZoom() {\n    let screenZoom = 1;\n\n    if (this.viewportMetadata.isFixedZoom) {\n      return;\n    }\n\n    if (this.viewportMetadata.isFixedSize) {\n      const screenViewportDimensions = {\n        height: window.innerHeight - 38, // TODO: Remove hardcoded toolbar height\n        width: window.innerWidth\n      };\n\n      if (this.props.isDeviceEmulationEnabled) {\n        // Add padding to enable space for resizers\n        screenViewportDimensions.width =\n          screenViewportDimensions.width - this.viewportPadding.left - this.viewportPadding.right;\n        screenViewportDimensions.height =\n          screenViewportDimensions.height - this.viewportPadding.bottom - this.viewportPadding.top;\n      }\n\n      screenZoom = Math.min(\n        screenViewportDimensions.width / this.viewportMetadata.width,\n        screenViewportDimensions.height / this.viewportMetadata.height\n      );\n    }\n\n    if (screenZoom === this.viewportMetadata.screenZoom) {\n      return;\n    }\n\n    console.log('viewport.calculateViewportZoom.emitChange');\n\n    this.emitViewportChanges({\n      screenZoom: screenZoom\n    });\n  }\n\n  private calculateViewportSize() {\n    if (this.viewportMetadata.isFixedSize) {\n      return;\n    }\n\n    if (this.viewportRef.current) {\n      const dim = this.viewportRef.current.getBoundingClientRect();\n\n      let viewportWidth = dim.width;\n      let viewportHeight = dim.height;\n\n      if (this.props.isDeviceEmulationEnabled) {\n        // Add padding to enable space for resizers\n        viewportWidth = viewportWidth - this.viewportPadding.left - this.viewportPadding.right;\n        viewportHeight = viewportHeight - this.viewportPadding.bottom - this.viewportPadding.top;\n      }\n\n      viewportHeight = this.roundNumber(viewportHeight);\n      viewportWidth = this.roundNumber(viewportWidth);\n\n      if (\n        viewportWidth === this.roundNumber(this.viewportMetadata.width) &&\n        viewportHeight === this.roundNumber(this.viewportMetadata.height)\n      ) {\n        return;\n      }\n\n      console.log('viewport.calculateViewportSize.emitChange');\n\n      this.emitViewportChanges({\n        width: viewportWidth,\n        height: viewportHeight\n      });\n    }\n  }\n\n  private handleViewportResize() {\n    console.log('viewport.handleViewportResize');\n    this.calculateViewport();\n  }\n\n  private handleResizeStop(e: any, direction: any, ref: any, delta: any) {\n    this.emitViewportChanges({\n      width: this.viewportMetadata.width + delta.width,\n      height: this.viewportMetadata.height + delta.height,\n      isFixedSize: true\n    });\n  }\n\n  private handleInspectElement(params: object) {\n    this.props.onViewportChanged('inspectElement', {\n      params: params\n    });\n  }\n\n  private handleInspectHighlightRequested(params: object) {\n    this.props.onViewportChanged('inspectHighlightRequested', {\n      params: params\n    });\n  }\n\n  private handleScreencastInteraction(action: string, params: object) {\n    this.props.onViewportChanged('interaction', {\n      action: action,\n      params: params\n    });\n  }\n\n  private handleMouseMoved(params: object) {\n    this.props.onViewportChanged('hoverElementChanged', {\n      params: params\n    });\n  }\n\n  private roundNumber(value: number) {\n    return Math.floor(value);\n  }\n\n  private emitViewportChanges(newViewport: any) {\n    this.props.onViewportChanged('size', newViewport);\n  }\n}\n\nexport default Viewport;\n","export default class Logger {\n  private enabled: boolean = true;\n\n  public enable() {\n    this.enabled = true;\n  }\n\n  public disable() {\n    this.enabled = false;\n  }\n\n  public log(...messages: any[]) {\n    if (!this.enabled) {\n      return;\n    }\n\n    console.log(...messages);\n  }\n}\n","import Logger from './utils/logger';\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\nexport default class Connection extends EventEmitter2 {\n  private lastId: number;\n  private vscode: any;\n  private callbacks: Map<number, object>;\n  private logger: Logger;\n\n  constructor() {\n    super();\n    this.lastId = 0;\n    this.callbacks = new Map();\n    this.logger = new Logger();\n\n    window.addEventListener('message', (event) => {\n      this.onMessage(event);\n    });\n  }\n\n  send<T>(method: string, params = {}): Promise<T> {\n    const id = ++this.lastId;\n\n    this.logger.log('SEND ► ', method, params);\n\n    if (!this.vscode) {\n      try {\n        // @ts-ignore\n        this.vscode = acquireVsCodeApi();\n      } catch {\n        this.vscode = null;\n      }\n    }\n\n    if (this.vscode) {\n      this.vscode.postMessage({\n        callbackId: id,\n        params,\n        type: method\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      this.callbacks.set(id, { resolve, reject, error: new Error(), method });\n    });\n  }\n\n  onMessage(message: any) {\n    const object: any = message.data;\n\n    if (object) {\n      if (object.callbackId) {\n        this.logger.log(`◀ RECV callbackId: ${object.callbackId}`);\n        const callback: any = this.callbacks.get(object.callbackId);\n        // Callbacks could be all rejected if someone has called `.dispose()`.\n        if (callback) {\n          this.callbacks.delete(object.callbackId);\n          if (object.error) {\n            callback.reject(object.error, callback.method, object);\n          } else {\n            callback.resolve(object.result);\n          }\n        }\n      } else {\n        this.logger.log(`◀ RECV method: ${object.method}`);\n        this.emit(object.method, object.result);\n      }\n    }\n  }\n\n  enableVerboseLogging(verbose: boolean) {\n    if (verbose) {\n      this.logger.enable();\n    } else {\n      this.logger.disable();\n    }\n  }\n}\n","export class CDPHelper {\n  private connection: any;\n\n  constructor(connection: any) {\n    this.connection = connection;\n  }\n\n  public async resolveElementProperties(objectId: any, maxDepth: number) {\n    let initialProperties = await this.getProperties(objectId);\n\n    let resolve = async (props: any, passedDepth: number) => {\n      let resolveResult = {};\n      let internalCurentDepth = passedDepth | 0;\n\n      for (const item of props) {\n        let value = null;\n        if (item.value) {\n          if (item.value.type == 'object') {\n            if (item.value.objectId) {\n              if (internalCurentDepth < maxDepth) {\n                value = await this.getProperties(item.value.objectId);\n                if (Array.isArray(value)) {\n                  let newDepth = internalCurentDepth + 1;\n                  value = await resolve(value, newDepth);\n                }\n              } else {\n                value = '<max depth reached>';\n              }\n            } else if (item.value.value) {\n              value = item.value.value;\n            }\n          } else if (item.value.type == 'function') {\n            value = 'function';\n          } else if (item.value.type == 'string') {\n            value = item.value.value;\n          } else if (item.value.type == 'number') {\n            value = item.value.value;\n          }\n        }\n\n        Object.defineProperty(resolveResult, item.name, {\n          value: value,\n          enumerable: item.enumerable,\n          configurable: item.configurable,\n          writable: item.writable\n        });\n      }\n      return resolveResult;\n    };\n\n    let result = await resolve(initialProperties, 0);\n\n    return result;\n  }\n\n  public async getProperties(objectId: string) {\n    const data: any = await this.connection.send('Runtime.getProperties', {\n      objectId: objectId,\n      ownProperties: true\n    });\n\n    return data.result as Array<object>;\n  }\n\n  public async getCursorForNode(nodeInfo: any) {\n    let nodeId = nodeInfo.nodeId;\n    if (!nodeInfo.nodeId) {\n      nodeId = this.getNodeIdFromBackendId(nodeInfo.backendNodeId);\n    }\n\n    if (!nodeId) {\n      return;\n    }\n\n    let computedStyleReq = await this.connection.send('CSS.getComputedStyleForNode', {\n      nodeId: nodeId\n    });\n\n    let cursorCSS = computedStyleReq.computedStyle.find((c: any) => c.name == 'cursor');\n\n    return cursorCSS.value;\n  }\n\n  public async getNodeIdFromBackendId(backendNodeId: any) {\n    await this.connection.send('DOM.getDocument');\n    let nodeIdsReq = await this.connection.send('DOM.pushNodesByBackendIdsToFrontend', {\n      backendNodeIds: [backendNodeId]\n    });\n\n    if (nodeIdsReq) {\n      return nodeIdsReq.nodeIds[0];\n    }\n  }\n}\n","import * as React from 'react';\nimport './App.css';\n\nimport Toolbar from './components/toolbar/toolbar';\nimport Viewport from './components/viewport/viewport';\nimport Connection from './connection';\nimport { ExtensionConfiguration } from '../ext-src/extensionConfiguration';\nimport { resolve as getElementSourceMetadata } from 'element-to-source';\nimport { CDPHelper } from './utils/cdpHelper';\n\ninterface ElementSource {\n  charNumber: number;\n  columnNumber: number;\n  fileName: string;\n  lineNumber: string;\n}\n\ninterface IState {\n  format: 'jpeg' | 'png';\n  frame: object | null;\n  url: string;\n  isVerboseMode: boolean;\n  isInspectEnabled: boolean;\n  isDeviceEmulationEnabled: boolean;\n  viewportMetadata: IViewport;\n  history: {\n    canGoBack: boolean;\n    canGoForward: boolean;\n  };\n}\n\ninterface IViewport {\n  height: number | null;\n  width: number | null;\n  cursor: string | null;\n  emulatedDeviceId: string | null;\n  isLoading: boolean;\n  isFixedSize: boolean;\n  isFixedZoom: boolean;\n  isResizable: boolean;\n  loadingPercent: number;\n  highlightNode: {\n    nodeId: string;\n    sourceMetadata: ElementSource | null;\n  } | null;\n  highlightInfo: object | null;\n  deviceSizeRatio: number;\n  screenZoom: number;\n  scrollOffsetX: number;\n  scrollOffsetY: number;\n}\n\nclass App extends React.Component<any, IState> {\n  private connection: Connection;\n  private viewport: any;\n  private cdpHelper: CDPHelper;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      frame: null,\n      format: 'jpeg',\n      url: 'about:blank',\n      isVerboseMode: false,\n      isInspectEnabled: false,\n      isDeviceEmulationEnabled: false,\n      history: {\n        canGoBack: false,\n        canGoForward: false\n      },\n      viewportMetadata: {\n        cursor: null,\n        deviceSizeRatio: 1,\n        height: null,\n        width: null,\n        highlightNode: null,\n        highlightInfo: null,\n        emulatedDeviceId: 'Responsive',\n        isLoading: false,\n        isFixedSize: false,\n        isFixedZoom: false,\n        isResizable: true,\n        loadingPercent: 0.0,\n        screenZoom: 1,\n        scrollOffsetX: 0,\n        scrollOffsetY: 0\n      }\n    };\n\n    this.connection = new Connection();\n    this.onToolbarActionInvoked = this.onToolbarActionInvoked.bind(this);\n    this.onViewportChanged = this.onViewportChanged.bind(this);\n\n    this.connection.enableVerboseLogging(this.state.isVerboseMode);\n\n    this.connection.on('Page.navigatedWithinDocument', (result: any) => {\n      this.requestNavigationHistory();\n    });\n\n    this.connection.on('Page.frameNavigated', (result: any) => {\n      const { frame } = result;\n      var isMainFrame = !frame.parentId;\n\n      if (isMainFrame) {\n        this.requestNavigationHistory();\n        this.updateState({\n          ...this.state,\n          viewportMetadata: {\n            ...this.state.viewportMetadata,\n            isLoading: true,\n            loadingPercent: 0.1\n          }\n        });\n      }\n    });\n\n    this.connection.on('Page.loadEventFired', (result: any) => {\n      this.updateState({\n        ...this.state,\n        viewportMetadata: {\n          ...this.state.viewportMetadata,\n          loadingPercent: 1.0\n        }\n      });\n\n      setTimeout(() => {\n        this.updateState({\n          ...this.state,\n          viewportMetadata: {\n            ...this.state.viewportMetadata,\n            isLoading: false,\n            loadingPercent: 0\n          }\n        });\n      }, 500);\n    });\n\n    this.connection.on('Page.screencastFrame', (result: any) => {\n      this.handleScreencastFrame(result);\n    });\n\n    this.connection.on('Page.windowOpen', (result: any) => {\n      this.connection.send('extension.windowOpenRequested', {\n        url: result.url\n      });\n    });\n\n    this.connection.on('Page.javascriptDialogOpening', (result: any) => {\n      const { url, message, type } = result;\n\n      this.connection.send('extension.windowDialogRequested', {\n        url: url,\n        message: message,\n        type: type\n      });\n    });\n\n    this.connection.on('Page.frameResized', (result: any) => {\n      this.stopCasting();\n      this.startCasting();\n    });\n\n    this.connection.on('Overlay.nodeHighlightRequested', (result: any) => {\n      console.log('nodeHighlightRequested', result);\n\n      // this.handleInspectHighlightRequested();\n    });\n\n    this.connection.on('Overlay.inspectNodeRequested', (result: any) => {\n      console.log('inspectNodeRequested', result);\n\n      // this.handleInspectHighlightRequested();\n    });\n\n    this.connection.on('extension.appConfiguration', (payload: ExtensionConfiguration) => {\n      if (!payload) {\n        return;\n      }\n\n      this.updateState({\n        isVerboseMode: payload.isVerboseMode ? payload.isVerboseMode : false,\n        url: payload.startUrl ? payload.startUrl : 'about:blank',\n        format: payload.format ? payload.format : 'jpeg'\n      });\n\n      if (payload.startUrl) {\n        this.connection.send('Page.navigate', {\n          url: payload.startUrl\n        });\n      }\n    });\n\n    this.connection.on('extension.viewport', (viewport: IViewport) => {\n      this.handleViewportSizeChange(viewport);\n      this.enableViewportDeviceEmulation('Live Share');\n\n      // TODO: Scroll the page\n    });\n\n    // Initialize\n    this.connection.send('Page.enable');\n    this.connection.send('DOM.enable');\n    this.connection.send('CSS.enable');\n    this.connection.send('Overlay.enable');\n\n    this.requestNavigationHistory();\n    this.startCasting();\n\n    this.cdpHelper = new CDPHelper(this.connection);\n  }\n\n  private handleScreencastFrame(result: any) {\n    const { sessionId, data, metadata } = result;\n    this.connection.send('Page.screencastFrameAck', { sessionId });\n\n    this.requestNodeHighlighting();\n\n    this.updateState({\n      ...this.state,\n      frame: {\n        base64Data: data,\n        metadata: metadata\n      },\n      viewportMetadata: {\n        ...this.state.viewportMetadata,\n        scrollOffsetX: metadata.scrollOffsetX,\n        scrollOffsetY: metadata.scrollOffsetY\n      }\n    });\n  }\n\n  public componentDidUpdate() {\n    const { isVerboseMode } = this.state;\n\n    this.connection.enableVerboseLogging(isVerboseMode);\n  }\n\n  private sendStatetoHost() {\n    this.connection.send('extension.appStateChanged', {\n      state: this.state\n    });\n  }\n\n  public render() {\n    return (\n      <div className=\"App\">\n        <Toolbar\n          url={this.state.url}\n          viewport={this.state.viewportMetadata}\n          onActionInvoked={this.onToolbarActionInvoked}\n          canGoBack={this.state.history.canGoBack}\n          canGoForward={this.state.history.canGoForward}\n          isInspectEnabled={this.state.isInspectEnabled}\n          isDeviceEmulationEnabled={this.state.isDeviceEmulationEnabled}\n        />\n        <Viewport\n          viewport={this.state.viewportMetadata}\n          isInspectEnabled={this.state.isInspectEnabled}\n          isDeviceEmulationEnabled={this.state.isDeviceEmulationEnabled}\n          frame={this.state.frame}\n          format={this.state.format}\n          url={this.state.url}\n          onViewportChanged={this.onViewportChanged}\n          ref={(c) => {\n            this.viewport = c;\n          }}\n        />\n      </div>\n    );\n  }\n\n  public stopCasting() {\n    this.connection.send('Page.stopScreencast');\n  }\n\n  public startCasting() {\n    var params = {\n      quality: 80,\n      format: this.state.format,\n      maxWidth: 2000,\n      maxHeight: 2000\n    };\n\n    if (this.state.viewportMetadata.width) {\n      params.maxWidth = Math.floor(this.state.viewportMetadata.width * window.devicePixelRatio);\n    }\n\n    if (this.state.viewportMetadata.height) {\n      params.maxHeight = Math.floor(this.state.viewportMetadata.height * window.devicePixelRatio);\n    }\n\n    this.connection.send('Page.startScreencast', params);\n  }\n\n  private async requestNavigationHistory() {\n    const history: any = await this.connection.send('Page.getNavigationHistory');\n\n    if (!history) {\n      return;\n    }\n\n    let historyIndex = history.currentIndex;\n    let historyEntries = history.entries;\n    let currentEntry = historyEntries[historyIndex];\n    let url = currentEntry.url;\n\n    const pattern = /^http:\\/\\/(.+)/;\n    const match = url.match(pattern);\n    if (match) {\n      url = match[1];\n    }\n\n    this.updateState({\n      ...this.state,\n      url: url,\n      history: {\n        canGoBack: historyIndex === 0,\n        canGoForward: historyIndex === historyEntries.length - 1\n      }\n    });\n\n    let panelTitle = currentEntry.title || currentEntry.url;\n\n    this.connection.send('extension.updateTitle', {\n      title: `Browser Preview (${panelTitle})`\n    });\n  }\n\n  private async onViewportChanged(action: string, data: any) {\n    switch (action) {\n      case 'inspectHighlightRequested':\n        this.handleInspectHighlightRequested(data);\n        break;\n      case 'inspectElement':\n        await this.handleInspectElementRequest(data);\n        this.handleToggleInspect();\n        break;\n      case 'hoverElementChanged':\n        await this.handleElementChanged(data);\n        break;\n      case 'interaction':\n        this.connection.send(data.action, data.params);\n        break;\n\n      case 'size':\n        console.log('app.onViewportChanged.size', data);\n        let newViewport = {} as any;\n        if (data.height !== undefined && data.width !== undefined) {\n          let height = Math.floor(data.height);\n          let width = Math.floor(data.width);\n\n          let devicePixelRatio = window.devicePixelRatio || 1;\n\n          this.connection.send('Page.setDeviceMetricsOverride', {\n            deviceScaleFactor: devicePixelRatio,\n            mobile: false,\n            height: height,\n            width: width\n          });\n\n          newViewport.height = height as number;\n          newViewport.width = width as number;\n        }\n\n        if (data.isResizable !== undefined) {\n          newViewport.isResizable = data.isResizable;\n        }\n\n        if (data.isFixedSize !== undefined) {\n          newViewport.isFixedSize = data.isFixedSize;\n        }\n\n        if (data.isFixedZoom !== undefined) {\n          newViewport.isFixedZoom = data.isFixedZoom;\n        }\n\n        if (data.emulatedDeviceId !== undefined) {\n          newViewport.emulatedDeviceId = data.emulatedDeviceId;\n        }\n\n        if (data.screenZoom !== undefined) {\n          newViewport.screenZoom = data.screenZoom;\n        }\n\n        await this.updateState({\n          ...this.state,\n          viewportMetadata: {\n            ...this.state.viewportMetadata,\n            ...newViewport\n          }\n        });\n        this.viewport.calculateViewport();\n\n        break;\n    }\n  }\n\n  private async updateState(newState: any) {\n    return new Promise((resolve, reject) => {\n      this.setState(newState, () => {\n        this.sendStatetoHost();\n        resolve();\n      });\n    });\n  }\n\n  private async handleInspectHighlightRequested(data: any) {\n    let highlightNodeInfo: any = await this.connection.send('DOM.getNodeForLocation', {\n      x: data.params.position.x,\n      y: data.params.position.y\n    });\n\n    if (highlightNodeInfo) {\n      let nodeId = highlightNodeInfo.nodeId;\n\n      if (!highlightNodeInfo.nodeId && highlightNodeInfo.backendNodeId) {\n        nodeId = await this.cdpHelper.getNodeIdFromBackendId(highlightNodeInfo.backendNodeId);\n      }\n\n      this.setState({\n        ...this.state,\n        viewportMetadata: {\n          ...this.state.viewportMetadata,\n          highlightNode: {\n            nodeId: nodeId,\n            sourceMetadata: null\n          }\n        }\n      });\n\n      // await this.handleHighlightNodeClickType();\n\n      this.requestNodeHighlighting();\n    }\n  }\n\n  // private async handleHighlightNodeClickType() {\n  //   if (!this.state.viewportMetadata.highlightNode) {\n  //     return;\n  //   }\n\n  //   let cursor = 'not-allowed';\n  //   let sourceMetadata = this.state.viewportMetadata.highlightNode.sourceMetadata;\n\n  //   if(sourceMetadata && sourceMetadata.fileName) {\n  //     cursor = 'pointer';\n  //   }\n\n  //   this.setState({\n  //     ...this.state,\n  //     viewportMetadata: {\n  //       ...this.state.viewportMetadata,\n  //       cursor: cursor\n  //     }\n  //   });\n  // }\n\n  private async resolveHighlightNodeSourceMetadata() {\n    if (!this.state.viewportMetadata.highlightNode) {\n      return;\n    }\n\n    let nodeId = this.state.viewportMetadata.highlightNode.nodeId;\n    const nodeDetails: any = await this.connection.send('DOM.resolveNode', {\n      nodeId: nodeId\n    });\n\n    if (nodeDetails.object) {\n      let objectId = nodeDetails.object.objectId;\n      let nodeProperties = await this.cdpHelper.resolveElementProperties(objectId, 3);\n\n      if (nodeProperties) {\n        let sourceMetadata = getElementSourceMetadata(nodeProperties);\n\n        if (!sourceMetadata.fileName) {\n          return;\n        }\n\n        this.setState({\n          ...this.state,\n          viewportMetadata: {\n            ...this.state.viewportMetadata,\n            highlightNode: {\n              ...this.state.viewportMetadata.highlightNode,\n              sourceMetadata: {\n                fileName: sourceMetadata.fileName,\n                columnNumber: sourceMetadata.columnNumber,\n                lineNumber: sourceMetadata.lineNumber,\n                charNumber: sourceMetadata.charNumber\n              }\n            }\n          }\n        });\n      }\n    }\n  }\n\n  private async handleInspectElementRequest(data: any) {\n    if (!this.state.viewportMetadata.highlightNode) {\n      return;\n    }\n\n    await this.resolveHighlightNodeSourceMetadata();\n\n    let nodeId = this.state.viewportMetadata.highlightNode.nodeId;\n\n    // Trigger CDP request to enable DOM explorer\n    // TODO: No sure this works.\n    this.connection.send('Overlay.inspectNodeRequested', {\n      nodeId: nodeId\n    });\n\n    let sourceMetadata = this.state.viewportMetadata.highlightNode.sourceMetadata;\n\n    if (sourceMetadata) {\n      this.connection.send('extension.openFile', {\n        fileName: sourceMetadata.fileName,\n        lineNumber: sourceMetadata.lineNumber,\n        columnNumber: sourceMetadata.columnNumber,\n        charNumber: sourceMetadata.charNumber\n      });\n    }\n  }\n\n  private onToolbarActionInvoked(action: string, data: any): Promise<any> {\n    switch (action) {\n      case 'forward':\n        this.connection.send('Page.goForward');\n        break;\n      case 'backward':\n        this.connection.send('Page.goBackward');\n        break;\n      case 'refresh':\n        this.connection.send('Page.reload');\n        break;\n      case 'inspect':\n        this.handleToggleInspect();\n        break;\n      case 'emulateDevice':\n        this.handleToggleDeviceEmulation();\n        break;\n      case 'urlChange':\n        this.handleUrlChange(data);\n        break;\n      case 'readClipboard':\n        return this.connection.send('Clipboard.readText');\n      case 'writeClipboard':\n        this.handleClipboardWrite(data);\n        break;\n      case 'viewportSizeChange':\n        this.handleViewportSizeChange(data);\n        break;\n      case 'viewportDeviceChange':\n        this.handleViewportDeviceChange(data);\n        break;\n    }\n    // return an empty promise\n    return Promise.resolve();\n  }\n\n  private handleToggleInspect() {\n    if (this.state.isInspectEnabled) {\n      // Hide browser highlight\n      this.connection.send('Overlay.hideHighlight');\n\n      // Hide local highlight\n      this.updateState({\n        isInspectEnabled: false,\n        viewportMetadata: {\n          ...this.state.viewportMetadata,\n          highlightInfo: null,\n          highlightNode: null\n        }\n      });\n    } else {\n      this.updateState({\n        isInspectEnabled: true\n      });\n    }\n  }\n\n  private handleUrlChange(data: any) {\n    this.connection.send('Page.navigate', {\n      url: data.url\n    });\n    this.updateState({\n      ...this.state,\n      url: data.url\n    });\n  }\n\n  private handleViewportSizeChange(data: any) {\n    this.onViewportChanged('size', {\n      width: data.width,\n      height: data.height\n    });\n  }\n\n  private handleViewportDeviceChange(data: any) {\n    let isResizable = data.device.name === 'Responsive';\n    let isFixedSize = data.device.name !== 'Responsive';\n    let isFixedZoom = data.device.name === 'Responsive';\n    let width = data.device.viewport ? data.device.viewport.width : undefined;\n    let height = data.device.viewport ? data.device.viewport.height : undefined;\n    let screenZoom = 1;\n\n    this.onViewportChanged('size', {\n      emulatedDeviceId: data.device.name,\n      height: height,\n      isResizable: isResizable,\n      isFixedSize: isFixedSize,\n      isFixedZoom: isFixedZoom,\n      screenZoom: screenZoom,\n      width: width\n    });\n  }\n\n  private handleToggleDeviceEmulation() {\n    if (this.state.isDeviceEmulationEnabled) {\n      this.disableViewportDeviceEmulation();\n    } else {\n      this.enableViewportDeviceEmulation();\n    }\n  }\n\n  private disableViewportDeviceEmulation() {\n    console.log('app.disableViewportDeviceEmulation');\n    this.handleViewportDeviceChange({\n      device: {\n        name: 'Responsive',\n        viewport: {\n          width: this.state.viewportMetadata.width,\n          height: this.state.viewportMetadata.height\n        }\n      }\n    });\n    this.updateState({\n      isDeviceEmulationEnabled: false\n    });\n  }\n\n  private enableViewportDeviceEmulation(deviceName: string = 'Responsive') {\n    console.log('app.enableViewportDeviceEmulation');\n    this.handleViewportDeviceChange({\n      device: {\n        name: deviceName,\n        viewport: {\n          width: this.state.viewportMetadata.width,\n          height: this.state.viewportMetadata.height\n        }\n      }\n    });\n    this.updateState({\n      isDeviceEmulationEnabled: true\n    });\n  }\n\n  private handleClipboardWrite(data: any) {\n    // overwrite the clipboard only if there is a valid value\n    if (data && (data as any).value) {\n      return this.connection.send('Clipboard.writeText', data);\n    }\n  }\n\n  private async handleElementChanged(data: any) {\n    const nodeInfo: any = await this.connection.send('DOM.getNodeForLocation', {\n      x: data.params.position.x,\n      y: data.params.position.y\n    });\n\n    var cursor = await this.cdpHelper.getCursorForNode(nodeInfo);\n\n    this.setState({\n      ...this.state,\n      viewportMetadata: {\n        ...this.state.viewportMetadata,\n        cursor: cursor\n      }\n    });\n  }\n\n  private async requestNodeHighlighting() {\n    if (this.state.viewportMetadata.highlightNode) {\n      let nodeId = this.state.viewportMetadata.highlightNode.nodeId;\n      let highlightBoxModel: any = await this.connection.send('DOM.getBoxModel', {\n        nodeId: nodeId\n      });\n\n      // Trigger hightlight in regular browser.\n      await this.connection.send('Overlay.highlightNode', {\n        nodeId: nodeId,\n        highlightConfig: {\n          showInfo: true,\n          showStyles: true,\n          showRulers: true,\n          showExtensionLines: true\n        }\n      });\n\n      if (highlightBoxModel && highlightBoxModel.model) {\n        this.setState({\n          ...this.state,\n          viewportMetadata: {\n            ...this.state.viewportMetadata,\n            highlightInfo: highlightBoxModel.model\n          }\n        });\n      }\n    }\n  }\n}\n\nexport default App;\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root') as HTMLElement);\n"],"sourceRoot":""}