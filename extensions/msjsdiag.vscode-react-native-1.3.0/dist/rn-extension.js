module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=116)}([function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,s,a,c,l=r(0),u=r(4),h=Object.prototype.toString;function p(e){return void 0!==e}function d(e){return"[object Number]"===h.call(e)}function g(e){return"[object String]"===h.call(e)}function f(e){return JSON.parse(u.readFileSync(e,"utf8"))}function m(e,t){return c&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,r){var n=r[0],o=t[n],i=e;return"string"==typeof o?i=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(i=String(o)),i}))}function v(e){return function(t,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):m(e[t],n):g(r)?(console.warn("Message "+r+" didn't get externalized correctly."),m(r,n)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function y(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return m(t,r)}function E(e,t){return s[e]=t,t}function _(e,t){var r,n,o,i=l.join(a.cacheRoot,e.id+"-"+e.hash+".json"),s=!1,c=!1;try{return r=JSON.parse(u.readFileSync(i,{encoding:"utf8",flag:"r"})),n=i,o=new Date,u.utimes(n,o,o,(function(){})),r}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),u.unlink(i,(function(e){e&&console.error("Deleting corrupted bundle "+i+" failed.")})),s=!0}}if(!(r=function(e,t){var r=a.translationsConfig[e.id];if(r){var n=f(r).contents,o=f(l.join(t,"nls.metadata.json")),i=Object.create(null);for(var s in o){var c=o[s],u=n[e.outDir+"/"+s];if(u){for(var h=[],p=0;p<c.keys.length;p++){var d=c.keys[p],m=u[g(d)?d:d.key];void 0===m&&(m=c.messages[p]),h.push(m)}i[s]=h}else i[s]=c.messages}return i}}(e,t))||s)return r;if(c)try{u.writeFileSync(i,JSON.stringify(r),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return r;throw e}return r}function S(e){try{return function(e){var t=f(l.join(e,"nls.metadata.json")),r=Object.create(null);for(var n in t){var o=t[n];r[n]=o.messages}return r}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function P(e,t){var r;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{r=_(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!r){if(a.languagePackSupport)return S(t);var n=function(e){for(var t=a.language;t;){var r=l.join(e,"nls.bundle."+t+".json");if(u.existsSync(r))return r;var n=t.lastIndexOf("-");t=n>0?t.substring(0,n):void 0}if(void 0===t){r=l.join(e,"nls.bundle.json");if(u.existsSync(r))return r}}(t);if(n)try{return f(n)}catch(e){console.log("Loading in the box message bundle failed.",e)}r=S(t)}return r}function b(e){if(!e)return y;var t=l.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===n.both||a.messageFormat===n.bundle){var r=function(e){for(var t,r=l.dirname(e);t=l.join(r,"nls.metadata.header.json"),!u.existsSync(t);){var n=l.dirname(r);if(n===r){t=void 0;break}r=n}return t}(e);if(r){var o=l.dirname(r),i=s[o];if(void 0===i)try{var h=JSON.parse(u.readFileSync(r,"utf8"));try{var d=P(h,o);i=E(o,d?{header:h,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),i=E(o,null)}}catch(e){console.error("Failed to read header file",e),i=E(o,null)}if(i){var g=e.substr(o.length+1).replace(/\\/g,"/"),m=i.nlsBundle[g];return void 0===m?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):v(m)}}}if(a.messageFormat===n.both||a.messageFormat===n.file)try{var _=f(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var r=a.language;r;){var n=".nls."+r+".json";if(u.existsSync(e+n)){t=n;break}var o=r.lastIndexOf("-");o>0?r=r.substring(0,o):(t=".nls.json",r=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(_)?v(_):p(_.messages)&&p(_.keys)?v(_.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(n=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(o=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(i||(i={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:n.bundle},g(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var r=e.availableLanguages["*"];g(r)&&(t=r)}if(g(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),g(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),g(e._languagePackId)&&(a.languagePackId=e._languagePackId),g(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=f(a.translationsConfigFile)}catch(t){if(e._corruptedFile){var o=l.dirname(e._corruptedFile);u.exists(o,(function(t){t&&u.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}c="pseudo"===a.locale,void 0,s=Object.create(null)}(),t.loadMessageBundle=b,t.config=function(e){return e&&(g(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,s=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===o.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,b}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalErrorCode=void 0,function(e){e[e.CommandFailed=101]="CommandFailed",e[e.CommandFailedWithErrorCode=102]="CommandFailedWithErrorCode",e[e.PackagerStartFailed=103]="PackagerStartFailed",e[e.FailedToRunOnAndroid=104]="FailedToRunOnAndroid",e[e.FailedToRunOnIos=105]="FailedToRunOnIos",e[e.FailedToStartPackager=106]="FailedToStartPackager",e[e.FailedToStopPackager=107]="FailedToStopPackager",e[e.PackagerRunningInDifferentPort=108]="PackagerRunningInDifferentPort",e[e.FailedToRestartPackager=109]="FailedToRestartPackager",e[e.FailedToRunExponent=110]="FailedToRunExponent",e[e.FailedToPublishToExpHost=111]="FailedToPublishToExpHost",e[e.UnsupportedCommandStatus=112]="UnsupportedCommandStatus",e[e.CommandFailedWithDetails=113]="CommandFailedWithDetails",e[e.IOSDeployNotFound=201]="IOSDeployNotFound",e[e.DeviceNotPluggedIn=301]="DeviceNotPluggedIn",e[e.DeveloperDiskImgNotMountable=302]="DeveloperDiskImgNotMountable",e[e.ApplicationLaunchFailed=303]="ApplicationLaunchFailed",e[e.ApplicationLaunchTimedOut=304]="ApplicationLaunchTimedOut",e[e.FailedToStartAndroidEmulator=305]="FailedToStartAndroidEmulator",e[e.VirtualDeviceSelectionError=306]="VirtualDeviceSelectionError",e[e.IOSSimulatorNotLaunchable=401]="IOSSimulatorNotLaunchable",e[e.IOSFoundMoreThanOneExecutablesCleanupBuildFolder=402]="IOSFoundMoreThanOneExecutablesCleanupBuildFolder",e[e.IOSCouldNotFoundExecutableInFolder=403]="IOSCouldNotFoundExecutableInFolder",e[e.IOSCouldNotFoundDeviceForDirectDebugging=404]="IOSCouldNotFoundDeviceForDirectDebugging",e[e.OpnPackagerLocationNotFound=501]="OpnPackagerLocationNotFound",e[e.OpnPackagerNotFound=502]="OpnPackagerNotFound",e[e.FailedToStopPackagerOnExit=503]="FailedToStopPackagerOnExit",e[e.CannotAttachToPackagerCheckPackagerRunningOnPort=504]="CannotAttachToPackagerCheckPackagerRunningOnPort",e[e.AnotherDebuggerConnectedToPackager=505]="AnotherDebuggerConnectedToPackager",e[e.ProjectVersionNotParsable=601]="ProjectVersionNotParsable",e[e.ProjectVersionUnsupported=602]="ProjectVersionUnsupported",e[e.ProjectVersionNotReadable=603]="ProjectVersionNotReadable",e[e.NotInReactNativeFolderError=604]="NotInReactNativeFolderError",e[e.CouldNotFindProjectVersion=605]="CouldNotFindProjectVersion",e[e.ReactNativePackageIsNotInstalled=606]="ReactNativePackageIsNotInstalled",e[e.ReactNativeWindowsIsNotInstalled=607]="ReactNativeWindowsIsNotInstalled",e[e.ReactNativemacOSIsNotInstalled=608]="ReactNativemacOSIsNotInstalled",e[e.TelemetryInitializationFailed=701]="TelemetryInitializationFailed",e[e.ExtensionActivationFailed=702]="ExtensionActivationFailed",e[e.DebuggerStubLauncherFailed=703]="DebuggerStubLauncherFailed",e[e.IntellisenseSetupFailed=704]="IntellisenseSetupFailed",e[e.NodeDebuggerConfigurationFailed=705]="NodeDebuggerConfigurationFailed",e[e.DebuggingFailed=706]="DebuggingFailed",e[e.RNTempFolderDeletionFailed=707]="RNTempFolderDeletionFailed",e[e.DebuggingFailedInNodeWrapper=708]="DebuggingFailedInNodeWrapper",e[e.PlatformNotSupported=709]="PlatformNotSupported",e[e.WorkspaceNotFound=710]="WorkspaceNotFound",e[e.ExpectedExponentTunnelPath=711]="ExpectedExponentTunnelPath",e[e.NotAllSuccessPatternsMatched=712]="NotAllSuccessPatternsMatched",e[e.CouldNotParsePackageVersion=713]="CouldNotParsePackageVersion",e[e.PackageNotFound=714]="PackageNotFound",e[e.ReactDevtoolsIsNotInstalled=715]="ReactDevtoolsIsNotInstalled",e[e.CancellationTokenTriggered=716]="CancellationTokenTriggered",e[e.CouldNotFindLocationOfNodeDebugger=801]="CouldNotFindLocationOfNodeDebugger",e[e.CouldNotFindWorkspace=802]="CouldNotFindWorkspace",e[e.ErrorWhileProcessingMessageInIPMSServer=901]="ErrorWhileProcessingMessageInIPMSServer",e[e.ErrorNoPipeFound=902]="ErrorNoPipeFound",e[e.ExpectedIntegerValue=1001]="ExpectedIntegerValue",e[e.ExpectedStringValue=1002]="ExpectedStringValue",e[e.ExpectedBooleanValue=1003]="ExpectedBooleanValue",e[e.ExpectedArrayValue=1004]="ExpectedArrayValue",e[e.ExpectedObjectValue=1005]="ExpectedObjectValue",e[e.RNVersionNotSupportedByExponent=1101]="RNVersionNotSupportedByExponent",e[e.UserCancelledExpoLogin=1102]="UserCancelledExpoLogin",e[e.AndroidCouldNotInstallTheAppOnAnyAvailibleDevice=1201]="AndroidCouldNotInstallTheAppOnAnyAvailibleDevice",e[e.AndroidShellCommandTimedOut=1202]="AndroidShellCommandTimedOut",e[e.AndroidProjectNotFound=1203]="AndroidProjectNotFound",e[e.AndroidMoreThanOneDeviceOrEmulator=1204]="AndroidMoreThanOneDeviceOrEmulator",e[e.AndroidFailedToLaunchTheSpecifiedActivity=1205]="AndroidFailedToLaunchTheSpecifiedActivity",e[e.AndroidCouldNotStartLogCatMonitor=1206]="AndroidCouldNotStartLogCatMonitor",e[e.AndroidCouldNotStopLogCatMonitor=1207]="AndroidCouldNotStopLogCatMonitor",e[e.AndroidCouldNotFindActiveLogCatMonitor=1208]="AndroidCouldNotFindActiveLogCatMonitor",e[e.WinRNMPPluginIsNotInstalled=1301]="WinRNMPPluginIsNotInstalled",e[e.SourcesStoragePathIsNullOrEmpty=1401]="SourcesStoragePathIsNullOrEmpty",e[e.DebuggingWontWorkReloadJSAndReconnect=1402]="DebuggingWontWorkReloadJSAndReconnect",e[e.ReconnectionToPackagerFailedCheckForErrorsOrRestartReactNative=1403]="ReconnectionToPackagerFailedCheckForErrorsOrRestartReactNative",e[e.FailedToProcessMessageFromReactNativeApp=1404]="FailedToProcessMessageFromReactNativeApp",e[e.FailedToPrepareJSRuntimeEnvironment=1405]="FailedToPrepareJSRuntimeEnvironment",e[e.FailedToSendMessageToTheReactNativeApp=1406]="FailedToSendMessageToTheReactNativeApp",e[e.ReactNativeWorkerProcessThrownAnError=1407]="ReactNativeWorkerProcessThrownAnError",e[e.CouldntImportScriptAt=1408]="CouldntImportScriptAt",e[e.RNMessageWithMethodExecuteApplicationScriptDoesntHaveURLProperty=1409]="RNMessageWithMethodExecuteApplicationScriptDoesntHaveURLProperty",e[e.CouldNotAttachToDebugger=1410]="CouldNotAttachToDebugger",e[e.CouldNotConnectToDebugTarget=1501]="CouldNotConnectToDebugTarget"}(t.InternalErrorCode||(t.InternalErrorCode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorHelper=void 0;const n=r(73),o=r(128);class i{static getInternalError(e,...t){let r=i.getErrorMessage(e,...t);return new n.InternalError(e,r)}static getNestedError(e,t,...r){let o=i.getErrorMessage(t,...r);return new n.NestedError(t,o,e)}static wrapError(e,t){return n.NestedError.getWrappedError(e,t)}static getWarning(e){return new n.InternalError(-1,e,n.InternalErrorLevel.Warning)}static getNestedWarning(e,t){return new n.NestedError(-1,t,e,null,n.InternalErrorLevel.Warning)}static getErrorMessage(e,...t){return i.formatErrorMessage(i.ERROR_STRINGS[e],...t)}static formatErrorMessage(e,...t){if(!e)return e;let r=e;for(let e=0;e<t.length;e++)r=r.replace(new RegExp("\\{"+e+"\\}","g"),t[e]);return r}}t.ErrorHelper=i,i.ERROR_STRINGS=o.ERROR_STRINGS},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformType=void 0,function(e){e.Android="android",e.iOS="ios",e.Windows="windows",e.WPF="wpf",e.Exponent="exponent",e.macOS="macos"}(t.PlatformType||(t.PlatformType={}))},function(e,t){e.exports=require("vscode")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryHelper=void 0;const n=r(31),o=r(149),i=r(5),s=r(9),a=r(3),c=r(2);class l{static sendSimpleEvent(e,t){const r=l.createTelemetryEvent(e,t);n.Telemetry.send(r)}static createTelemetryEvent(e,t){return new n.Telemetry.TelemetryEvent(e,t)}static telemetryProperty(e,t){return{value:String(e),isPii:t||!1}}static addPropertyToTelemetryProperties(e,t,r={}){return r[t]={value:e,isPii:!1},r}static addPlatformPropertiesToTelemetryProperties(e,t,r){if(r=l.addPropertyToTelemetryProperties(t.reactNativeVersion,"reactNativeVersion",r),e.platform===i.PlatformType.Windows){if(s.ProjectVersionHelper.isVersionError(t.reactNativeWindowsVersion))throw a.ErrorHelper.getInternalError(c.InternalErrorCode.ReactNativeWindowsIsNotInstalled);r=l.addPropertyToTelemetryProperties(t.reactNativeWindowsVersion,"reactNativeWindowsVersion",r)}if(e.platform===i.PlatformType.macOS){if(s.ProjectVersionHelper.isVersionError(t.reactNativeMacOSVersion))throw a.ErrorHelper.getInternalError(c.InternalErrorCode.ReactNativemacOSIsNotInstalled);r=l.addPropertyToTelemetryProperties(t.reactNativeMacOSVersion,"reactNativeMacOSVersion",r)}return e.platform===i.PlatformType.Exponent&&(r=l.addPropertyToTelemetryProperties(e.expoHostType,"expoHostType",r)),r}static addTelemetryEventProperties(e,t){t&&Object.keys(t).forEach((function(r){l.addTelemetryEventProperty(e,r,t[r].value,t[r].isPii)}))}static sendErrorEvent(e,t,r,o=!0){const i=l.createTelemetryEvent(e);l.addTelemetryEventErrorProperty(i,t,r,"",o),n.Telemetry.send(i)}static sendDirect(e,t){const r=l.createTelemetryEvent(e,{isDirect:!0});t&&l.addTelemetryEventProperties(r,t),n.Telemetry.send(r)}static sendCommandSuccessTelemetry(e,t,r=[]){let o=l.createBasicCommandTelemetry(e,r);l.addTelemetryEventProperties(o,t),n.Telemetry.send(o)}static addTelemetryEventProperty(e,t,r,n){Array.isArray(r)?l.addMultiValuedTelemetryEventProperty(e,t,r,n):l.setTelemetryEventProperty(e,t,r,n)}static addTelemetryEventErrorProperty(e,t,r,n="",o=!0){let i=t;i.errorCode?(this.addTelemetryEventProperty(e,n+"error.code",i.errorCode,!1),r&&this.addTelemetryEventProperty(e,n+"error.message",r,!1)):this.addTelemetryEventProperty(e,n+"error.message",t.message,o)}static addPropertiesFromOptions(e,t,r,n=[]){let o=1;return Object.keys(r).forEach(i=>{let s=r[i];Object.keys(t).indexOf(i)>=0?void 0!==s&&(e["options."+i]=this.telemetryProperty(s,n.indexOf(i)<0)):(e["unknownOption"+o+".name"]=this.telemetryProperty(i,!0),e["unknownOption"+o+++".value"]=this.telemetryProperty(s,!0))}),e}static generate(e,t={},r){let n=new o.TelemetryGenerator(e,t);return n.time("",()=>r(n)).finally(()=>n.send())}static createBasicCommandTelemetry(e,t=[]){let r=new n.Telemetry.TelemetryEvent(e||"command");return!e&&t&&t.length>0&&r.setPiiProperty("command",t[0]),t&&l.addTelemetryEventProperty(r,"argument",t,!0),r}static setTelemetryEventProperty(e,t,r,n){n?e.setPiiProperty(t,String(r)):e.properties[t]=String(r)}static addMultiValuedTelemetryEventProperty(e,t,r,n){for(let o=0;o<r.length;o++)l.setTelemetryEventProperty(e,t+o,r[o],n)}}t.TelemetryHelper=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputChannelLogger=void 0;const n=r(6),o=r(20),i=r(4),s=r(0),a=r(48),c={};class l{constructor(e,t=!1,r=!1,a=!1){this.channelName=e,this.preserveFocus=r,this.logTimestamps=a;const c=o.getLoggingDirectory();if(c){const t=e.replace(l.forbiddenFileNameSymbols,"");this.channelLogFilePath=s.join(c,t+".txt"),this.channelLogFileStream=i.createWriteStream(this.channelLogFilePath),this.channelLogFileStream.on("error",e=>{this.error(`Error writing to log file at path: ${this.channelLogFilePath}. Error: ${e.toString()}\n`)})}t||(this.channel=n.window.createOutputChannel(this.channelName),this.channel.show(this.preserveFocus))}static disposeChannel(e){c[e]&&(c[e].getOutputChannel().dispose(),c[e].channelLogFileStream&&c[e].channelLogFileStream.end(),delete c[e])}static getMainChannel(){return this.getChannel(this.MAIN_CHANNEL_NAME,!0)}static getChannel(e,t,r,n){return c[e]||(c[e]=new l(e,t,r,n)),c[e]}log(e,t){o.LogHelper.LOG_LEVEL!==o.LogLevel.None&&t>=o.LogHelper.LOG_LEVEL&&(e=l.getFormattedMessage(e,o.LogLevel[t],this.logTimestamps),this.channel.appendLine(e),this.channelLogFileStream&&this.channelLogFileStream.write(e))}logWithCustomTag(e,t,r){o.LogHelper.LOG_LEVEL!==o.LogLevel.None&&r===o.LogLevel.Custom&&(t=l.getFormattedMessage(t,e,this.logTimestamps),this.channel.appendLine(t),this.channelLogFileStream&&this.channelLogFileStream.write(t))}info(e){this.log(e,o.LogLevel.Info)}warning(e){this.log(e.toString(),o.LogLevel.Warning)}error(e,t,r=!0){const n=l.getFormattedMessage(e,o.LogLevel[o.LogLevel.Error],this.logTimestamps);this.channel.appendLine(n),this.channelLogFileStream&&this.channelLogFileStream.write(n),r&&t&&t.stack&&(this.channel.appendLine("Stack: "+t.stack),this.channelLogFileStream&&this.channelLogFileStream.write("Stack: "+t.stack))}debug(e){this.log(e,o.LogLevel.Debug)}logStream(e){this.channel.append(e.toString()),this.channelLogFileStream&&this.channelLogFileStream.write(e)}setFocusOnLogChannel(){this.channel.show(!1)}static getFormattedMessage(e,t,r=!1){let n=`[${t}] ${e}\n`;return r&&(n=`[${a.getFormattedDatetimeString(new Date)}] ${n}`),n}getOutputChannel(){return this.channel}clear(){this.channel.clear()}get channel(){return this.outputChannel||(this.outputChannel=n.window.createOutputChannel(this.channelName),this.outputChannel.show(this.preserveFocus)),this.outputChannel}set channel(e){this.outputChannel=e}}t.OutputChannelLogger=l,l.MAIN_CHANNEL_NAME="React Native",l.forbiddenFileNameSymbols=/\W/gi},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectVersionHelper=void 0;const n=r(10),o=r(11),i=r(36),s=r(3),a=r(2),c=r(129),l=r(5);class u{static getRNVersionsWithBrokenMetroBundler(){return["0.54.0","0.54.1","0.54.2","0.54.3","0.54.4"]}static getReactNativeVersions(e,t){return u.getReactNativePackageVersionsFromNodeModules(e,t).catch(()=>u.getReactNativeVersionsFromProjectPackage(e,t))}static generateAdditionalPackagesToCheckByPlatform(e){let t=[];return e.platform===l.PlatformType.Windows&&t.push({packageName:"react-native-windows",useSemverCoerce:!1}),e.platform===l.PlatformType.macOS&&t.push({packageName:"react-native-macos",useSemverCoerce:!1}),t}static getReactNativePackageVersionsFromNodeModules(e,t){let r=[{packageName:"react-native",useSemverCoerce:!0}];t&&r.push(...t);let n=[];return r.forEach(t=>{n.push(u.getProcessedVersionFromNodeModules(e,t))}),Promise.all(n).then(e=>e.reduce((e,t)=>Object.assign(e,t),{})).then(e=>{if(u.isVersionError(e["react-native"]))throw s.ErrorHelper.getInternalError(a.InternalErrorCode.ReactNativePackageIsNotInstalled);return{reactNativeVersion:e["react-native"],reactNativeWindowsVersion:e["react-native-windows"]||c.RN_VERSION_ERRORS.MISSING_PACKAGE_IN_NODE_MODULES,reactNativeMacOSVersion:e["react-native-macos"]||c.RN_VERSION_ERRORS.MISSING_PACKAGE_IN_NODE_MODULES}})}static getReactNativeVersionsFromProjectPackage(e,t){let r=[{packageName:"react-native",useSemverCoerce:!0}];t&&r.push(...t);const n=new i.Package(e);return n.dependencies().then(e=>n.devDependencies().then(t=>{let n={};return r.forEach(r=>{try{e[r.packageName]?n[r.packageName]=u.processVersion(e[r.packageName],r.useSemverCoerce):t[r.packageName]?n[r.packageName]=u.processVersion(t[r.packageName],r.useSemverCoerce):n[r.packageName]=c.RN_VERSION_ERRORS.MISSING_DEPENDENCY_IN_PROJECT_PACKAGE_FILE}catch(e){n[r.packageName]=c.RN_VERSION_ERRORS.MISSING_DEPENDENCIES_FIELDS_IN_PROJECT_PACKAGE_FILE}}),{reactNativeVersion:n["react-native"],reactNativeWindowsVersion:n["react-native-windows"]||c.RN_VERSION_ERRORS.MISSING_PACKAGE_IN_NODE_MODULES,reactNativeMacOSVersion:n["react-native-macos"]||c.RN_VERSION_ERRORS.MISSING_PACKAGE_IN_NODE_MODULES}})).catch(()=>({reactNativeVersion:c.RN_VERSION_ERRORS.UNKNOWN_ERROR,reactNativeWindowsVersion:c.RN_VERSION_ERRORS.UNKNOWN_ERROR,reactNativeMacOSVersion:c.RN_VERSION_ERRORS.UNKNOWN_ERROR}))}static isVersionError(e){return e.toLowerCase().includes("error")}static processVersion(e,t=!0){try{return new o.URL(e)&&"SemverInvalid: URL"}catch(r){let o;return o=t?n.coerce(e):n.clean(e.replace(/[\^~<>]/g,""),{loose:!0}),o&&o.toString()||"SemverInvalid"}}static getProcessedVersionFromNodeModules(e,t){return new i.Package(e).getPackageVersionFromNodeModules(t.packageName).then(e=>({[t.packageName]:u.processVersion(e,t.useSemverCoerce)})).catch(()=>({[t.packageName]:c.RN_VERSION_ERRORS.MISSING_PACKAGE_IN_NODE_MODULES}))}}t.ProjectVersionHelper=u},function(e,t){var r;t=e.exports=h,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],s=t.tokens={},a=0;function c(e){s[e]=a++}c("NUMERICIDENTIFIER"),i[s.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),i[s.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),i[s.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),i[s.MAINVERSION]="("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),i[s.MAINVERSIONLOOSE]="("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),i[s.PRERELEASEIDENTIFIER]="(?:"+i[s.NUMERICIDENTIFIER]+"|"+i[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),i[s.PRERELEASEIDENTIFIERLOOSE]="(?:"+i[s.NUMERICIDENTIFIERLOOSE]+"|"+i[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),i[s.PRERELEASE]="(?:-("+i[s.PRERELEASEIDENTIFIER]+"(?:\\."+i[s.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),i[s.PRERELEASELOOSE]="(?:-?("+i[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+i[s.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),i[s.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),i[s.BUILD]="(?:\\+("+i[s.BUILDIDENTIFIER]+"(?:\\."+i[s.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),i[s.FULLPLAIN]="v?"+i[s.MAINVERSION]+i[s.PRERELEASE]+"?"+i[s.BUILD]+"?",i[s.FULL]="^"+i[s.FULLPLAIN]+"$",c("LOOSEPLAIN"),i[s.LOOSEPLAIN]="[v=\\s]*"+i[s.MAINVERSIONLOOSE]+i[s.PRERELEASELOOSE]+"?"+i[s.BUILD]+"?",c("LOOSE"),i[s.LOOSE]="^"+i[s.LOOSEPLAIN]+"$",c("GTLT"),i[s.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),i[s.XRANGEIDENTIFIERLOOSE]=i[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),i[s.XRANGEIDENTIFIER]=i[s.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),i[s.XRANGEPLAIN]="[v=\\s]*("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:"+i[s.PRERELEASE]+")?"+i[s.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),i[s.XRANGEPLAINLOOSE]="[v=\\s]*("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:"+i[s.PRERELEASELOOSE]+")?"+i[s.BUILD]+"?)?)?",c("XRANGE"),i[s.XRANGE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAIN]+"$",c("XRANGELOOSE"),i[s.XRANGELOOSE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAINLOOSE]+"$",c("COERCE"),i[s.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),o[s.COERCERTL]=new RegExp(i[s.COERCE],"g"),c("LONETILDE"),i[s.LONETILDE]="(?:~>?)",c("TILDETRIM"),i[s.TILDETRIM]="(\\s*)"+i[s.LONETILDE]+"\\s+",o[s.TILDETRIM]=new RegExp(i[s.TILDETRIM],"g");c("TILDE"),i[s.TILDE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAIN]+"$",c("TILDELOOSE"),i[s.TILDELOOSE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAINLOOSE]+"$",c("LONECARET"),i[s.LONECARET]="(?:\\^)",c("CARETTRIM"),i[s.CARETTRIM]="(\\s*)"+i[s.LONECARET]+"\\s+",o[s.CARETTRIM]=new RegExp(i[s.CARETTRIM],"g");c("CARET"),i[s.CARET]="^"+i[s.LONECARET]+i[s.XRANGEPLAIN]+"$",c("CARETLOOSE"),i[s.CARETLOOSE]="^"+i[s.LONECARET]+i[s.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),i[s.COMPARATORLOOSE]="^"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),i[s.COMPARATOR]="^"+i[s.GTLT]+"\\s*("+i[s.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),i[s.COMPARATORTRIM]="(\\s*)"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+"|"+i[s.XRANGEPLAIN]+")",o[s.COMPARATORTRIM]=new RegExp(i[s.COMPARATORTRIM],"g");c("HYPHENRANGE"),i[s.HYPHENRANGE]="^\\s*("+i[s.XRANGEPLAIN]+")\\s+-\\s+("+i[s.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),i[s.HYPHENRANGELOOSE]="^\\s*("+i[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+i[s.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),i[s.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<a;l++)r(l,i[l]),o[l]||(o[l]=new RegExp(i[l]));function u(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[s.LOOSE]:o[s.FULL]).test(e))return null;try{return new h(e,t)}catch(e){return null}}function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof h))return new h(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=u,t.valid=function(e,t){var r=u(e,t);return r?r.version:null},t.clean=function(e,t){var r=u(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=h,h.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},h.prototype.toString=function(){return this.version},h.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof h||(e=new h(e,this.options)),this.compareMain(e)||this.comparePre(e)},h.prototype.compareMain=function(e){return e instanceof h||(e=new h(e,this.options)),d(this.major,e.major)||d(this.minor,e.minor)||d(this.patch,e.patch)},h.prototype.comparePre=function(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return d(n,o)}while(++t)},h.prototype.compareBuild=function(e){e instanceof h||(e=new h(e,this.options));var t=0;do{var n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return d(n,o)}while(++t)},h.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new h(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(v(e,t))return null;var r=u(e),n=u(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=d;var p=/^[0-9]+$/;function d(e,t){var r=p.test(e),n=p.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function g(e,t,r){return new h(e,r).compare(new h(t,r))}function f(e,t,r){return g(e,t,r)>0}function m(e,t,r){return g(e,t,r)<0}function v(e,t,r){return 0===g(e,t,r)}function y(e,t,r){return 0!==g(e,t,r)}function E(e,t,r){return g(e,t,r)>=0}function _(e,t,r){return g(e,t,r)<=0}function S(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return v(e,r,n);case"!=":return y(e,r,n);case">":return f(e,r,n);case">=":return E(e,r,n);case"<":return m(e,r,n);case"<=":return _(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function P(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof P){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof P))return new P(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===b?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return d(t,e)},t.major=function(e,t){return new h(e,t).major},t.minor=function(e,t){return new h(e,t).minor},t.patch=function(e,t){return new h(e,t).patch},t.compare=g,t.compareLoose=function(e,t){return g(e,t,!0)},t.compareBuild=function(e,t,r){var n=new h(e,r),o=new h(t,r);return n.compare(o)||n.compareBuild(o)},t.rcompare=function(e,t,r){return g(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compareBuild(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.compareBuild(n,e,r)}))},t.gt=f,t.lt=m,t.eq=v,t.neq=y,t.gte=E,t.lte=_,t.cmp=S,t.Comparator=P;var b={};function C(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof C)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new C(e.raw,t);if(e instanceof P)return new C(e.value,t);if(!(this instanceof C))return new C(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function w(e,t){for(var r=!0,n=e.slice(),o=n.pop();r&&n.length;)r=n.every((function(e){return o.intersects(e,t)})),o=n.pop();return r}function R(e){return!e||"x"===e.toLowerCase()||"*"===e}function A(e,t,r,n,o,i,s,a,c,l,u,h,p){return((t=R(r)?"":R(n)?">="+r+".0.0":R(o)?">="+r+"."+n+".0":">="+t)+" "+(a=R(c)?"":R(l)?"<"+(+c+1)+".0.0":R(u)?"<"+c+"."+(+l+1)+".0":h?"<="+c+"."+l+"."+u+"-"+h:"<="+a)).trim()}function T(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==b&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function O(e,t,r){try{t=new C(t,r)}catch(e){return!1}return t.test(e)}function I(e,t,r,n){var o,i,s,a,c;switch(e=new h(e,n),t=new C(t,n),r){case">":o=f,i=_,s=m,a=">",c=">=";break;case"<":o=m,i=E,s=f,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(O(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===b&&(e=new P(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:s(e.semver,d.semver,n)&&(d=e)})),p.operator===a||p.operator===c)return!1;if((!d.operator||d.operator===a)&&i(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}P.prototype.parse=function(e){var t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new h(r[2],this.options.loose):this.semver=b},P.prototype.toString=function(){return this.value},P.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===b||e===b)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}return S(e,this.operator,this.semver,this.options)},P.prototype.intersects=function(e,t){if(!(e instanceof P))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new C(e.value,t),O(this.value,r,t));if(""===e.operator)return""===e.value||(r=new C(this.value,t),O(e.semver,r,t));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=S(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=S(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},t.Range=C,C.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},C.prototype.toString=function(){return this.range},C.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[s.HYPHENRANGELOOSE]:o[s.HYPHENRANGE];e=e.replace(n,A),r("hyphen replace",e),e=e.replace(o[s.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,o[s.COMPARATORTRIM]),e=(e=(e=e.replace(o[s.TILDETRIM],"$1~")).replace(o[s.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[s.CARETLOOSE]:o[s.CARET];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),R(n)?a="":R(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":R(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[s.TILDELOOSE]:o[s.TILDE];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),R(n)?a="":R(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":R(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[s.XRANGELOOSE]:o[s.XRANGE];return e.replace(n,(function(n,o,i,s,a,c){r("xRange",e,n,o,i,s,a,c);var l=R(i),u=l||R(s),h=u||R(a),p=h;return"="===o&&p&&(o=""),c=t.includePrerelease?"-0":"",l?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&p?(u&&(s=0),a=0,">"===o?(o=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):"<="===o&&(o="<",u?i=+i+1:s=+s+1),n=o+i+"."+s+"."+a+c):u?n=">="+i+".0.0"+c+" <"+(+i+1)+".0.0"+c:h&&(n=">="+i+"."+s+".0"+c+" <"+i+"."+(+s+1)+".0"+c),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[s.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(i)}))),a=a.map((function(e){return new P(e,this.options)}),this)},C.prototype.intersects=function(e,t){if(!(e instanceof C))throw new TypeError("a Range is required");return this.set.some((function(r){return w(r,t)&&e.set.some((function(e){return w(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new C(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},C.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1},t.satisfies=O,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new C(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new h(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new C(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new h(n=e,r)))})),n},t.minVersion=function(e,t){e=new C(e,t);var r=new h("0.0.0");if(e.test(r))return r;if(r=new h("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new h(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!f(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new C(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return I(e,t,"<",r)},t.gtr=function(e,t,r){return I(e,t,">",r)},t.outside=I,t.prerelease=function(e,t){var r=u(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new C(e,r),t=new C(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof h)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=o[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),o[s.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;o[s.COERCERTL].lastIndex=-1}else r=e.match(o[s.COERCE]);if(null===r)return null;return u(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}},function(e,t){e.exports=require("url")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expoHostTypePickConfig=t.appTypePickConfig=t.platformTypeDirectPickConfig=t.platformTypeDebugPickConfig=t.platformTypeRunPickConfig=t.DEBUG_TYPES=t.DebugScenarioType=void 0;const n=r(5),o=r(1);o.config({messageFormat:o.MessageFormat.bundle,bundleFormat:o.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\debugConfigTypesAndConstants.ts"));const i=o.loadMessageBundle(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\debugConfigTypesAndConstants.ts"));!function(e){e.RunApp="runapp",e.DebugApp="debugapp",e.AttachApp="attachapp"}(t.DebugScenarioType||(t.DebugScenarioType={})),t.DEBUG_TYPES={REACT_NATIVE:"reactnative",REACT_NATIVE_DIRECT:"reactnativedirect"},t.platformTypeRunPickConfig=[{label:"Android",type:n.PlatformType.Android},{label:"iOS",type:n.PlatformType.iOS},{label:"MacOS",type:n.PlatformType.macOS},{label:"Windows",type:n.PlatformType.Windows}],t.platformTypeDebugPickConfig=[...t.platformTypeRunPickConfig,{label:"Exponent",type:n.PlatformType.Exponent}],t.platformTypeDirectPickConfig=[{label:"Android Hermes - Experimental",type:n.PlatformType.Android},{label:"Direct iOS - Experimental",type:n.PlatformType.iOS}],t.appTypePickConfig=[{label:"Application in direct mode",type:t.DEBUG_TYPES.REACT_NATIVE_DIRECT},{label:"Classic application",type:t.DEBUG_TYPES.REACT_NATIVE}],t.expoHostTypePickConfig=[{label:"Tunnel",description:i(0,null),type:"tunnel"},{label:"LAN",description:i(1,null),type:"lan"},{label:"Local",description:i(2,null),type:"local"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandExecutor=t.CommandStatus=t.CommandVerbosity=void 0;const n=r(0),o=r(127),i=r(9),s=r(28),a=r(3),c=r(2),l=r(1),u=r(74);l.config({messageFormat:l.MessageFormat.bundle,bundleFormat:l.BundleFormat.standalone})(r(0).join(__dirname,"src\\common\\commandExecutor.ts"));const h=l.loadMessageBundle(r(0).join(__dirname,"src\\common\\commandExecutor.ts"));var p,d;!function(e){e[e.OUTPUT=0]="OUTPUT",e[e.SILENT=1]="SILENT",e[e.PROGRESS=2]="PROGRESS"}(p=t.CommandVerbosity||(t.CommandVerbosity={})),function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(d=t.CommandStatus||(t.CommandStatus={}));class g{constructor(e=process.cwd(),t=new o.NullLogger){this.currentWorkingDirectory=e,this.logger=t,this.childProcess=new u.Node.ChildProcess}execute(e,t={}){return this.logger.debug(g.getCommandStatusString(e,d.Start)),this.childProcess.execToString(e,{cwd:this.currentWorkingDirectory,env:t.env}).then(t=>{this.logger.info(t),this.logger.debug(g.getCommandStatusString(e,d.End))},t=>this.generateRejectionForCommand(e,t))}spawn(e,t,r={}){return this.spawnChildProcess(e,t,r).outcome}spawnReactPackager(e,t={}){return this.spawnReactCommand("start",e,t)}getReactNativeVersion(){return i.ProjectVersionHelper.getReactNativeVersions(this.currentWorkingDirectory).then(e=>e.reactNativeVersion)}killReactPackager(e){return e?new Promise(t=>s.HostPlatform.getPlatformId()===s.HostPlatformId.WINDOWS?t(this.childProcess.exec("taskkill /pid "+e.pid+" /T /F").then(e=>e.outcome)):(e.kill(),t())).then(()=>{this.logger.info(h(0,null))}):(this.logger.warning(h(1,null)),Promise.resolve())}spawnReactCommand(e,t=[],r={}){const n=s.HostPlatform.getNpmCliCommand(this.selectReactNativeCLI());return this.spawnChildProcess(n,[e,...t],r)}spawnWithProgress(e,t,r={verbosity:p.OUTPUT}){const n=Object.assign({},{cwd:this.currentWorkingDirectory},r),o=e+" "+t.join(" ");let i=0;const s=()=>{const e=Date.now();e-i>1500&&(i=e,this.logger.logStream(".",process.stdout))};r.verbosity===p.OUTPUT&&this.logger.debug(g.getCommandStatusString(o,d.Start));const a=this.childProcess.spawn(e,t,n);return a.stdout.on("data",e=>{r.verbosity===p.OUTPUT?this.logger.logStream(e,process.stdout):r.verbosity===p.PROGRESS&&s()}),a.stderr.on("data",e=>{r.verbosity===p.OUTPUT?this.logger.logStream(e,process.stderr):r.verbosity===p.PROGRESS&&s()}),new Promise((e,t)=>{a.outcome=a.outcome.then(()=>{r.verbosity===p.OUTPUT&&this.logger.debug(g.getCommandStatusString(o,d.End)),this.logger.logStream("\n",process.stdout),e()},e=>(t(e),this.generateRejectionForCommand(o,e)))})}selectReactNativeCLI(){return g.ReactNativeCommand||n.resolve(this.currentWorkingDirectory,"node_modules",".bin","react-native")}spawnChildProcess(e,t,r={}){const n=Object.assign({},{cwd:this.currentWorkingDirectory},r),o=e+" "+t.join(" ");this.logger.debug(g.getCommandStatusString(o,d.Start));const i=this.childProcess.spawn(e,t,n);return i.stderr.on("data",e=>{this.logger.logStream(e,process.stderr)}),i.stdout.on("data",e=>{this.logger.logStream(e,process.stdout)}),i.outcome=i.outcome.then(()=>this.logger.debug(g.getCommandStatusString(o,d.End)),e=>this.generateRejectionForCommand(o,e)),i}generateRejectionForCommand(e,t){return Promise.reject(a.ErrorHelper.getNestedError(t,c.InternalErrorCode.CommandFailed,e))}static getCommandStatusString(e,t){switch(t){case d.Start:return"Executing command: "+e;case d.End:return"Finished executing: "+e;default:throw a.ErrorHelper.getInternalError(c.InternalErrorCode.UnsupportedCommandStatus)}}}t.CommandExecutor=g},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystem=void 0;const o=r(4),i=r(0);t.FileSystem=class{constructor({fs:e=o}={}){this.fs=e}ensureDirectory(e){return this.stat(e).then(t=>{if(!t.isDirectory())throw new Error(`Expected ${e} to be a directory`)},t=>{if(t&&"ENOENT"===t.code)return this.mkDir(e);throw t})}ensureFileWithContents(e,t){return this.stat(e).then(r=>{if(!r.isFile())throw new Error(`Expected ${e} to be a file`);return this.readFile(e).then(r=>t!==r?this.writeFile(e,t):Promise.resolve())},r=>{if(r&&"ENOENT"===r.code)return this.writeFile(e,t);throw r})}existsSync(e){return this.fs.existsSync(e)}exists(e){return this.stat(e).then(()=>Promise.resolve(!0)).catch(()=>Promise.resolve(!1))}readDir(e){return this.fs.promises.readdir(e)}makeDirectoryRecursiveSync(e){let t=i.dirname(e);this.existsSync(t)||this.makeDirectoryRecursiveSync(t),this.fs.mkdirSync(e)}copyFile(e,t){return this.fs.promises.copyFile(e,t)}deleteFileIfExistsSync(e){this.existsSync(e)&&this.fs.unlinkSync(e)}readFile(e,t="utf8"){return this.fs.promises.readFile(e,{encoding:t})}writeFile(e,t){return this.fs.promises.writeFile(e,t)}unlink(e){return this.fs.promises.unlink(e)}mkDir(e){return this.fs.promises.mkdir(e)}stat(e){return this.fs.promises.stat(e)}directoryExists(e){return this.stat(e).then(e=>e.isDirectory()).catch(e=>"ENOENT"!==e.code&&Promise.reject(e))}rmdir(e){return this.fs.promises.rmdir(e)}removePathRecursivelyAsync(e){return n(this,void 0,void 0,(function*(){if(yield this.exists(e)){if(!(yield this.stat(e)).isDirectory())return this.unlink(e);{const t=yield this.readDir(e);yield Promise.all(t.map(t=>this.removePathRecursivelyAsync(i.join(e,t)))),yield this.rmdir(e)}}return Promise.resolve()}))}removePathRecursivelySync(e){if(this.fs.existsSync(e)){if(this.fs.statSync(e).isDirectory()){this.fs.readdirSync(e).forEach(t=>this.removePathRecursivelySync(i.join(e,t))),this.fs.rmdirSync(e)}else this.fs.unlinkSync(e)}}}},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralMobilePlatform=void 0;const n=r(4),o=r(37),i=r(38),s=r(21),a=r(8),c=r(1),l=r(14);c.config({messageFormat:c.MessageFormat.bundle,bundleFormat:c.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\generalMobilePlatform.ts"));const u=c.loadMessageBundle(r(0).join(__dirname,"src\\extension\\generalMobilePlatform.ts"));class h{constructor(e,t={}){this.runOptions=e,this.platformName=this.runOptions.platform,this.projectPath=this.runOptions.projectRoot,this.packager=t.packager||new o.Packager(this.runOptions.workspaceRoot,this.projectPath,s.SettingsHelper.getPackagerPort(this.runOptions.workspaceRoot),new i.PackagerStatusIndicator(this.projectPath)),this.packager.setRunOptions(e),this.logger=a.OutputChannelLogger.getChannel(u(0,null,this.platformName),!0),this.logger.clear(),this.runArguments=this.getRunArguments()}dispose(){}resolveVirtualDevice(e){return Promise.resolve(null)}runApp(){return this.logger.info(u(1,null)),Promise.resolve()}enableJSDebuggingMode(){return this.logger.info(u(2,null)),Promise.resolve()}disableJSDebuggingMode(){return this.logger.info(u(3,null)),Promise.resolve()}beforeStartPackager(){return Promise.resolve()}startPackager(){return this.logger.info(u(4,null)),this.packager.isRunning().then(e=>{if(e){if(this.packager.getPackagerStatus()!==i.PackagerStatus.PACKAGER_STARTED)return this.packager.stop();this.logger.info(u(5,null))}}).then(()=>this.packager.start())}prewarmBundleCache(){return Promise.resolve()}static removeRunArgument(e,t,r){const n=e.indexOf(t);n>-1&&(r?e.splice(n,1):e.splice(n,2))}static setRunArgument(e,t,r){const n=l.isBoolean(r),o=e.indexOf(t);o>-1?(n&&!r&&h.removeRunArgument(e,t,!0),n||(e[o+1]=r)):(n&&r&&e.push(t),n||(e.push(t),e.push(r)))}static getOptFromRunArgs(e,t,r=!1){if(e.length>0){const n=e.indexOf(t);let o=void 0;if(n>-1)o=!!r||e[n+1];else for(let n=0;n<e.length;n++){const i=e[n];if(i.indexOf(t)>-1)if(r)o=!0;else{const e=i.split("=");o=e.length>1?e[1].trim():void 0}}if(r)return void 0!==o||void 0;if(o)try{return JSON.parse(o)}catch(e){return o}}}getRunArguments(){throw new Error("Not yet implemented: GeneralMobilePlatform.getRunArguments")}static getEnvArgument(e,t,r){let n=Object.assign({},e);if(r){const e=this.readEnvFile(r);if(null!=e)for(let t in e)!n[t]&&e.hasOwnProperty(t)&&(n[t]=e[t])}if(t)for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}static readEnvFile(e){if(n.existsSync(e)){let t=n.readFileSync(e,"utf8"),r={};return t&&"\ufeff"===t[0]&&(t=t.substr(1)),t.split("\n").forEach(e=>{const t=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!==t){const e=t[1];let n=t[2]||"";n.length>0&&'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.replace(/\\n/gm,"\n")),r[e]=n.replace(/(^['"]|['"]$)/g,"")}}),r}return null}}t.GeneralMobilePlatform=h,h.deviceString="device",h.simulatorString="simulator",h.NO_PACKAGER_VERSION="0.42.0"},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildProcess=void 0;const n=r(29),o=r(3),i=r(2);class s{constructor({childProcess:e=n}={}){this.childProcess=e}exec(e,t={}){let r,n;return new Promise(s=>{r=new Promise((r,s)=>{n=this.childProcess.exec(e,t,(t,n,a)=>{t?s(o.ErrorHelper.getNestedError(t,i.InternalErrorCode.CommandFailed,e)):r(n)})}),s({process:n,outcome:r})})}execToString(e,t={}){return this.exec(e,t).then(e=>e.outcome.then(e=>e.toString()))}execFileSync(e,t=[],r={}){return this.childProcess.execFileSync(e,t,r)}spawn(e,t=[],r={},n=!1){const s=this.childProcess.spawn(e,t,r);let a=new Promise((r,a)=>{s.once("error",e=>{a(e)});const c=[],l=[];s.stderr.on("data",e=>{c.push(e.toString())}),s.stdout.on("data",e=>{l.push(e.toString())}),s.once("exit",s=>{if(0===s)r();else{const r=e+" "+t.join(" ");if(n){let e="";l.length>0&&(e=e.concat("\n\tSTDOUT: "+l[l.length-1])),c.length>0&&(e=e.concat("\n\tSTDERR: "+c.join("\n\t"))),""===e&&(e="STDOUT and STDERR are empty!"),a(o.ErrorHelper.getInternalError(i.InternalErrorCode.CommandFailedWithDetails,r,e))}else a(o.ErrorHelper.getInternalError(i.InternalErrorCode.CommandFailed,r,s))}})});return{spawnedProcess:s,stdin:s.stdin,stdout:s.stdout,stderr:s.stderr,outcome:a}}}t.ChildProcess=s,s.ERROR_TIMEOUT_MILLISECONDS=300},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoggingDirectory=t.getLoggingOptions=t.LogHelper=t.LogLevel=void 0;const n=r(0),o=r(75);var i;!function(e){e[e.None=0]="None",e[e.Trace=1]="Trace",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warning=4]="Warning",e[e.Error=5]="Error",e[e.Verbose=6]="Verbose",e[e.Custom=7]="Custom"}(i=t.LogLevel||(t.LogLevel={}));function s(){return{LogsDirectory:process.env.REACT_NATIVE_TOOLS_LOGS_DIR}}t.LogHelper=class{static get LOG_LEVEL(){return function(){try{return r(21).SettingsHelper.getLogLevel()}catch(e){return i.Info}}()}},t.getLoggingOptions=s,t.getLoggingDirectory=function(){const e=s();if(e.LogsDirectory){let t=e.LogsDirectory;return n.isAbsolute(t)?(o.sync(t),t):null}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHelper=void 0;const n=r(6),o=r(0),i=r(135),s=r(37),a=r(20),c=r(38);class l{static getPackagerPort(e){const t=l.getReactNativeProjectRoot(e);let r=n.Uri.file(t);const o=n.workspace.getConfiguration("react-native.packager",r);return o.has("port")?i.ConfigurationReader.readInt(o.get("port")):s.Packager.DEFAULT_PORT}static getLogLevel(){const e=n.workspace.getConfiguration("react-native-tools",null);if(e.has("logLevel")){let t=i.ConfigurationReader.readString(e.get("logLevel"));return parseInt(a.LogLevel[t],10)}return a.LogLevel.Info}static getReactNativeProjectRoot(e){const t=n.Uri.file(e),r=n.workspace.getWorkspaceFolder(t),s=n.workspace.getConfiguration("react-native-tools",t);if(s.has("projectRoot")){let e=i.ConfigurationReader.readString(s.get("projectRoot"));return o.isAbsolute(e)?e:o.resolve(r.uri.fsPath,e)}return r.uri.fsPath}static getReactNativeGlobalCommandName(e){const t=n.workspace.getConfiguration("react-native-tools",e);return t.has("reactNativeGlobalCommandName")?i.ConfigurationReader.readString(t.get("reactNativeGlobalCommandName")):null}static getRunArgs(e,t,r){const o=n.workspace.getConfiguration("react-native",r),s=`${e}.runArguments.${t}`;return o.has(s)?i.ConfigurationReader.readArray(o.get(s)):[]}static getEnvArgs(e,t,r){const o=n.workspace.getConfiguration("react-native",r),s=`${e}.env.${t}`;return o.has(s)?i.ConfigurationReader.readObject(o.get(s)):{}}static getEnvFile(e,t,r){const o=n.workspace.getConfiguration("react-native",r),s=`${e}.envFile.${t}`;return o.has(s)?i.ConfigurationReader.readString(o.get(s)):""}static getPackagerStatusIndicatorPattern(e){const t=l.getReactNativeProjectRoot(e);let r=n.Uri.file(t);const o=n.workspace.getConfiguration("react-native.packager",r);if(o.has("status-indicator")){const e=i.ConfigurationReader.readString(o.get("status-indicator"));if(e===c.PackagerStatusIndicator.FULL_VERSION||e===c.PackagerStatusIndicator.SHORT_VERSION)return e}return c.PackagerStatusIndicator.FULL_VERSION}static getLogCatFilteringArgs(e){const t=n.workspace.getConfiguration("react-native",e);if(t.has("android.logCatArguments"))return i.ConfigurationReader.readArray(t.get("android.logCatArguments"))}}t.SettingsHelper=l},function(e,t){var r=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();e.exports=r},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseUtil=void 0;class o{forEach(e,t){return Promise.all(e.map(e=>t(e))).then(()=>{})}retryAsync(e,t,r,n,o){return this.retryAsyncIteration(e,t,r,0,n,o)}reduce(e,t){let r;return r=e instanceof Promise?e:Promise.resolve(e),r.then(e=>e.reduce((e,r)=>e.then(()=>t(r)),Promise.resolve()))}static delay(e){return n(this,void 0,void 0,(function*(){return new Promise(t=>setTimeout(t,e))}))}retryAsyncIteration(e,t,r,n,i,s){return e().then(a=>Promise.resolve(a).then(t).then(c=>{if(c)return a;if(n<r)return o.delay(i).then(()=>this.retryAsyncIteration(e,t,r,n+1,i,s));throw new Error(s)}))}}t.PromiseUtil=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(61);t.DebugSession=n.DebugSession,t.InitializedEvent=n.InitializedEvent,t.TerminatedEvent=n.TerminatedEvent,t.StoppedEvent=n.StoppedEvent,t.ContinuedEvent=n.ContinuedEvent,t.OutputEvent=n.OutputEvent,t.ThreadEvent=n.ThreadEvent,t.BreakpointEvent=n.BreakpointEvent,t.ModuleEvent=n.ModuleEvent,t.LoadedSourceEvent=n.LoadedSourceEvent,t.CapabilitiesEvent=n.CapabilitiesEvent,t.ProgressStartEvent=n.ProgressStartEvent,t.ProgressUpdateEvent=n.ProgressUpdateEvent,t.ProgressEndEvent=n.ProgressEndEvent,t.Thread=n.Thread,t.StackFrame=n.StackFrame,t.Scope=n.Scope,t.Variable=n.Variable,t.Breakpoint=n.Breakpoint,t.Source=n.Source,t.Module=n.Module,t.CompletionItem=n.CompletionItem,t.ErrorDestination=n.ErrorDestination;const o=r(184);t.LoggingDebugSession=o.LoggingDebugSession;const i=r(96);t.Logger=i;const s=r(62);t.Event=s.Event,t.Response=s.Response;const a=r(186);t.Handles=a.Handles;const c=i.logger;t.logger=c},function(e,t,r){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t){t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,n=/^data:.+\,.+$/;function o(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var r=e,n=o(e);if(n){if(!n.path)return e;r=n.path}for(var s,a=t.isAbsolute(r),c=r.split(/\/+/),l=0,u=c.length-1;u>=0;u--)"."===(s=c[u])?c.splice(u,1):".."===s?l++:l>0&&(""===s?(c.splice(u+1,l),l=0):(c.splice(u,2),l--));return""===(r=c.join("/"))&&(r=a?"/":"."),n?(n.path=r,i(n)):r}t.urlParse=o,t.urlGenerate=i,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var r=o(t),a=o(e);if(a&&(e=a.path||"/"),r&&!r.scheme)return a&&(r.scheme=a.scheme),i(r);if(r||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,i(a)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(r)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function c(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function u(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?c:function(e){return l(e)?"$"+e:e},t.fromSetString=a?c:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var n=e.source-t.source;return 0!==n||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)||r||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=e.generatedLine-t.generatedLine)?n:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=e.source-t.source)||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=u(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:u(e.name,t.name)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostPlatform=t.HostPlatformId=void 0;const n=r(19),o=r(46),i=r(0);var s;!function(e){e[e.WINDOWS=0]="WINDOWS",e[e.OSX=1]="OSX",e[e.LINUX=2]="LINUX"}(s=t.HostPlatformId||(t.HostPlatformId={}));class a{getUserHomePath(){return process.env.USERPROFILE||""}setEnvironmentVariable(e,t){return(new n.ChildProcess).exec(`setx ${e} ${t}`).then(e=>e.outcome)}getSettingsHome(){return i.join(process.env.APPDATA||"","vscode-react-native")}getNpmCliCommand(e){return e+".cmd"}getPlatformId(){return s.WINDOWS}getUserID(){return process.env.USERNAME||""}isCompatibleWithTarget(e){switch(e){case o.TargetPlatformId.ANDROID:case o.TargetPlatformId.EXPONENT:case o.TargetPlatformId.WINDOWS:return!0;default:return!1}}}class c{getUserHomePath(){return process.env.HOME||""}getSettingsHome(){return i.join(process.env.HOME||"",".vscode-react-native")}getNpmCliCommand(e){return e}}class l extends c{setEnvironmentVariable(e,t){return(new n.ChildProcess).exec(`launchctl setenv ${e} ${t}`).then(e=>e.outcome)}getPlatformId(){return s.OSX}getUserID(){return process.env.LOGNAME||""}isCompatibleWithTarget(e){switch(e){case o.TargetPlatformId.ANDROID:case o.TargetPlatformId.EXPONENT:case o.TargetPlatformId.IOS:case o.TargetPlatformId.MACOS:return!0;default:return!1}}}class u extends c{setEnvironmentVariable(e,t){return(new n.ChildProcess).exec(`export ${e}=${t}`).then(e=>e.outcome)}getPlatformId(){return s.LINUX}getUserID(){return process.env.USER||""}isCompatibleWithTarget(e){switch(e){case o.TargetPlatformId.ANDROID:case o.TargetPlatformId.EXPONENT:return!0;default:return!1}}}class h{static get platform(){if(!h.platformInstance)switch(process.platform){case"win32":h.platformInstance=new a;break;case"darwin":h.platformInstance=new l;break;case"linux":default:h.platformInstance=new u}return h.platformInstance}static getUserHomePath(){return h.platform.getUserHomePath()}static getSettingsHome(){return h.platform.getSettingsHome()}static getNpmCliCommand(e){return h.platform.getNpmCliCommand(e)}static getPlatformId(){return h.platform.getPlatformId()}static setEnvironmentVariable(e,t){return h.platform.setEnvironmentVariable(e,t)}static getUserID(){return h.platform.getUserID()}static isCompatibleWithTarget(e){return h.platform.isCompatibleWithTarget(e)}}t.HostPlatform=h},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomPortNumber=t.findFileInFolderHierarchy=t.getExtensionName=t.getExtensionVersion=void 0;const n=r(0),o=r(4);function i(e,t){let r,i=e,s=!1;for(;!o.existsSync(n.join(i,t));){if(r=n.resolve(i,".."),r===i){s=!0;break}i=r}return s?null:n.join(i,t)}t.getExtensionVersion=function(){const e=i(__dirname,"package.json");return e?JSON.parse(o.readFileSync(e,"utf-8")).version:null},t.getExtensionName=function(){const e=i(__dirname,"package.json");return e?JSON.parse(o.readFileSync(e,"utf-8")).name:null},t.findFileInFolderHierarchy=i,t.generateRandomPortNumber=function(){return Math.round(4e4*Math.random()+3e3)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Telemetry=void 0;const n=r(32),o=r(4),i=r(0),s=r(28);!function(e){e.isOptedIn=!1,e.reporterDictionary={};class t{static get telemetrySettingsFile(){let e=s.HostPlatform.getSettingsHome();return i.join(e,t.TELEMETRY_SETTINGS_FILENAME)}static init(r,n){t.loadSettings(),e.reporter=n,e.isOptedIn=t.getTelemetryOptInSetting(),t.saveSettings()}static getTelemetryOptInSetting(){return void 0===t.telemetrySettings.optIn&&(t.telemetrySettings.optIn=!0),t.telemetrySettings.optIn}static loadSettings(){try{t.telemetrySettings=JSON.parse(o.readFileSync(t.telemetrySettingsFile))}catch(e){t.telemetrySettings={}}return t.telemetrySettings}static saveSettings(){let e=s.HostPlatform.getSettingsHome();o.existsSync(e)||o.mkdirSync(e),o.writeFileSync(t.telemetrySettingsFile,JSON.stringify(t.telemetrySettings))}}t.TELEMETRY_SETTINGS_FILENAME="VSCodeTelemetrySettings.json";class a{constructor(e,t){this.name=e,this.properties=t||{}}setPiiProperty(e,t){let r=n.createHmac("sha256",new Buffer(a.PII_HASH_KEY,"utf8")).update(t).digest("hex");this.properties[e]=r}}a.PII_HASH_KEY="959069c9-9e93-4fa1-bf16-3f8120d7db0c",e.TelemetryEvent=a;class c extends a{constructor(e,t){super(e,t),this.start()}start(){this.startTime=process.hrtime()}end(){this.endTime||(this.endTime=process.hrtime(this.startTime),this.properties["reserved.activity.duration"]=1e3*this.endTime[0]+this.endTime[1]/1e6)}}e.TelemetryActivity=c,e.init=function(r,n,o){try{e.appName=r,t.init(n,o)}catch(e){console.error(e)}},e.send=function(t,r=!1){if(e.isOptedIn||r)try{if(t instanceof c&&t.end(),e.reporter){let r={},n={};Object.keys(t.properties||{}).forEach((function(e){switch(typeof t.properties[e]){case"string":r[e]=t.properties[e];break;case"number":n[e]=t.properties[e];break;default:r[e]=JSON.stringify(t.properties[e])}})),e.reporter.sendTelemetryEvent(t.name,r,n)}}catch(e){console.error(e)}},e.APPINSIGHTS_INSTRUMENTATIONKEY="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",e.sendExtensionTelemetry=function(t,n,o,i,s,a){let c=e.reporterDictionary[t];if(!c){let i=r(81).default;e.reporterDictionary[t]=new i(t,n,o),c=e.reporterDictionary[t]}c.sendTelemetryEvent(i,s,a)}}(t.Telemetry||(t.Telemetry={}))},function(e,t){e.exports=require("crypto")},function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(e.DataPointType||(e.DataPointType={}));var t=e.DataPointType;!function(e){e[e.SQL=0]="SQL",e[e.Http=1]="Http",e[e.Other=2]="Other"}(e.DependencyKind||(e.DependencyKind={}));e.DependencyKind;!function(e){e[e.Undefined=0]="Undefined",e[e.Aic=1]="Aic",e[e.Apmc=2]="Apmc"}(e.DependencySourceType||(e.DependencySourceType={}));e.DependencySourceType;!function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(e.SessionState||(e.SessionState={}));e.SessionState;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(e.SeverityLevel||(e.SeverityLevel={}));e.SeverityLevel;var n=function(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceNetwork="ai.device.network",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationIsSynthetic="ai.operation.isSynthetic",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.sampleRate="ai.sample.sampleRate",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion"};e.ContextTagKeys=n;var o=function(){};e.Domain=o;var i=function(){};e.Data=i;var s=function(){this.ver=1,this.sampleRate=100,this.tags={}};e.Envelope=s;var a=function(e){function t(){this.ver=2,this.properties={},this.measurements={},e.call(this)}return r(t,e),t}(e.Domain);e.EventData=a;var c=function(e){function t(){this.ver=2,this.properties={},e.call(this)}return r(t,e),t}(e.Domain);e.MessageData=c;var l=function(e){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={},e.call(this)}return r(t,e),t}(e.Domain);e.ExceptionData=l;var u=function(){};e.StackFrame=u;var h=function(){this.hasFullStack=!0,this.parsedStack=[]};e.ExceptionDetails=h;var p=function(){this.kind=e.DataPointType.Measurement};e.DataPoint=p;var d=function(e){function t(){this.ver=2,this.metrics=[],this.properties={},e.call(this)}return r(t,e),t}(e.Domain);e.MetricData=d;var g=function(e){function t(){this.ver=2,this.properties={},this.measurements={},e.call(this)}return r(t,e),t}(e.EventData);e.PageViewData=g;var f=function(e){function t(){this.ver=2,this.properties={},this.measurements={},e.call(this)}return r(t,e),t}(e.PageViewData);e.PageViewPerfData=f;var m=function(t){function n(){this.ver=2,this.kind=e.DataPointType.Measurement,this.dependencyKind=e.DependencyKind.Other,this.success=!0,this.dependencySource=e.DependencySourceType.Undefined,this.properties={},t.call(this)}return r(n,t),n}(e.Domain);e.RemoteDependencyData=m;var v=function(e){function t(){this.ver=2,this.properties={},this.measurements={},e.call(this)}return r(t,e),t}(e.PageViewData);e.AjaxCallData=v;var y=function(e){function t(){this.ver=2,this.properties={},this.measurements={},e.call(this)}return r(t,e),t}(e.Domain);e.RequestData=y;var E=function(t){function n(){this.ver=2,this.state=e.SessionState.Start,t.call(this)}return r(n,t),n}(e.Domain);e.SessionStateData=E;var _=function(e){function n(){this.ver=2,this.kind=t.Aggregation,this.properties={},e.call(this)}return r(n,e),n}(e.Domain);e.PerformanceCounterData=_}(t.Contracts||(t.Contracts={}))},function(e,t){{t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,n=/^data:.+\,.+$/;function o(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var r=e,n=o(e);if(n){if(!n.path)return e;r=n.path}for(var s,a=t.isAbsolute(r),c=r.split(/\/+/),l=0,u=c.length-1;u>=0;u--)"."===(s=c[u])?c.splice(u,1):".."===s?l++:l>0&&(""===s?(c.splice(u+1,l),l=0):(c.splice(u,2),l--));return""===(r=c.join("/"))&&(r=a?"/":"."),n?(n.path=r,i(n)):r}function a(e,t){return e===t?0:e>t?1:-1}t.urlParse=o,t.urlGenerate=i,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var r=o(t),a=o(e);if(a&&(e=a.path||"/"),r&&!r.scheme)return a&&(r.scheme=a.scheme),i(r);if(r||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,i(a)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(r)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)},t.toSetString=function(e){return"$"+e},t.fromSetString=function(e){return e.substr(1)},t.compareByOriginalPositions=function(e,t,r){var n=e.source-t.source;return 0!==n||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)||r||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=e.generatedLine-t.generatedLine)?n:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=e.source-t.source)||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=a(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:a(e.name,t.name)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stopAdbReverse=t.startAdbReverse=t.stopAll=t.getUrl=t.startTunnels=t.startExponentServer=t.setOptions=t.publish=t.mapVersion=t.login=t.currentUser=t.supportedVersions=t.attachLoggerStream=t.configReactNativeVersionWargnings=void 0;const n=r(13),o=r(28),i=r(8),s=r(0),a=r(30),c=r(78),l=i.OutputChannelLogger.getMainChannel(),u=["@expo/xdl","@expo/ngrok"];let h;function p(){if(h)return h;try{l.debug("Getting exponent dependency.");const e=c.default("@expo/xdl");return h=Promise.resolve(e),h}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e;l.debug("Dependency not present. Installing it...")}let e=new n.CommandExecutor(s.dirname(a.findFileInFolderHierarchy(__dirname,"package.json")||__dirname),l);return h=e.spawnWithProgress(o.HostPlatform.getNpmCliCommand("npm"),["install",...u,"--verbose","--no-save"],{verbosity:n.CommandVerbosity.PROGRESS}).then(()=>c.default("@expo/xdl")),h}t.configReactNativeVersionWargnings=function(){return p().then(e=>{e.Config.validation.reactNativeVersionWarnings=!1})},t.attachLoggerStream=function(e,t){return p().then(r=>r.ProjectUtils.attachLoggerStream(e,t))},t.supportedVersions=function(){return p().then(e=>e.Versions.facebookReactNativeVersionsAsync())},t.currentUser=function(){return p().then(e=>e.User?e.User.getCurrentUserAsync():e.UserManager.getCurrentUserAsync())},t.login=function(e,t){return p().then(r=>r.User?r.User.loginAsync("user-pass",{username:e,password:t}):r.UserManager.loginAsync("user-pass",{username:e,password:t}))},t.mapVersion=function(e){return p().then(t=>t.Versions.facebookReactNativeVersionToExpoVersionAsync(e))},t.publish=function(e,t){return p().then(r=>r.Project.publishAsync(e,t))},t.setOptions=function(e,t){return p().then(r=>r.Project.setOptionsAsync(e,t))},t.startExponentServer=function(e){return p().then(t=>t.Project.startExpoServerAsync(e))},t.startTunnels=function(e){return p().then(t=>t.Project.startTunnelsAsync(e))},t.getUrl=function(e,t){return p().then(r=>r.UrlUtils.constructManifestUrlAsync(e,t))},t.stopAll=function(e){return p().then(t=>t.Project.stopAsync(e))},t.startAdbReverse=function(e){return p().then(t=>t.Android.startAdbReverseAsync(e))},t.stopAdbReverse=function(e){return p().then(t=>t.Android.stopAdbReverseAsync(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Package=void 0;const n=r(0),o=r(15),i=r(3),s=r(2);class a{constructor(e,{fileSystem:t=new o.FileSystem}={}){this.INFORMATION_PACKAGE_FILENAME="package.json",this.DEPENDENCIES_SUBFOLDER="node_modules",this._path=e,this.fileSystem=t}getPackageVersionFromNodeModules(e){return this.dependencyPackage(e).version()}parsePackageInformation(){return this.fileSystem.readFile(this.informationJsonFilePath(),"utf8").then(e=>JSON.parse(e.toString()))}name(){return this.parseProperty("name")}dependencies(){return this.parseProperty("dependencies")}devDependencies(){return this.parseProperty("devDependencies")}version(){return this.parseProperty("version").then(e=>"string"==typeof e?e:Promise.reject(i.ErrorHelper.getInternalError(s.InternalErrorCode.CouldNotParsePackageVersion,this.informationJsonFilePath(),e)))}setMainFile(e){return this.parsePackageInformation().then(t=>(t.main=e,this.fileSystem.writeFile(this.informationJsonFilePath(),JSON.stringify(t))))}dependencyPath(e){return n.resolve(this._path,this.DEPENDENCIES_SUBFOLDER,e)}dependencyPackage(e){return new a(this.dependencyPath(e),{fileSystem:this.fileSystem})}informationJsonFilePath(){return n.resolve(this._path,this.INFORMATION_PACKAGE_FILENAME)}parseProperty(e){return this.parsePackageInformation().then(t=>t[e])}}t.Package=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Packager=void 0;const n=r(5),o=r(17),i=r(13),s=r(77),a=r(3),c=r(2),l=r(8),u=r(36),h=r(39),p=r(9),d=r(38),g=r(21),f=r(0),m=r(35),v=r(10),y=r(1),E=r(30),_=r(15),S=r(24);y.config({messageFormat:y.MessageFormat.bundle,bundleFormat:y.BundleFormat.standalone})(r(0).join(__dirname,"src\\common\\packager.ts"));const P=y.loadMessageBundle(r(0).join(__dirname,"src\\common\\packager.ts"));class b{constructor(e,t,r,n){this.workspacePath=e,this.projectPath=t,this.packagerPort=r,this.logger=l.OutputChannelLogger.getChannel(l.OutputChannelLogger.MAIN_CHANNEL_NAME,!0),this.packagerStatus=d.PackagerStatus.PACKAGER_STOPPED,this.packagerStatusIndicator=n||new d.PackagerStatusIndicator(t)}setExponentHelper(e){this.expoHelper=e}getExponentHelper(){return this.expoHelper||(this.expoHelper=new s.ExponentHelper(this.workspacePath,this.projectPath)),this.expoHelper}getPort(){return this.packagerPort||g.SettingsHelper.getPackagerPort(this.workspacePath)}setRunOptions(e){this.runOptions=e}static getHostForPort(e){return"localhost:"+e}getStatusIndicator(){return this.packagerStatusIndicator}getHost(){return b.getHostForPort(this.getPort())}getPackagerStatus(){return this.packagerStatus}getProjectPath(){return this.projectPath}getPackagerArgs(e,t=!1){let r=["--port",this.getPort().toString()];return t&&(r=r.concat("--resetCache")),this.getExponentHelper().isExpoApp(!1).then(t=>t?(v.gte(e,"0.57.0")||r.push("--root",f.relative(this.projectPath,f.resolve(this.workspacePath,".vscode"))),this.getExponentHelper().getExpPackagerOptions().then(e=>(Object.keys(e).forEach(t=>{r=r.concat(["--"+t,e[t]])}),r)).catch(()=>(this.logger.warning(P(0,null)),r))):r)}start(e=!1){this.packagerStatusIndicator.updatePackagerStatus(d.PackagerStatus.PACKAGER_STARTING);let t,r=!1;return this.isRunning().then(s=>{if(!s)return r=!0,p.ProjectVersionHelper.getReactNativeVersions(this.projectPath).then(e=>(t=e.reactNativeVersion,this.monkeyPatchOpnForRNPackager(t))).then(()=>this.getPackagerArgs(t,e)).then(e=>{let r=process.env;if(this.runOptions&&(this.runOptions.env||this.runOptions.envFile))r=o.GeneralMobilePlatform.getEnvArgument(r,this.runOptions.env,this.runOptions.envFile);else{const e=f.join(this.getProjectPath(),".env");r=o.GeneralMobilePlatform.getEnvArgument(r,null,e)}let s=Object.assign({},r,{REACT_DEBUGGER:"echo A debugger is not needed: ",REACT_EDITOR:["0.38.0","0.39.0","0.40.0"].indexOf(t)<0?"code":this.openFileAtLocationCommand()});this.logger.info(P(1,null));let a={env:s};if(this.runOptions&&this.runOptions.platform===n.PlatformType.Exponent){const t=this.getSourceExtensions();e.push("--sourceExts",t)}const c=new i.CommandExecutor(this.projectPath,this.logger).spawnReactPackager(e,a);return this.packagerProcess=c.spawnedProcess,c.outcome.then(()=>{},()=>{}),Promise.resolve()})}).then(()=>this.awaitStart()).then(()=>{if(r)this.logger.info(P(2,null)),this.packagerStatus=d.PackagerStatus.PACKAGER_STARTED;else if(this.logger.info(P(3,null)),!this.packagerProcess)return this.logger.warning(a.ErrorHelper.getWarning(P(4,null))),void this.setPackagerStopStateUI();this.packagerStatusIndicator.updatePackagerStatus(d.PackagerStatus.PACKAGER_STARTED)})}stop(e=!1){return this.packagerStatusIndicator.updatePackagerStatus(d.PackagerStatus.PACKAGER_STOPPING),this.isRunning().then(t=>t?this.packagerProcess?this.killPackagerProcess():(e||this.logger.warning(a.ErrorHelper.getWarning(P(5,null))),Promise.resolve()):(e||this.logger.warning(a.ErrorHelper.getWarning(P(6,null))),Promise.resolve())).then(()=>{this.setPackagerStopStateUI()})}restart(e){return this.getPort()&&this.getPort()!==e?Promise.reject(a.ErrorHelper.getInternalError(c.InternalErrorCode.PackagerRunningInDifferentPort,e,this.getPort())):this.isRunning().then(e=>e?this.packagerProcess?this.killPackagerProcess().then(()=>Promise.resolve(!0)):(this.logger.warning(a.ErrorHelper.getWarning(P(7,null))),Promise.resolve(!1)):(this.logger.warning(a.ErrorHelper.getWarning(P(8,null))),Promise.resolve(!0))).then(e=>e?this.start(!0):Promise.resolve())}prewarmBundleCache(e){return e===n.PlatformType.Exponent?Promise.resolve():this.isRunning().then(t=>{if(!t)return;const r=f.resolve(this.projectPath,"index.js"),n=f.resolve(this.projectPath,`index.${e}.js`);return Promise.all([b.fs.exists(r),b.fs.exists(n)]).then(t=>{let r="";if(t[0])r="index.bundle";else{if(!t[1])return void this.logger.info(P(9,null,e));r=`index.${e}.bundle`}const n=`http://${this.getHost()}/${r}?platform=${e}`;return this.logger.info(P(10,null,n)),h.Request.request(n,!0).then(()=>{this.logger.warning(P(11,null))})}).catch(()=>{})})}isRunning(){let e=`http://${this.getHost()}/status`;return h.Request.request(e).then(e=>"packager-status:running"===e,e=>!1)}awaitStart(e=60,t=3e3){return(new S.PromiseUtil).retryAsync(()=>this.isRunning(),e=>e,e,t,P(12,null))}findOpnPackage(e){try{let t;t=v.gte(e,b.RN_VERSION_WITH_OPEN_PKG)?b.OPN_PACKAGE_NAME.new:b.OPN_PACKAGE_NAME.old;let r=f.resolve(this.projectPath,b.NODE_MODULES_FODLER_NAME,t,b.OPN_PACKAGE_MAIN_FILENAME),n=f.resolve(this.projectPath,b.NODE_MODULES_FODLER_NAME,b.REACT_NATIVE_PACKAGE_NAME,b.NODE_MODULES_FODLER_NAME,t,b.OPN_PACKAGE_MAIN_FILENAME),o=new _.FileSystem,i=[r,n];return Promise.all(i.map(e=>o.exists(e).then(t=>t?Promise.resolve(e):Promise.resolve("")))).then(e=>{const t=e.find(e=>!!e);return t?Promise.resolve(t):Promise.reject(a.ErrorHelper.getInternalError(c.InternalErrorCode.OpnPackagerLocationNotFound))})}catch(e){return Promise.reject(a.ErrorHelper.getInternalError(c.InternalErrorCode.OpnPackagerNotFound,e))}}monkeyPatchOpnForRNPackager(e){let t,r;return this.findOpnPackage(e).then(e=>(r=e,t=new u.Package(f.resolve(f.dirname(r))),t.parsePackageInformation())).then(n=>{let o,i;return i=v.gte(e,b.RN_VERSION_WITH_OPEN_PKG)?b.JS_INJECTOR_FILENAME.new:b.JS_INJECTOR_FILENAME.old,o=f.resolve(b.JS_INJECTOR_DIRPATH,i),n.main!==i?(new _.FileSystem).copyFile(o,f.resolve(f.dirname(r),i)).then(()=>t.setMainFile(i)):Promise.resolve()})}setPackagerStopStateUI(){this.packagerStatus=d.PackagerStatus.PACKAGER_STOPPED,this.packagerStatusIndicator.updatePackagerStatus(d.PackagerStatus.PACKAGER_STOPPED)}killPackagerProcess(){return this.logger.info(P(13,null)),new i.CommandExecutor(this.projectPath,this.logger).killReactPackager(this.packagerProcess).then(()=>(this.packagerProcess=void 0,new s.ExponentHelper(this.workspacePath,this.projectPath).isExpoApp(!1).then(e=>e?(this.logger.debug("Stopping Exponent"),m.stopAll(this.projectPath).then(()=>{this.logger.debug("Exponent Stopped")}).catch(e=>{if("NOT_LOGGED_IN"!==e.code)throw e})):void 0)))}openFileAtLocationCommand(){let e="node "+f.join(__dirname,"..","..","scripts","atom");return"win32"===process.platform?e.replace(/\\/g,"/"):e}getSourceExtensions(){return["expo.ts","expo.tsx","expo.js","expo.jsx","ts","tsx","js","jsx","json","wasm"]}}t.Packager=b,b.DEFAULT_PORT=8081,b.JS_INJECTOR_FILENAME={new:"open-main.js",old:"opn-main.js"},b.RN_VERSION_WITH_OPEN_PKG="0.60.0",b.JS_INJECTOR_DIRPATH=E.findFileInFolderHierarchy(__dirname,"js-patched")||__dirname,b.NODE_MODULES_FODLER_NAME="node_modules",b.OPN_PACKAGE_NAME={new:"open",old:"opn"},b.REACT_NATIVE_PACKAGE_NAME="react-native",b.OPN_PACKAGE_MAIN_FILENAME="index.js",b.fs=new _.FileSystem},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PackagerStatusIndicator=t.PackagerStatus=void 0;const n=r(6),o=r(1),i=r(21);o.config({messageFormat:o.MessageFormat.bundle,bundleFormat:o.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\packagerStatusIndicator.ts"));const s=o.loadMessageBundle(r(0).join(__dirname,"src\\extension\\packagerStatusIndicator.ts"));var a;!function(e){e[e.PACKAGER_STOPPED=0]="PACKAGER_STOPPED",e[e.PACKAGER_STOPPING=1]="PACKAGER_STOPPING",e[e.PACKAGER_STARTED=2]="PACKAGER_STARTED",e[e.PACKAGER_STARTING=3]="PACKAGER_STARTING"}(a=t.PackagerStatus||(t.PackagerStatus={}));class c{constructor(e){this.projectRoot=e,this.restartPackagerItem=n.window.createStatusBarItem(n.StatusBarAlignment.Left,10),this.restartPackagerItem.text=c.RESTART_ICON,this.restartPackagerItem.command=c.RESTART_COMMAND,this.restartPackagerItem.tooltip=c.RESTART_TOOLTIP,this.togglePackagerItem=n.window.createStatusBarItem(n.StatusBarAlignment.Left,10),this.setupPackagerStatusIndicatorItems(c.START_ICON,c.START_COMMAND,c.START_TOOLTIP)}updateDisplayVersion(){this.displayVersion=c.FULL_VERSION;try{this.projectRoot&&(this.displayVersion=i.SettingsHelper.getPackagerStatusIndicatorPattern(this.projectRoot))}catch(e){}}dispose(){this.togglePackagerItem.dispose(),this.restartPackagerItem.dispose()}setupPackagerStatusIndicatorItems(e,t,r=""){switch(this.updateDisplayVersion(),this.togglePackagerItem.command=t,this.togglePackagerItem.tooltip=r,this.displayVersion){case c.FULL_VERSION:this.togglePackagerItem.text=`${e} ${c.PACKAGER_NAME}`,this.togglePackagerItem.show(),this.restartPackagerItem.hide();break;case c.SHORT_VERSION:this.togglePackagerItem.text=""+e,this.togglePackagerItem.show(),this.restartPackagerItem.show()}}updatePackagerStatus(e){switch(e){case a.PACKAGER_STOPPED:this.setupPackagerStatusIndicatorItems(c.START_ICON,c.START_COMMAND,c.START_TOOLTIP);break;case a.PACKAGER_STOPPING:this.setupPackagerStatusIndicatorItems(c.ACTIVITY_ICON,void 0,c.STOPPING_TOOLTIP);break;case a.PACKAGER_STARTED:this.setupPackagerStatusIndicatorItems(c.STOP_ICON,c.STOP_COMMAND,c.STOP_TOOLTIP);break;case a.PACKAGER_STARTING:this.setupPackagerStatusIndicatorItems(c.ACTIVITY_ICON,void 0,c.STARTING_TOOLTIP)}}}t.PackagerStatusIndicator=c,c.PACKAGER_NAME=s(0,null),c.STOP_TOOLTIP=s(1,null),c.START_TOOLTIP=s(2,null),c.RESTART_TOOLTIP=s(3,null),c.STARTING_TOOLTIP=s(4,null),c.STOPPING_TOOLTIP=s(5,null),c.START_ICON="$(play)",c.STOP_ICON="$(primitive-square)",c.ACTIVITY_ICON="$(loading~spin)",c.RESTART_ICON="$(sync)",c.START_COMMAND="reactNative.startPackager",c.RESTART_COMMAND="reactNative.restartPackager",c.STOP_COMMAND="reactNative.stopPackager",c.FULL_VERSION="Full",c.SHORT_VERSION="Short"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;const n=r(18);t.Request=class{static request(e,t=!1){return new Promise((r,o)=>{n.get(e,(function(e){let n="";e.on("data",e=>{n+=e.toString()}),e.on("end",()=>{t&&200!==e.statusCode?o(new Error(n)):r(n)})})).on("error",e=>{o(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputVerifier=void 0;const n=r(3),o=r(2);t.OutputVerifier=class{constructor(e,t,r){this.output="",this.errors="",this.generatePatternsForSuccess=e,this.generatePatternToFailure=t,this.platformName=r}process(e){return this.store(e.stdout,e=>this.output+=e),this.store(e.stderr,e=>this.errors+=e),e.outcome.then(this.generatePatternToFailure).then(e=>{const t=this.findAnyFailurePattern(e);return t?Promise.reject(n.ErrorHelper.getInternalError(t)):this.generatePatternsForSuccess()}).then(e=>this.areAllSuccessPatternsPresent(e)?Promise.resolve():Promise.reject(n.ErrorHelper.getInternalError(o.InternalErrorCode.NotAllSuccessPatternsMatched,this.platformName,this.platformName)))}store(e,t){e.on("data",e=>{t(e.toString())})}findAnyFailurePattern(e){const t=this.errors+this.output,r=e.find(e=>e.pattern instanceof RegExp?e.pattern.test(t):-1!==t.indexOf(e.pattern));return r?r.errorCode:null}areAllSuccessPatternsPresent(e){return e.every(e=>new RegExp(e,"i").test(this.output))}}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";const n=r(51),o=r(44),i=r(194),{kStatusCode:s,NOOP:a}=r(26),c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),u=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),d=Symbol("error");let g;function f(e){this[p].push(e),this[u]+=e.length}function m(e){this[u]+=e.length,this[l]._maxPayload<1||this[u]<=this[l]._maxPayload?this[p].push(e):(this[d]=new RangeError("Max payload size exceeded"),this[d][s]=1009,this.removeListener("data",m),this.reset())}function v(e){this[l]._inflate=null,e[s]=1007,this[h](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!g){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;g=new i(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r})}),e}decompress(e,t,r){g.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){g.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){const i=this._isServer?"client":"server";if(!this._inflate){const e=i+"_max_window_bits",t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[u]=0,this._inflate[p]=[],this._inflate.on("error",v),this._inflate.on("data",m)}this._inflate[h]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[d];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=o.concat(this._inflate[p],this._inflate[u]);t&&this.params[i+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[p]=[]),r(null,n)})}_compress(e,t,r){const i=this._isServer?"server":"client";if(!this._deflate){const e=i+"_max_window_bits",t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[p]=[],this._deflate.on("error",a),this._deflate.on("data",f)}this._deflate[h]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=o.concat(this._deflate[p],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[h]=null,t&&this.params[i+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[u]=0,this._deflate[p]=[]),r(null,e)})}}},function(e,t,r){"use strict";const{EMPTY_BUFFER:n}=r(26);function o(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let o=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,o),o+=n.length}return o<t?r.slice(0,o):r}function i(e,t,r,n,o){for(let i=0;i<o;i++)r[n+i]=e[i]^t[3&i]}function s(e,t){const r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),n=t.BufferUtil||t;e.exports={concat:o,mask(e,t,r,o,s){s<48?i(e,t,r,o,s):n.mask(e,t,r,o,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:o,mask:i,toArrayBuffer:a,toBuffer:c,unmask:s}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetPlatformHelper=t.TargetPlatformId=void 0;const n=r(16),o=r(3),i=r(28),s=r(2),a=r(5);var c;!function(e){e[e.ANDROID=0]="ANDROID",e[e.IOS=1]="IOS",e[e.EXPONENT=2]="EXPONENT",e[e.WINDOWS=3]="WINDOWS",e[e.MACOS=4]="MACOS"}(c=t.TargetPlatformId||(t.TargetPlatformId={}));class l{static getTargetPlatformId(e){switch(e.toLowerCase()){case a.PlatformType.Android:return c.ANDROID;case a.PlatformType.iOS:return c.IOS;case a.PlatformType.Exponent:return c.EXPONENT;case a.PlatformType.Windows:case a.PlatformType.WPF:return c.WINDOWS;case a.PlatformType.macOS:return c.MACOS;default:throw o.ErrorHelper.getInternalError(s.InternalErrorCode.PlatformNotSupported,e,n.platform())}}static checkTargetPlatformSupport(e){let t=l.getTargetPlatformId(e);if(!i.HostPlatform.isCompatibleWithTarget(t))throw o.ErrorHelper.getInternalError(s.InternalErrorCode.PlatformNotSupported,e,n.platform())}}t.TargetPlatformHelper=l},function(e,t,r){"use strict";function n(){return""}function o(e,t,r){return e.slice(t,r).replace(/\S/g," ")}e.exports=function(e,t){for(var r,i,s=!1,a=!1,c=0,l="",u=!1===(t=t||{}).whitespace?n:o,h=0;h<e.length;h++){if(r=e[h],i=e[h+1],!a&&'"'===r)"\\"===e[h-1]&&"\\"!==e[h-2]||(s=!s);if(!s)if(a||r+i!=="//"){if(1===a&&r+i==="\r\n"){a=!1,l+=u(e,c,++h),c=h;continue}if(1===a&&"\n"===r)a=!1,l+=u(e,c,h),c=h;else{if(!a&&r+i==="/*"){l+=e.slice(c,h),c=h,a=2,h++;continue}if(2===a&&r+i==="*/"){a=!1,l+=u(e,c,++h+1),c=h+1;continue}}}else l+=e.slice(c,h),c=h,a=1,h++}return l+(a?u(e.substr(c)):e.substr(c))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedDatetimeString=t.getFormattedDateString=t.getFormattedTimeString=t.isNullOrUndefined=t.getFileNameWithoutExtension=void 0;const n=r(0);function o(e){return`${s(2,String(e.getUTCHours()))}:${s(2,String(e.getUTCMinutes()))}:${s(2,String(e.getUTCSeconds()))}`}function i(e){return e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()}function s(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.getFileNameWithoutExtension=function(e){return n.basename(e,n.extname(e))},t.isNullOrUndefined=function(e){return null==e},t.getFormattedTimeString=o,t.getFormattedDateString=i,t.getFormattedDatetimeString=function(e){return`${i(e)} ${o(e)}`}},function(e,t,r){var n=r(22),o=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var o=t+"=",i=r.split(";"),s=0;s<i.length;s++){r=i[s];if((r=e.trim(r))&&0===r.indexOf(o)){n=r.substring(o.length,i[s].length);break}}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.newGuid=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],r="",n=0;n<4;n++)r+=t[15&(e=4294967296*Math.random()|0)]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var o=t[8+4*Math.random()|0];return r.substr(0,8)+"-"+r.substr(9,4)+"-4"+r.substr(13,3)+"-"+o+r.substr(16,3)+"-"+r.substr(19,12)},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return"[object Error]"===Object.prototype.toString.call(e)},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+e%1e3,r=""+Math.floor(e/1e3)%60,n=""+Math.floor(e/6e4)%60,o=""+Math.floor(e/36e5)%24;return t=1===t.length?"00"+t:2===t.length?"0"+t:t,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,(o=o.length<2?"0"+o:o)+":"+n+":"+r+"."+t},e.validateStringMap=function(t){var r;if("object"==typeof t)for(var o in r={},t){var i=t[o],s=typeof i;"string"!==s&&(i=i&&"function"==typeof i.toString?i.toString():"invalid property type: "+s),r[o]=i.trim(0,e.MAX_PROPERTY_LENGTH)}else n.info("Invalid properties dropped from payload");return r},e.MAX_PROPERTY_LENGTH=1024,e.document="undefined"!=typeof document?document:{},e}();e.exports=o},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogCatMonitorManager=void 0;class n{static addMonitor(e){this.logCatMonitorsCache[e.deviceId.toLowerCase()]=e}static getMonitor(e){return this.logCatMonitorsCache[e.toLowerCase()]}static delMonitor(e){this.logCatMonitorsCache[e.toLowerCase()]&&(this.logCatMonitorsCache[e.toLowerCase()].dispose(),delete this.logCatMonitorsCache[e.toLowerCase()])}static cleanUp(){Object.keys(n.logCatMonitorsCache).forEach(e=>{n.delMonitor(e)})}}t.LogCatMonitorManager=n,n.logCatMonitorsCache={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlistBuddy=void 0;const n=r(0),o=r(89),i=r(4),s=r(10),a=r(74),c=r(3),l=r(2),u=r(9),h=r(48),p=r(78);class d{constructor({nodeChildProcess:e=new a.Node.ChildProcess}={}){this.TARGET_BUILD_DIR_SEARCH_KEY="TARGET_BUILD_DIR",this.FULL_PRODUCT_NAME_SEARCH_KEY="FULL_PRODUCT_NAME",this.nodeChildProcess=e}getBundleId(e,t,r=!0,o="Debug",a,h){return u.ProjectVersionHelper.getReactNativeVersions(t).then(u=>{let p;s.gte(u.reactNativeVersion,"0.59.0")?(h||(h=this.getInferredScheme(e,t,u.reactNativeVersion)),p=n.join(e,"build",h,"Build","Products")):p=n.join(e,"build","Build","Products");const d=r?"iphonesimulator":"iphoneos";let g=n.join(p,`${o}-${d}`),f="";if(a){if(f=a+".app",!i.existsSync(n.join(g,f))){g=this.getConfigurationData(t,u.reactNativeVersion,e,o,h,d,g).configurationFolder}}else{const r=this.findExecutable(g);if(r.length){if(r.length>1)throw c.ErrorHelper.getInternalError(l.InternalErrorCode.IOSFoundMoreThanOneExecutablesCleanupBuildFolder,g)}else{const n=this.getConfigurationData(t,u.reactNativeVersion,e,o,h,d,g);g=n.configurationFolder,r.push(n.fullProductName)}f=""+r[0]}const m=n.join(g,f,"Info.plist");return this.invokePlistBuddy("Print:CFBundleIdentifier",m)})}setPlistProperty(e,t,r){return this.invokePlistBuddy(`Set ${t} ${r}`,e).catch(()=>this.invokePlistBuddy(`Add ${t} string ${r}`,e)).then(()=>{})}setPlistBooleanProperty(e,t,r){return this.invokePlistBuddy(`Set ${t} ${r}`,e).catch(()=>this.invokePlistBuddy(`Add ${t} bool ${r}`,e)).then(()=>{})}deletePlistProperty(e,t){return this.invokePlistBuddy("Delete "+t,e).then(()=>{})}readPlistProperty(e,t){return this.invokePlistBuddy("Print "+t,e)}getBuildPathAndProductName(e,t,r,n,o){const i=this.nodeChildProcess.execFileSync("xcodebuild",["-workspace",t,"-scheme",n,"-sdk",o,"-configuration",r,"-showBuildSettings"],{encoding:"utf8",cwd:e}),s=this.fetchParameterFromBuildSettings(i,this.TARGET_BUILD_DIR_SEARCH_KEY),a=this.fetchParameterFromBuildSettings(i,this.FULL_PRODUCT_NAME_SEARCH_KEY);if(!s)throw new Error("Failed to get the target build directory.");if(!a)throw new Error("Failed to get full product name.");return{fullProductName:a,configurationFolder:s}}getInferredScheme(e,t,r){const n=this.getProjectWorkspaceConfigName(e,t,r);return h.getFileNameWithoutExtension(n)}getProjectWorkspaceConfigName(e,t,r){let o;o=s.gte(r,"0.60.0")?"cli-platform-ios":"cli";const a=(0,p.default(n.join(t,`node_modules/@react-native-community/${o}/build/commands/runIOS/findXcodeProject`)).default)(i.readdirSync(e));if(!a)throw new Error(`Could not find Xcode project files in "${e}" folder`);return a.name}getConfigurationData(e,t,r,n,o,i,s){if(!o)throw c.ErrorHelper.getInternalError(l.InternalErrorCode.IOSCouldNotFoundExecutableInFolder,s);const a=this.getProjectWorkspaceConfigName(r,e,t);return this.getBuildPathAndProductName(r,a,n,o,i)}fetchParameterFromBuildSettings(e,t){const r=new RegExp(t+" = (.+)$","m").exec(e);return r&&r[1]?r[1].trim():null}findExecutable(e){return o.sync("*.app",{cwd:e})}invokePlistBuddy(e,t){return this.nodeChildProcess.exec(`${d.plistBuddyExecutable} -c '${e}' '${t}'`).then(e=>e.outcome.then(e=>e.toString().trim()))}}t.PlistBuddy=d,d.plistBuddyExecutable="/usr/libexec/PlistBuddy"},function(e,t,r){e.exports=u,u.Minimatch=h;var n={sep:"/"};try{n=r(0)}catch(e){}var o=u.GLOBSTAR=h.GLOBSTAR={},i=r(151),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function l(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function u(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new h(t,r).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}u.filter=function(e,t){return t=t||{},function(r,n,o){return u(r,e,t)}},u.defaults=function(e){if(!e||!Object.keys(e).length)return u;var t=u,r=function(r,n,o){return t.minimatch(r,n,l(e,o))};return r.Minimatch=function(r,n){return new t.Minimatch(r,l(e,n))},r},h.defaults=function(e){return e&&Object.keys(e).length?u.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(c)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=this.options,n=0;if(r.nonegate)return;for(var o=0,i=e.length;o<i&&"!"===e.charAt(o);o++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},u.braceExpand=function(e,t){return p(e,t)},h.prototype.braceExpand=p,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return o;if(""===e)return"";var n,i="",c=!!r.nocase,l=!1,u=[],h=[],p=!1,g=-1,f=-1,m="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function y(){if(n){switch(n){case"*":i+="[^/]*?",c=!0;break;case"?":i+="[^/]",c=!0;break;default:i+="\\"+n}v.debug("clearStateChar %j %j",n,i),n=!1}}for(var E,_=0,S=e.length;_<S&&(E=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,i,E),l&&a[E])i+="\\"+E,l=!1;else switch(E){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,i,E),p){this.debug("  in class"),"!"===E&&_===f+1&&(E="^"),i+=E;continue}v.debug("call clearStateChar %j",n),y(),n=E,r.noext&&y();continue;case"(":if(p){i+="(";continue}if(!n){i+="\\(";continue}u.push({type:n,start:_-1,reStart:i.length,open:s[n].open,close:s[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(p||!u.length){i+="\\)";continue}y(),c=!0;var P=u.pop();i+=P.close,"!"===P.type&&h.push(P),P.reEnd=i.length;continue;case"|":if(p||!u.length||l){i+="\\|",l=!1;continue}y(),i+="|";continue;case"[":if(y(),p){i+="\\"+E;continue}p=!0,f=_,g=i.length,i+=E;continue;case"]":if(_===f+1||!p){i+="\\"+E,l=!1;continue}if(p){var b=e.substring(f+1,_);try{RegExp("["+b+"]")}catch(e){var C=this.parse(b,d);i=i.substr(0,g)+"\\["+C[0]+"\\]",c=c||C[1],p=!1;continue}}c=!0,p=!1,i+=E;continue;default:y(),l?l=!1:!a[E]||"^"===E&&p||(i+="\\"),i+=E}p&&(b=e.substr(f+1),C=this.parse(b,d),i=i.substr(0,g)+"\\["+C[0],c=c||C[1]);for(P=u.pop();P;P=u.pop()){var w=i.slice(P.reStart+P.open.length);this.debug("setting tail",i,P),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",w,w,P,i);var R="*"===P.type?"[^/]*?":"?"===P.type?"[^/]":"\\"+P.type;c=!0,i=i.slice(0,P.reStart)+R+"\\("+w}y(),l&&(i+="\\\\");var A=!1;switch(i.charAt(0)){case".":case"[":case"(":A=!0}for(var T=h.length-1;T>-1;T--){var O=h[T],I=i.slice(0,O.reStart),N=i.slice(O.reStart,O.reEnd-8),k=i.slice(O.reEnd-8,O.reEnd),L=i.slice(O.reEnd);k+=L;var M=I.split("(").length-1,x=L;for(_=0;_<M;_++)x=x.replace(/\)[+*?]?/,"");var D="";""===(L=x)&&t!==d&&(D="$"),i=I+N+L+D+k}""!==i&&c&&(i="(?=.)"+i);A&&(i=m+i);if(t===d)return[i,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var F=r.nocase?"i":"";try{var j=new RegExp("^"+i+"$",F)}catch(e){return new RegExp("$.")}return j._glob=e,j._src=i,j};var d={};u.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===o?r:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp},u.match=function(e,t,r){var n=new h(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var o,i,s=this.set;for(this.debug(this.pattern,"set",s),i=e.length-1;i>=0&&!(o=e[i]);i--);for(i=0;i<s.length;i++){var a=s[i],l=e;if(r.matchBase&&1===a.length&&(l=[o]),this.matchOne(l,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,c=t.length;i<a&&s<c;i++,s++){this.debug("matchOne loop");var l,u=t[s],h=e[i];if(this.debug(t,u,h),!1===u)return!1;if(u===o){this.debug("GLOBSTAR",[t,u,h]);var p=i,d=s+1;if(d===c){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;p<a;){var g=e[p];if(this.debug("\nglobstar while",e,p,t,d,g),this.matchOne(e.slice(p),t.slice(d),r))return this.debug("globstar found match!",p,a,g),!0;if("."===g||".."===g||!n.dot&&"."===g.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof u?(l=n.nocase?h.toLowerCase()===u.toLowerCase():h===u,this.debug("string match",u,h,l)):(l=h.match(u),this.debug("pattern match",u,h,l)),!l)return!1}if(i===a&&s===c)return!0;if(i===a)return r;if(s===c)return i===a-1&&""===e[i];throw new Error("wtf?")}},function(e,t,r){"use strict";function n(e){return"/"===e.charAt(0)}function o(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?o:n,e.exports.posix=n,e.exports.win32=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeProjectHelper=void 0;const n=r(4),o=r(0),i=r(9);t.ReactNativeProjectHelper=class{static isReactNativeProject(e){return e&&n.existsSync(o.join(e,"package.json"))?i.ProjectVersionHelper.getReactNativeVersions(e).then(e=>!i.ProjectVersionHelper.isVersionError(e.reactNativeVersion)):Promise.resolve(!1)}static isHaulProject(e){const t=o.join(e,"package.json");if(!e||!n.existsSync(t))return!1;const r=JSON.parse(n.readFileSync(t,"utf-8"));return!!(r.devDependencies&&(r.devDependencies.haul||r.devDependencies["@haul-bundler/cli"]))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectsStorage=void 0;class n{static addFolder(e,t){this.projectsCache[e.toLowerCase()]=t}static getFolder(e){return this.projectsCache[e.uri.fsPath.toLowerCase()]}static delFolder(e){delete this.projectsCache[e.uri.fsPath.toLowerCase()]}}t.ProjectsStorage=n,n.projectsCache={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWDPHelper=void 0;const n=r(24),o=r(39),i=r(29),s=r(3),a=r(2);class c{constructor(){this.iOSWebkitDebugProxyProcess=null}startiOSWebkitDebugProxy(e,t,r){return new Promise((o,s)=>{this.cleanUp();let a=`null:${e},:${t}-${r}`;this.iOSWebkitDebugProxyProcess=i.spawn("ios_webkit_debug_proxy",["-c",a]),this.iOSWebkitDebugProxyProcess.on("error",e=>{s(new Error("Unable to start ios_webkit_debug_proxy: "+e))}),n.PromiseUtil.delay(250).then(()=>o())})}getSimulatorProxyPort(e){return o.Request.request(`http://localhost:${e.port}/json`,!0).then(t=>{try{let r=JSON.parse(t),n=r;e.target&&(n=r.filter(t=>{var r;return"device"===(null===(r=e.target)||void 0===r?void 0:r.toLowerCase())?"SIMULATOR"!==t.deviceId:"SIMULATOR"===t.deviceId}));let o=n[0];return Promise.resolve({targetPort:parseInt(o.url.split(":")[1],10),iOSVersion:o.deviceOSVersion})}catch(e){throw s.ErrorHelper.getInternalError(a.InternalErrorCode.IOSCouldNotFoundDeviceForDirectDebugging)}})}cleanUp(){this.iOSWebkitDebugProxyProcess&&(this.iOSWebkitDebugProxyProcess.kill(),this.iOSWebkitDebugProxyProcess=null)}}t.IWDPHelper=c,c.iOS_WEBKIT_DEBUG_PROXY_DEFAULT_PORT=9221},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConfigProvider=void 0;const n=r(179);t.BaseConfigProvider=class{constructor(){this.configurationProviderHelper=new n.ConfigurationProviderHelper}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectRoot=t.DebugSessionBase=t.DebugSessionStatus=void 0;const o=r(6),i=r(0),s=r(4),a=r(47),c=r(25),l=r(20),u=r(56),h=r(3),p=r(2),d=r(73),g=r(5),f=r(97),m=r(20),v=r(1);v.config({messageFormat:v.MessageFormat.bundle,bundleFormat:v.BundleFormat.standalone})(r(0).join(__dirname,"src\\debugger\\debugSessionBase.ts"));const y=v.loadMessageBundle(r(0).join(__dirname,"src\\debugger\\debugSessionBase.ts"));var E;!function(e){e[e.FirstConnection=0]="FirstConnection",e[e.FirstConnectionPending=1]="FirstConnectionPending",e[e.ConnectionAllowed=2]="ConnectionAllowed",e[e.ConnectionPending=3]="ConnectionPending",e[e.ConnectionDone=4]="ConnectionDone",e[e.ConnectionFailed=5]="ConnectionFailed"}(E=t.DebugSessionStatus||(t.DebugSessionStatus={}));class _ extends c.LoggingDebugSession{constructor(e){super(),this.pwaNodeSessionName="pwa-node",this.stopCommand="workbench.action.debug.stop",this.session=e,this.isSettingsInitialized=!1,this.debugSessionStatus=E.FirstConnection,this.cancellationTokenSource=new o.CancellationTokenSource}initializeRequest(e,t){e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportTerminateDebuggee=!0,e.body.supportsCancelRequest=!0,this.sendResponse(e)}initializeSettings(e){if(this.isSettingsInitialized)return Promise.resolve();{let t=l.getLoggingDirectory();t&&(t=i.join(t,"DebugSessionLogs.txt"));let r=e.trace;r?(r=r.replace(r[0],r[0].toUpperCase()),c.logger.setup(c.Logger.LogLevel[r],t||!1),this.cdpProxyLogLevel=m.LogLevel[r]===m.LogLevel.Verbose?m.LogLevel.Custom:m.LogLevel.None):(c.logger.setup(c.Logger.LogLevel.Log,t||!1),this.cdpProxyLogLevel=l.LogHelper.LOG_LEVEL===m.LogLevel.Trace?m.LogLevel.Custom:m.LogLevel.None),"boolean"!=typeof e.sourceMaps&&(e.sourceMaps=!0),"boolean"!=typeof e.enableDebug&&(e.enableDebug=!0);const n=S(e);return u.ReactNativeProjectHelper.isReactNativeProject(n).then(e=>{if(!e)throw h.ErrorHelper.getInternalError(p.InternalErrorCode.NotInReactNativeFolderError);this.projectRootPath=n,this.appLauncher=f.AppLauncher.getAppLauncherByProjectRootPath(n),this.isSettingsInitialized=!0})}}disconnectRequest(e,t,r){return n(this,void 0,void 0,(function*(){if(this.appLauncher&&(yield this.appLauncher.getRnCdpProxy().stopServer()),this.cancellationTokenSource.cancel(),this.cancellationTokenSource.dispose(),this.previousAttachArgs&&this.previousAttachArgs.platform===g.PlatformType.Android)try{this.appLauncher.getMobilePlatform().dispose()}catch(e){c.logger.warn(y(0,null,e.message||e))}yield c.logger.dispose(),_.rootSessionTerminatedEventEmitter.fire({debugSession:this.session,args:{forcedStop:!!t.forcedStop}}),this.sendResponse(e)}))}showError(e,t){(e instanceof d.InternalError||e instanceof d.NestedError)&&e.errorCode===p.InternalErrorCode.CancellationTokenTriggered||this.sendErrorResponse(t,{format:e.message,id:1},void 0,void 0,c.ErrorDestination.User)}}function S(e){const t=e.cwd?i.resolve(e.cwd):i.resolve(e.program,"../.."),r=i.resolve(t,".vscode/settings.json");try{let e=s.readFileSync(r,"utf8");e=a(e);let n=JSON.parse(e),o=n["react-native-tools.projectRoot"]||n["react-native-tools"].projectRoot;return i.resolve(t,o)}catch(t){return c.logger.verbose(r+" file doesn't exist or its content is incorrect. This file will be ignored."),e.cwd?i.resolve(e.cwd):i.resolve(e.program,"../..")}}t.DebugSessionBase=_,_.rootSessionTerminatedEventEmitter=new o.EventEmitter,_.onDidTerminateRootDebugSession=_.rootSessionTerminatedEventEmitter.event,t.getProjectRoot=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(183),o=r(62),i=r(63),s=r(11);t.Source=class{constructor(e,t,r=0,n,o){this.name=e,this.path=t,this.sourceReference=r,n&&(this.origin=n),o&&(this.adapterData=o)}};t.Scope=class{constructor(e,t,r=!1){this.name=e,this.variablesReference=t,this.expensive=r}};t.StackFrame=class{constructor(e,t,r,n=0,o=0){this.id=e,this.source=r,this.line=n,this.column=o,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,r=0,n,o){this.name=e,this.value=t,this.variablesReference=r,"number"==typeof o&&(this.namedVariables=o),"number"==typeof n&&(this.indexedVariables=n)}};t.Breakpoint=class{constructor(e,t,r,n){this.verified=e;const o=this;"number"==typeof t&&(o.line=t),"number"==typeof r&&(o.column=r),n&&(o.source=n)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,r=0){this.label=e,this.start=t,this.length=r}};class a extends o.Event{constructor(e,t,r){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof r&&(this.body.text=r)}}t.StoppedEvent=a;class c extends o.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class l extends o.Event{constructor(){super("initialized")}}t.InitializedEvent=l;class u extends o.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=u;class h extends o.Event{constructor(e,t="console",r){super("output"),this.body={category:t,output:e},void 0!==r&&(this.body.data=r)}}t.OutputEvent=h;class p extends o.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=p;class d extends o.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=d;class g extends o.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=g;class f extends o.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=f;class m extends o.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=m;class v extends o.Event{constructor(e,t,r){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof r&&(this.body.message=r)}}t.ProgressStartEvent=v;class y extends o.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=y;class E extends o.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}var _;t.ProgressEndEvent=E,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(_=t.ErrorDestination||(t.ErrorDestination={}));class S extends n.ProtocolServer{constructor(e,t){super();const r="boolean"==typeof e&&e;this._debuggerLinesStartAt1=r,this._debuggerColumnsStartAt1=r,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){let t=0;if(process.argv.slice(2).forEach((function(e,r,n){const o=/^--server=(\d{4,5})$/.exec(e);o&&(t=parseInt(o[1],10))})),t>0)console.error("waiting for debug protocol on port "+t),i.createServer(t=>{console.error(">> accepted connection from client"),t.on("end",()=>{console.error(">> client connection closed\n")});const r=new e(!1,!0);r.setRunAsServer(!0),r.start(t,t)}).listen(t);else{const t=new e(!1);process.on("SIGTERM",()=>{t.shutdown()}),t.start(process.stdin,process.stdout)}}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,r,n,o=_.User){let i;"number"==typeof t?(i={id:t,format:r},n&&(i.variables=n),o&_.User&&(i.showUser=!0),o&_.Telemetry&&(i.sendTelemetry=!0)):i=t,e.success=!1,e.message=S.formatPII(i.format,!0,i.variables),e.body||(e.body={}),e.body.error=i,this.sendResponse(e)}runInTerminalRequest(e,t,r){this.sendRequest("runInTerminal",e,t,r)}dispatchRequest(e){const t=new o.Response(e);try{if("initialize"===e.command){var r=e.arguments;if("boolean"==typeof r.linesStartAt1&&(this._clientLinesStartAt1=r.linesStartAt1),"boolean"==typeof r.columnsStartAt1&&(this._clientColumnsStartAt1=r.columnsStartAt1),"path"!==r.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,_.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,r)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},_.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,this.sendResponse(e)}disconnectRequest(e,t,r){this.sendResponse(e),this.shutdown()}launchRequest(e,t,r){this.sendResponse(e)}attachRequest(e,t,r){this.sendResponse(e)}terminateRequest(e,t,r){this.sendResponse(e)}restartRequest(e,t,r){this.sendResponse(e)}setBreakPointsRequest(e,t,r){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,r){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,r){this.sendResponse(e)}configurationDoneRequest(e,t,r){this.sendResponse(e)}continueRequest(e,t,r){this.sendResponse(e)}nextRequest(e,t,r){this.sendResponse(e)}stepInRequest(e,t,r){this.sendResponse(e)}stepOutRequest(e,t,r){this.sendResponse(e)}stepBackRequest(e,t,r){this.sendResponse(e)}reverseContinueRequest(e,t,r){this.sendResponse(e)}restartFrameRequest(e,t,r){this.sendResponse(e)}gotoRequest(e,t,r){this.sendResponse(e)}pauseRequest(e,t,r){this.sendResponse(e)}sourceRequest(e,t,r){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,r){this.sendResponse(e)}stackTraceRequest(e,t,r){this.sendResponse(e)}scopesRequest(e,t,r){this.sendResponse(e)}variablesRequest(e,t,r){this.sendResponse(e)}setVariableRequest(e,t,r){this.sendResponse(e)}setExpressionRequest(e,t,r){this.sendResponse(e)}evaluateRequest(e,t,r){this.sendResponse(e)}stepInTargetsRequest(e,t,r){this.sendResponse(e)}gotoTargetsRequest(e,t,r){this.sendResponse(e)}completionsRequest(e,t,r){this.sendResponse(e)}exceptionInfoRequest(e,t,r){this.sendResponse(e)}loadedSourcesRequest(e,t,r){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,r){this.sendResponse(e)}setDataBreakpointsRequest(e,t,r){this.sendResponse(e)}readMemoryRequest(e,t,r){this.sendResponse(e)}disassembleRequest(e,t,r){this.sendResponse(e)}cancelRequest(e,t,r){this.sendResponse(e)}breakpointLocationsRequest(e,t,r){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,r){this.sendResponse(e)}customRequest(e,t,r,n){this.sendErrorResponse(t,1014,"unrecognized request",null,_.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?S.uri2path(e):S.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?S.uri2path(e):S.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new s.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new s.URL(e),r=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(r)&&(r=r[1].toLowerCase()+r.substr(2)),r=r.replace(/\//g,"\\")),r}static formatPII(e,t,r){return e.replace(S._formatPIIRegexp,(function(e,n){return t&&n.length>0&&"_"!==n[0]?e:r[n]&&r.hasOwnProperty(n)?r[n]:e}))}}S._formatPIIRegexp=/{([^}]+)}/g,t.DebugSession=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.seq=0,this.type=e}}t.Message=n;t.Response=class extends n{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends n{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";const n=r(99);n.createWebSocketStream=r(196),n.Server=r(197),n.Receiver=r(100),n.Sender=r(102),e.exports=n},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=66},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CDP_API_NAMES=void 0,t.CDP_API_NAMES={DEBUGGER_SET_BREAKPOINT:"Debugger.setBreakpoint",RUNTIME_CALL_FUNCTION_ON:"Runtime.callFunctionOn",DEBUGGER_PAUSED:"Debugger.paused",RUNTIME_ENABLE:"Runtime.enable",CONSOLE_MESSAGE_ADDED:"Console.messageAdded",RUNTIME_CONSOLE_API_CALLED:"Runtime.consoleAPICalled",CLOSE:"close"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCDPMessageHandler=void 0;t.BaseCDPMessageHandler=class{processDebuggerCDPMessage(e){return{event:e,sendBack:!1}}processApplicationCDPMessage(e){return{event:e,sendBack:!1}}setDebuggerTarget(e){this.debuggerTarget=e}setApplicationTarget(e){this.applicationTarget=e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Event",(function(){return i})),r.d(t,"EventEmitter",(function(){return a})),r.d(t,"CompositeBackoff",(function(){return l})),r.d(t,"ConstantBackoff",(function(){return u})),r.d(t,"NeverRetryBackoff",(function(){return h})),r.d(t,"DelegateBackoff",(function(){return p})),r.d(t,"ExponentialBackoff",(function(){return y})),r.d(t,"noJitterGenerator",(function(){return d})),r.d(t,"fullJitterGenerator",(function(){return g})),r.d(t,"halfJitterGenerator",(function(){return f})),r.d(t,"decorrelatedJitterGenerator",(function(){return m})),r.d(t,"IterableBackoff",(function(){return E})),r.d(t,"SamplingBreaker",(function(){return R})),r.d(t,"ConsecutiveBreaker",(function(){return A})),r.d(t,"BulkheadPolicy",(function(){return O})),r.d(t,"CancellationTokenSource",(function(){return I})),r.d(t,"CancellationToken",(function(){return N})),r.d(t,"CircuitState",(function(){return C})),r.d(t,"CircuitBreakerPolicy",(function(){return w})),r.d(t,"BrokenCircuitError",(function(){return P})),r.d(t,"BulkheadRejectedError",(function(){return T})),r.d(t,"IsolatedCircuitError",(function(){return b})),r.d(t,"TaskCancelledError",(function(){return n})),r.d(t,"FallbackPolicy",(function(){return k})),r.d(t,"Policy",(function(){return B})),r.d(t,"RetryPolicy",(function(){return M})),r.d(t,"TimeoutStrategy",(function(){return x})),r.d(t,"TimeoutPolicy",(function(){return D}));class n extends Error{constructor(e="Operation cancelled"){super(e),this.message=e}}const o={dispose:()=>{}};var i,s;(s=i||(i={})).once=(e,t)=>{let r,n=!1;return r=e(e=>{t(e),r?r.dispose():n=!0}),n?(r.dispose(),o):r},s.toPromise=(e,t)=>t?t.isCancellationRequested?Promise.reject(new n):new Promise((r,o)=>{const i=s.once(t.onCancellationRequested,()=>{a.dispose(),o(new n)}),a=s.once(e,e=>{i.dispose(),r(e)})}):new Promise(t=>s.once(e,t));class a{constructor(){this.listeners=new Set,this.addListener=e=>this.addListenerInner(e)}emit(e){for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners.add(e),{dispose:()=>this.listeners.delete(e)}}}class c extends a{constructor(){super(...arguments),this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e};for(const t of this.listeners)t(e)}}class l{constructor(e,t,r){this.bias=e,this.backoffA=t,this.backoffB=r}duration(){switch(this.bias){case"a":return this.backoffA.duration();case"b":return this.backoffB.duration();case"max":return Math.max(this.backoffB.duration(),this.backoffA.duration());case"min":return Math.min(this.backoffB.duration(),this.backoffA.duration());default:throw new Error(`Unknown bias "${this.bias}" given to CompositeBackoff`)}}next(e){const t=this.backoffA.next(e),r=this.backoffB.next(e);return t&&r&&new l(this.bias,t,r)}}class u{constructor(e,t){this.interval=e,this.limit=t,this.index=0}duration(){return this.interval}next(){if(void 0===this.limit)return this;if(this.index>=this.limit-1)return;const e=new u(this.interval,this.limit);return e.index=this.index+1,e}}const h=new u(0,0);class p{constructor(e,t){this.fn=e,this.state=t,this.current=0}duration(){return this.current}next(e){const t=this.fn(e,this.state);if(void 0===t)return;let r;return"number"==typeof t?(r=new p(this.fn,this.state),r.current=t):(r=new p(this.fn,t.state),r.current=t.delay),r}}const d=(e=0,t)=>[Math.min(t.maxDelay,t.initialDelay*2**e),e+1],g=(e,t)=>{const[r,n]=d(e,t);return[Math.floor(Math.random()*r),n]},f=(e,t)=>{const[r,n]=d(e,t);return[Math.floor((r+Math.random()*r)/2),n]},m=(e,t)=>{const[r,n]=e||[0,0],o=r+Math.random(),i=Math.pow(t.exponent,o)*Math.tanh(Math.sqrt(4*o)),s=Math.max(0,i-n);return[Math.min(s*(1/1.4)*t.initialDelay,t.maxDelay),[r+1,i]]},v={generator:m,maxDelay:3e4,maxAttempts:1/0,exponent:2,initialDelay:128};class y{constructor(e){this.attempt=0,this.delay=0,this.options=e?{...v,...e}:v}duration(){return this.delay}next(){if(this.attempt>=this.options.maxAttempts-1)return;const e=new y(this.options);return[e.delay,e.state]=this.options.generator(this.state,this.options),e.attempt=this.attempt+1,e}}class E{constructor(e,t=0){if(this.durations=e,this.index=t,t>=e.length)throw new RangeError(`IterableBackoff index 0 >= number of durations (${e.length})`)}duration(){return this.durations[this.index]}next(){return this.index<this.durations.length-1?new E(this.durations,this.index+1):void 0}}const _=e=>{if("error"in e)throw e.error;return"success"in e?e.success:e.value},S=async(e,t,...r)=>{try{const n=await t(...r);return e.resultFilter(n)?{value:n}:{success:n}}catch(t){if(!e.errorFilter(t))throw t;return{error:t}}};class P extends Error{constructor(e="Execution prevented because the circuit breaker is open"){super(e)}}class b extends P{constructor(){super("Execution prevented because the circuit breaker is open")}}var C;!function(e){e[e.Closed=0]="Closed",e[e.Open=1]="Open",e[e.HalfOpen=2]="HalfOpen",e[e.Isolated=3]="Isolated"}(C||(C={}));class w{constructor(e){this.options=e,this.breakEmitter=new a,this.resetEmitter=new a,this.innerState={value:C.Closed},this.onBreak=this.breakEmitter.addListener,this.onReset=this.resetEmitter.addListener}get state(){return this.innerState.value}get lastFailure(){return this.innerLastFailure}isolate(){this.innerState.value!==C.Isolated&&(this.innerState={value:C.Isolated,counters:0},this.breakEmitter.emit({isolated:!0})),this.innerState.counters++;let e=!1;return{dispose:()=>{e||(e=!0,this.innerState.value!==C.Isolated||--this.innerState.counters||(this.innerState={value:C.Closed},this.resetEmitter.emit()))}}}async execute(e){const t=this.innerState;switch(t.value){case C.Closed:const r=await S(this.options,e);return"success"in r?this.options.breaker.success(t.value):(this.innerLastFailure=r,this.options.breaker.failure(t.value)&&this.open(r)),_(r);case C.HalfOpen:return await t.test.catch(()=>{}),this.execute(e);case C.Open:if(Date.now()-t.openedAt<this.options.halfOpenAfter)throw new P;const n=this.halfOpen(e);return this.innerState={value:C.HalfOpen,test:n},n;case C.Isolated:throw new b;default:throw new Error("Unexpected circuit state "+t)}}async halfOpen(e){try{const t=await S(this.options,e);return"success"in t?(this.options.breaker.success(C.HalfOpen),this.close()):(this.innerLastFailure=t,this.options.breaker.failure(C.HalfOpen),this.open(t)),_(t)}catch(e){throw this.close(),e}}open(e){this.state!==C.Isolated&&this.state!==C.Open&&(this.innerState={value:C.Open,openedAt:Date.now()},this.breakEmitter.emit(e))}close(){this.state===C.HalfOpen&&(this.innerState={value:C.Closed},this.resetEmitter.emit())}}class R{constructor({threshold:e,duration:t,minimumRps:r}){if(this.windows=[],this.currentWindow=0,this.currentFailures=0,this.currentSuccesses=0,e<=0||e>=1)throw new RangeError("SamplingBreaker threshold should be between (0, 1), got "+e);this.threshold=e;const n=Math.max(5,Math.ceil(t/1e3));for(let e=0;e<n;e++)this.windows.push({startedAt:0,failures:0,successes:0});this.windowSize=Math.round(t/n),this.duration=this.windowSize*n,this.minimumRpms=r?r/1e3:5/(1e3*e)}success(e){e===C.HalfOpen&&this.resetWindows(),this.push(!0)}failure(e){if(this.push(!1),e!==C.Closed)return!0;const t=this.currentSuccesses+this.currentFailures;return!(t<this.duration*this.minimumRpms)&&this.currentFailures>this.threshold*t}resetWindows(){this.currentFailures=0,this.currentSuccesses=0;for(const e of this.windows)e.failures=0,e.successes=0,e.startedAt=0}rotateWindow(e){const t=(this.currentWindow+1)%this.windows.length;this.currentFailures-=this.windows[t].failures,this.currentSuccesses-=this.windows[t].successes;const r=this.windows[t]={failures:0,successes:0,startedAt:e};return this.currentWindow=t,r}push(e){const t=Date.now();let r=this.windows[this.currentWindow];t-r.startedAt>=this.windowSize&&(r=this.rotateWindow(t)),e?(r.successes++,this.currentSuccesses++):(r.failures++,this.currentFailures++)}}class A{constructor(e){this.threshold=e,this.count=0}success(){this.count=0}failure(){return++this.count>=this.threshold}}class T extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`)}}class O{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new a,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e){if(this.active<this.capacity){this.active++;try{return await e()}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:t,reject:r,promise:n}=(()=>{let e,t;const r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}})();return this.queue.push({fn:e,resolve:t,reject:r}),n}throw this.onRejectEmitter.emit(),new T(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();e&&Promise.resolve().then(()=>this.execute(e.fn)).then(e.resolve).catch(e.reject)}}class I{constructor(e){this.onCancel=new c,this.token=new N(this.onCancel.addListener),e&&(this.parentListener=e.onCancellationRequested(()=>this.cancel()))}cancel(){this.parentListener&&(this.parentListener.dispose(),this.parentListener=void 0),this.onCancel.hasEmitted||this.onCancel.emit()}}class N{constructor(e){this.onCancellationRequested=e,this.isRequested=!1,i.once(e,()=>this.isRequested=!0)}get isCancellationRequested(){return this.isRequested}cancellation(e){return i.toPromise(this.onCancellationRequested,e)}}N.None=new N(()=>o),N.Cancelled=new N(e=>(e(void 0),o));class k{constructor(e,t){this.options=e,this.value=t,this.fallbackEmitter=new a,this.onFallback=this.fallbackEmitter.addListener}async execute(e){const t=await S(this.options,e);return"success"in t?t.success:(this.fallbackEmitter.emit(t),this.value())}}const L=(e,t)=>new Promise(r=>{const n=setTimeout(r,e);t&&n.unref()});class M{constructor(e){this.options=e,this.onRetryEmitter=new a,this.onGiveUpEmitter=new a,this.onRetry=this.onRetryEmitter.addListener,this.onGiveUp=this.onGiveUpEmitter.addListener}attempts(e){return this.composeBackoff("a",new u(1,e))}delay(e){return this.composeBackoff("b","number"==typeof e?new u(e):new E(e))}delegate(e){return this.composeBackoff("b",new p(e))}exponential(e){return this.composeBackoff("b",new y(e))}backoff(e){return this.composeBackoff("b",e)}dangerouslyUnref(){return this.derivePolicy({...this.options,unref:!0})}async execute(e){let t=this.options.backoff||new u(0,1);for(let r=0;;r++){const n=await S(this.options,e,{attempt:r});if("success"in n)return n.success;if(!t){if(this.onGiveUpEmitter.emit(n),"error"in n)throw n.error;return n.value}{const e=t.duration(),o=L(e,!!this.options.unref);this.onRetryEmitter.emit({...n,delay:e}),await o,t=t.next({attempt:r+1,result:n})}}}composeBackoff(e,t){return this.options.backoff&&(t=new l(e,this.options.backoff,t)),this.derivePolicy({...this.options,backoff:t})}derivePolicy(e){const t=new M(e);return t.onGiveUp(e=>this.onGiveUpEmitter.emit(e)),t.onRetry(e=>this.onRetryEmitter.emit(e)),t}}var x;!function(e){e.Cooperative="optimistic",e.Aggressive="aggressive"}(x||(x={}));class D{constructor(e,t,r=!1){this.duration=e,this.strategy=t,this.unref=r,this.timeoutEmitter=new a,this.onTimeout=this.timeoutEmitter.addListener}dangerouslyUnref(){const e=new D(this.duration,this.strategy,!0);return e.onTimeout(()=>this.timeoutEmitter.emit()),e}async execute(e){const t=new I,r=setTimeout(()=>t.cancel(),this.duration);this.unref&&r.unref();try{return this.strategy===x.Cooperative?await e({cancellation:t.token}):await Promise.race([e({cancellation:t.token}),t.token.cancellation(t.token).then(()=>{throw new n(`Operation timed out after ${this.duration}ms`)})])}finally{t.cancel(),clearTimeout(r)}}}const F=(e,t)=>t?r=>r instanceof e&&t(r):t=>t instanceof e,j=()=>!0,U=()=>!1;class B{constructor(e){this.options=e}static wrap(...e){return{execute(t){const r=(n,o)=>o===e.length?t(n):e[o].execute(e=>r({...n,...e},o+1));return Promise.resolve(r({},0))}}}static bulkhead(e,t=0){return new O(e,t)}static handleAll(){return new B({errorFilter:j,resultFilter:U})}static handleType(e,t){return new B({errorFilter:F(e,t),resultFilter:U})}static handleWhen(e){return new B({errorFilter:e,resultFilter:U})}static handleResultType(e,t){return new B({errorFilter:U,resultFilter:F(e,t)})}static handleWhenResult(e){return new B({errorFilter:U,resultFilter:e})}static timeout(e,t){return new D(e,t)}static use(e){return(t,r,n)=>{const o=n.value;if("function"!=typeof o)throw new Error("Can only decorate functions with @cockatiel, got "+typeof o);n.value=function(...t){return e.execute(e=>o.apply(this,[...t,e]))}}}orType(e,t){const r=F(e,t);return new B({...this.options,errorFilter:e=>this.options.errorFilter(e)||r(e)})}orWhen(e){return new B({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new B({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const r=F(e,t);return new B({...this.options,resultFilter:e=>this.options.resultFilter(e)||r(e)})}retry(){return new M({errorFilter:this.options.errorFilter,resultFilter:this.options.resultFilter})}circuitBreaker(e,t){return new w({...this.options,breaker:t,halfOpenAfter:e})}fallback(e){return new k(this.options,"function"==typeof e?e:()=>e)}}B.noop={execute:async e=>e(void 0)}},function(e,t,r){var n=r(71),o=r(27),i=r(72).ArraySet,s=r(120).MappingList;function a(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=o.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&r.setSourceContent(t,n)})),r},a.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),r=o.getArg(e,"original",null),n=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},a.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=o.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var s=this._sourceRoot;null!=s&&(n=o.relative(s,n));var a=new i,c=new i;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=r&&(t.source=o.join(r,t.source)),null!=s&&(t.source=o.relative(s,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var l=t.source;null==l||a.has(l)||a.add(l);var u=t.name;null==u||c.has(u)||c.add(u)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=o.join(r,t)),null!=s&&(t=o.relative(s,t)),this.setSourceContent(t,n))}),this)},a.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},a.prototype._serializeMappings=function(){for(var e,t,r,i,s=0,a=1,c=0,l=0,u=0,h=0,p="",d=this._mappings.toArray(),g=0,f=d.length;g<f;g++){if(e="",(t=d[g]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(g>0){if(!o.compareByGeneratedPositionsInflated(t,d[g-1]))continue;e+=","}e+=n.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=n.encode(i-h),h=i,e+=n.encode(t.originalLine-1-l),l=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-u),u=r)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var r=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,r){var n=r(119);t.encode=function(e){var t,r="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),r+=n.encode(t)}while(o>0);return r},t.decode=function(e,t,r){var o,i,s,a,c=e.length,l=0,u=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&i),l+=(i&=31)<<u,u+=5}while(o);r.value=(a=(s=l)>>1,1==(1&s)?-a:a),r.rest=t}},function(e,t,r){var n=r(27),o=Object.prototype.hasOwnProperty,i="undefined"!=typeof Map;function s(){this._array=[],this._set=i?new Map:Object.create(null)}s.fromArray=function(e,t){for(var r=new s,n=0,o=e.length;n<o;n++)r.add(e[n],t);return r},s.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var r=i?e:n.toSetString(e),s=i?this.has(e):o.call(this._set,r),a=this._array.length;s&&!t||this._array.push(e),s||(i?this._set.set(e,a):this._set[r]=a)},s.prototype.has=function(e){if(i)return this._set.has(e);var t=n.toSetString(e);return o.call(this._set,t)},s.prototype.indexOf=function(e){if(i){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(o.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.ArraySet=s},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NestedError=t.InternalError=t.InternalErrorLevel=void 0,function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning"}(n=t.InternalErrorLevel||(t.InternalErrorLevel={}));class o extends Error{constructor(e,t,r=n.Error){super(t),this.errorCode=e,this.errorLevel=r,this.message=e>0?t+` (error code ${this.errorCode})`:t}get isInternalError(){return!0}}t.InternalError=o;class i extends o{constructor(e,t,r=null,o,i=n.Error){super(e,t,i),this.innerError=r,this.name=r?r.name:null;const s=r?r.message:null;this.message=s?`${t}: ${s}`:t,this._extras=o}get extras(){return this._extras}static getWrappedError(e,t){return new i(t.errorCode||e.errorCode,e.message,t)}}t.NestedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;const n=r(19),o=r(15);!function(e){e.ChildProcess=n.ChildProcess,e.FileSystem=o.FileSystem}(t.Node||(t.Node={}))},function(e,t,r){const n=r(130),o=r(131),{mkdirpNative:i,mkdirpNativeSync:s}=r(132),{mkdirpManual:a,mkdirpManualSync:c}=r(76),{useNative:l,useNativeSync:u}=r(134),h=(e,t)=>(e=o(e),t=n(t),l(t)?i(e,t):a(e,t));h.sync=(e,t)=>(e=o(e),t=n(t),u(t)?s(e,t):c(e,t)),h.native=(e,t)=>i(o(e),n(t)),h.manual=(e,t)=>a(o(e),n(t)),h.nativeSync=(e,t)=>s(o(e),n(t)),h.manualSync=(e,t)=>c(o(e),n(t)),e.exports=h},function(e,t,r){const{dirname:n}=r(0),o=(e,t,r)=>{t.recursive=!1;const i=n(e);return i===e?t.mkdirAsync(e,t).catch(e=>{if("EISDIR"!==e.code)throw e}):t.mkdirAsync(e,t).then(()=>r||e,n=>{if("ENOENT"===n.code)return o(i,t).then(r=>o(e,t,r));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;return t.statAsync(e).then(e=>{if(e.isDirectory())return r;throw n},()=>{throw n})})},i=(e,t,r)=>{const o=n(e);if(t.recursive=!1,o===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),r||e}catch(n){if("ENOENT"===n.code)return i(e,t,i(o,t,r));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;try{if(!t.statSync(e).isDirectory())throw n}catch(e){throw n}}};e.exports={mkdirpManual:o,mkdirpManualSync:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExponentHelper=void 0;const n=r(0),o=r(35),i=r(36),s=r(9),a=r(8),c=r(47),l=r(1),u=r(3),h=r(2),p=r(15);l.config({messageFormat:l.MessageFormat.bundle,bundleFormat:l.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\exponent\\exponentHelper.ts"));const d=l.loadMessageBundle(r(0).join(__dirname,"src\\extension\\exponent\\exponentHelper.ts")),g=/\\/g;t.ExponentHelper=class{constructor(e,t,r=new p.FileSystem){this.logger=a.OutputChannelLogger.getMainChannel(),this.workspaceRootPath=e,this.projectRootPath=t,this.fs=r,this.hasInitialized=!1}configureExponentEnvironment(){let e;return this.lazilyInitialize(),this.logger.info(d(0,null)),this.logger.logStream(d(1,null)),this.isExpoApp(!0).then(t=>{if(e=t,!e)return this.appHasExpoInstalled().then(e=>{e||(this.logger.logStream("\n"),this.logger.logStream(d(2,null)),this.logger.logStream("\n"))})}).then(()=>(this.logger.logStream(".\n"),this.patchAppJson(e)))}loginToExponent(e,t){return this.lazilyInitialize(),o.currentUser().then(r=>{if(!r){let r="";return t(d(3,null)).then(()=>e(d(4,null),!1)).then(t=>(r=t,e(d(5,null),!0))).then(e=>o.login(r,e))}return r}).catch(e=>Promise.reject(e))}getExpPackagerOptions(){return this.lazilyInitialize(),this.getFromExpConfig("packagerOpts").then(e=>e||{})}appHasExpoInstalled(){return this.getAppPackageInformation().then(e=>e.dependencies&&e.dependencies.expo?(this.logger.debug("'expo' package is found in 'dependencies' section of package.json"),!0):!(!e.devDependencies||!e.devDependencies.expo)&&(this.logger.debug("'expo' package is found in 'devDependencies' section of package.json"),!0))}appHasExpoRNSDKInstalled(){return this.getAppPackageInformation().then(e=>{const t=e.dependencies&&e.dependencies["react-native"];return!(!t||(this.logger.debug(`'react-native' package with value '${t}' is found in 'dependencies' section of package.json`),!t.startsWith("https://github.com/expo/react-native/archive/sdk")))})}isExpoApp(e=!1){return e&&this.logger.logStream("..."),Promise.all([this.appHasExpoInstalled(),this.appHasExpoRNSDKInstalled()]).then(([t,r])=>(e&&this.logger.logStream("."),t&&r)).catch(t=>(this.logger.error(t.message,t,t.stack),e&&this.logger.logStream("."),!1))}dotvscodePath(e,t){let r=[".vscode",e];return t&&(r=[this.workspaceRootPath].concat(...r)),n.join(...r)}createExpoEntry(e){return this.lazilyInitialize(),this.detectEntry().then(t=>{const r=this.generateFileContent(e,t);return this.fs.writeFile(this.dotvscodePath("exponentIndex.js",!0),r)})}detectEntry(){return this.lazilyInitialize(),Promise.all([this.fs.exists(this.pathToFileInWorkspace("index.js")),this.fs.exists(this.pathToFileInWorkspace("index.ios.js")),this.fs.exists(this.pathToFileInWorkspace("index.android.js"))]).then(([e,t])=>e?this.pathToFileInWorkspace("index.js"):t?this.pathToFileInWorkspace("index.ios.js"):this.pathToFileInWorkspace("index.android.js"))}generateFileContent(e,t){return`// This file is automatically generated by VS Code\n// Please do not modify it manually. All changes will be lost.\nvar React = require('${this.pathToFileInWorkspace("/node_modules/react")}');\nvar { Component } = React;\nvar ReactNative = require('${this.pathToFileInWorkspace("/node_modules/react-native")}');\nvar { AppRegistry } = ReactNative;\nAppRegistry.registerRunnable('main', function(appParameters) {\n    AppRegistry.runApplication('${e}', appParameters);\n});\nvar entryPoint = require('${t}');`}patchAppJson(e=!0){return this.readAppJson().catch(()=>({})).then(e=>{let t=e.expo||{};return t.name&&t.slug?e:this.getPackageName().then(r=>(t.slug=t.slug||e.name||r.replace(" ","-"),t.name=t.name||e.name||r,e.expo=t,e))}).then(e=>e.name?e:this.getPackageName().then(t=>(e.name=t,e))).then(e=>e.expo.sdkVersion?e:this.exponentSdk(!0).then(t=>(e.expo.sdkVersion=t,e))).then(t=>(e||(t.expo.entryPoint=this.dotvscodePath("exponentIndex.js",!1)),t)).then(e=>e?this.writeAppJson(e):e).then(t=>e?Promise.resolve():this.createExpoEntry(t.expo.name))}exponentSdk(e=!1){return e&&this.logger.logStream("..."),s.ProjectVersionHelper.getReactNativeVersions(this.projectRootPath).then(t=>(e&&this.logger.logStream("."),o.mapVersion(t.reactNativeVersion).then(e=>e||o.supportedVersions().then(e=>Promise.reject(u.ErrorHelper.getInternalError(h.InternalErrorCode.RNVersionNotSupportedByExponent,e.join(", ")))))))}getPackageName(){return new i.Package(this.projectRootPath,{fileSystem:this.fs}).name()}getExpConfig(){return this.readExpJson().catch(e=>"ENOENT"===e.code?this.readAppJson().then(e=>e.expo||{}):e)}getFromExpConfig(e){return this.getExpConfig().then(t=>t[e])}readExpJson(){const e=this.pathToFileInWorkspace("exp.json");return this.fs.readFile(e).then(e=>JSON.parse(c(e.toString())))}readAppJson(){const e=this.pathToFileInWorkspace("app.json");return this.fs.readFile(e).then(e=>JSON.parse(c(e.toString())))}writeAppJson(e){const t=this.pathToFileInWorkspace("app.json");return this.fs.writeFile(t,JSON.stringify(e,null,2)).then(()=>e)}getAppPackageInformation(){return new i.Package(this.projectRootPath,{fileSystem:this.fs}).parsePackageInformation()}pathToFileInWorkspace(e){return n.join(this.projectRootPath,e).replace(g,"/")}lazilyInitialize(){this.hasInitialized||(this.hasInitialized=!0,o.configReactNativeVersionWargnings(),o.attachLoggerStream(this.projectRootPath,{stream:{write:e=>{e.level<=30?this.logger.logStream(e.msg):40===e.level?this.logger.warning(e.msg):this.logger.error(e.msg)}},type:"raw"}))}}},function(module,exports,__webpack_require__){"use strict";let customRequire;Object.defineProperty(exports,"__esModule",{value:!0});try{customRequire="function"===global.__non_webpack_require__?global.__non_webpack_require__:eval("require")}catch(e){customRequire=()=>{}}exports.default=customRequire},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidPlatform=void 0;const n=r(10),o=r(17),i=r(5),s=r(80),a=r(36),c=r(136),l=r(40),u=r(7),h=r(13),p=r(84),d=r(1),g=r(2),f=r(3),m=r(14),v=r(24),y=r(86),E=r(52);d.config({messageFormat:d.MessageFormat.bundle,bundleFormat:d.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\android\\androidPlatform.ts"));const _=d.loadMessageBundle(r(0).join(__dirname,"src\\extension\\android\\androidPlatform.ts"));class S extends o.GeneralMobilePlatform{constructor(e,t={}){super(e,t),this.runOptions=e,this.logCatMonitor=null,this.needsToLaunchApps=!1,this.adbHelper=new s.AdbHelper(this.runOptions.projectRoot,this.logger),this.emulatorManager=new y.AndroidEmulatorManager(this.adbHelper)}showDevMenu(e){return this.adbHelper.showDevMenu(e)}reloadApp(e){return this.adbHelper.reloadApp(e)}setAdbHelper(e){this.adbHelper=e}resolveVirtualDevice(e){return e.includes("device")?Promise.resolve(null):this.emulatorManager.startEmulator(e).then(e=>(e&&o.GeneralMobilePlatform.setRunArgument(this.runArguments,"--deviceId",e.id),e))}runApp(e=!1){let t={platform:{value:i.PlatformType.Android,isPii:!1}};return this.runOptions.isDirect&&(t.isDirect={value:!0,isPii:!1}),t=u.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(this.runOptions,this.runOptions.reactNativeVersions,t),u.TelemetryHelper.generate("AndroidPlatform.runApp",t,()=>{const t=o.GeneralMobilePlatform.getEnvArgument(process.env,this.runOptions.env,this.runOptions.envFile);n.valid(this.runOptions.reactNativeVersions.reactNativeVersion)&&!n.gte(this.runOptions.reactNativeVersions.reactNativeVersion,S.NO_PACKAGER_VERSION)||this.runArguments.push("--no-packager");let r=o.GeneralMobilePlatform.getOptFromRunArgs(this.runArguments,"--main-activity");r?this.adbHelper.setLaunchActivity(r):m.isNullOrUndefined(this.runOptions.debugLaunchActivity)||(this.runArguments.push("--main-activity",this.runOptions.debugLaunchActivity),this.adbHelper.setLaunchActivity(this.runOptions.debugLaunchActivity));const s=new h.CommandExecutor(this.projectPath,this.logger).spawnReactCommand("run-android",this.runArguments,{env:t});return new l.OutputVerifier(()=>Promise.resolve(S.RUN_ANDROID_SUCCESS_PATTERNS),()=>Promise.resolve(S.RUN_ANDROID_FAILURE_PATTERNS),i.PlatformType.Android).process(s).finally(()=>this.initializeTargetDevicesAndPackageName()).then(()=>[this.debugTarget],t=>t.message===f.ErrorHelper.getInternalError(g.InternalErrorCode.AndroidMoreThanOneDeviceOrEmulator).message&&this.devices.length>1&&this.debugTarget?(this.needsToLaunchApps=!0,e?this.adbHelper.getOnlineDevices():Promise.resolve([this.debugTarget])):Promise.reject(t)).then(e=>(new v.PromiseUtil).forEach(e,e=>this.launchAppWithADBReverseAndLogCat(e)))})}enableJSDebuggingMode(){return this.adbHelper.switchDebugMode(this.runOptions.projectRoot,this.packageName,!0,this.debugTarget.id)}disableJSDebuggingMode(){return this.adbHelper.switchDebugMode(this.runOptions.projectRoot,this.packageName,!1,this.debugTarget.id)}prewarmBundleCache(){return this.packager.prewarmBundleCache(i.PlatformType.Android)}getRunArguments(){let e=[];if(this.runOptions.runArguments&&this.runOptions.runArguments.length>0)e=this.runOptions.runArguments;else if(this.runOptions.variant&&e.push("--variant",this.runOptions.variant),this.runOptions.target)if(this.runOptions.target===S.simulatorString||this.runOptions.target===S.deviceString){const e=_(0,null,this.runOptions.target);this.logger.warning(e)}else e.push("--deviceId",this.runOptions.target);return e}dispose(){this.logCatMonitor&&(E.LogCatMonitorManager.delMonitor(this.logCatMonitor.deviceId),this.logCatMonitor=null)}initializeTargetDevicesAndPackageName(){return this.adbHelper.getConnectedDevices().then(e=>(this.devices=e,this.debugTarget=this.getTargetEmulator(e),this.getPackageName().then(e=>{this.packageName=e})))}launchAppWithADBReverseAndLogCat(e){return this.configureADBReverseWhenApplicable(e).then(()=>this.needsToLaunchApps?this.adbHelper.launchApp(this.runOptions.projectRoot,this.packageName,e.id):Promise.resolve()).then(()=>this.startMonitoringLogCat(e,this.runOptions.logCatArguments))}configureADBReverseWhenApplicable(e){return Promise.resolve().then(()=>this.adbHelper.apiVersion(e.id)).then(t=>{if(t>=s.AndroidAPILevel.LOLLIPOP)return this.adbHelper.reverseAdb(e.id,Number(this.runOptions.packagerPort));{const r=_(1,null,e.id,t,s.AndroidAPILevel.LOLLIPOP);return void this.logger.warning(r)}})}getPackageName(){return new a.Package(this.runOptions.projectRoot).name().then(e=>new c.PackageNameResolver(e).resolvePackageName(this.runOptions.projectRoot))}getTargetEmulator(e){let t=e=>e.isOnline,r=e=>e.id===this.runOptions.target&&t(e);if(this.runOptions&&this.runOptions.target&&e){const t=e.find(r);if(t)return t}let n=e&&e.filter(t);return n&&n[0]}startMonitoringLogCat(e,t){E.LogCatMonitorManager.delMonitor(e.id),this.logCatMonitor=new p.LogCatMonitor(e.id,this.adbHelper,t),E.LogCatMonitorManager.addMonitor(this.logCatMonitor),this.logCatMonitor.start().catch(e=>{this.logger.warning(e),this.logger.warning(_(2,null))})}}t.AndroidPlatform=S,S.RUN_ANDROID_FAILURE_PATTERNS=[{pattern:"Failed to install on any devices",errorCode:g.InternalErrorCode.AndroidCouldNotInstallTheAppOnAnyAvailibleDevice},{pattern:"com.android.ddmlib.ShellCommandUnresponsiveException",errorCode:g.InternalErrorCode.AndroidShellCommandTimedOut},{pattern:"Android project not found",errorCode:g.InternalErrorCode.AndroidProjectNotFound},{pattern:"error: more than one device/emulator",errorCode:g.InternalErrorCode.AndroidMoreThanOneDeviceOrEmulator},{pattern:/^Error: Activity class \{.*\} does not exist\.$/m,errorCode:g.InternalErrorCode.AndroidFailedToLaunchTheSpecifiedActivity}],S.RUN_ANDROID_SUCCESS_PATTERNS=["BUILD SUCCESSFUL","Starting the app","Starting: Intent"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdbHelper=t.DeviceType=t.AndroidAPILevel=void 0;const n=r(19),o=r(13),i=r(0),s=r(4),a=r(16),c=r(1);c.config({messageFormat:c.MessageFormat.bundle,bundleFormat:c.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\android\\adb.ts"));const l=c.loadMessageBundle(r(0).join(__dirname,"src\\extension\\android\\adb.ts"));var u,h;!function(e){e[e.Marshmallow=23]="Marshmallow",e[e.LOLLIPOP_MR1=22]="LOLLIPOP_MR1",e[e.LOLLIPOP=21]="LOLLIPOP",e[e.KITKAT=19]="KITKAT",e[e.JELLY_BEAN_MR2=18]="JELLY_BEAN_MR2",e[e.JELLY_BEAN_MR1=17]="JELLY_BEAN_MR1",e[e.JELLY_BEAN=16]="JELLY_BEAN",e[e.ICE_CREAM_SANDWICH_MR1=15]="ICE_CREAM_SANDWICH_MR1",e[e.GINGERBREAD_MR1=10]="GINGERBREAD_MR1"}(t.AndroidAPILevel||(t.AndroidAPILevel={})),function(e){e[e.KEYCODE_BACK=4]="KEYCODE_BACK",e[e.KEYCODE_DPAD_UP=19]="KEYCODE_DPAD_UP",e[e.KEYCODE_DPAD_DOWN=20]="KEYCODE_DPAD_DOWN",e[e.KEYCODE_DPAD_CENTER=23]="KEYCODE_DPAD_CENTER",e[e.KEYCODE_MENU=82]="KEYCODE_MENU"}(u||(u={})),function(e){e[e.AndroidSdkEmulator=0]="AndroidSdkEmulator",e[e.Other=1]="Other"}(h=t.DeviceType||(t.DeviceType={}));const p=/^emulator-\d{1,5}$/;t.AdbHelper=class{constructor(e,t,r="MainActivity"){this.childProcess=new n.ChildProcess,this.commandExecutor=new o.CommandExecutor,this.adbExecutable="",this.adbExecutable=this.getAdbPath(e,t),this.launchActivity=r}getConnectedDevices(){return this.childProcess.execToString(this.adbExecutable+" devices").then(e=>this.parseConnectedDevices(e))}setLaunchActivity(e){this.launchActivity=e}switchDebugMode(e,t,r,n){let i=`${this.adbExecutable} ${n?"-s "+n:""} shell am broadcast -a "${t}.RELOAD_APP_ACTION" --ez jsproxy ${r}`;return new o.CommandExecutor(e).execute(i).then(()=>new Promise(r=>{setTimeout(()=>{this.stopApp(e,t,n).then(()=>r())},200)})).then(()=>this.launchApp(e,t,n))}launchApp(e,t,r){let n=`${this.adbExecutable} ${r?"-s "+r:""} shell am start -n ${t}/.${this.launchActivity}`;return new o.CommandExecutor(e).execute(n)}stopApp(e,t,r){let n=`${this.adbExecutable} ${r?"-s "+r:""} shell am force-stop ${t}`;return new o.CommandExecutor(e).execute(n)}apiVersion(e){return this.executeQuery(e,"shell getprop ro.build.version.sdk").then(e=>parseInt(e,10))}reverseAdb(e,t){return this.execute(e,`reverse tcp:${t} tcp:${t}`)}showDevMenu(e){let t=`${this.adbExecutable} ${e?"-s "+e:""} shell input keyevent ${u.KEYCODE_MENU}`;return this.commandExecutor.execute(t)}reloadApp(e){let t=`${this.adbExecutable} ${e?"-s "+e:""} shell input text "RR"`;return this.commandExecutor.execute(t)}getOnlineDevices(){return this.getConnectedDevices().then(e=>e.filter(e=>e.isOnline))}startLogCat(e){return this.childProcess.spawn(this.adbExecutable.replace(/\"/g,""),e)}parseSdkLocation(e,t){const r=e.match(/^sdk\.dir=(.+)$/m);if(!r||!r[1])return t&&t.info(l(0,null)),null;let n=r[1].trim();return"win32"===a.platform()&&(n=n.replace(/\\\\/g,"\\").replace("\\:",":")),t&&t.info(l(1,null,n)),n}getAdbPath(e,t){const r=this.getSdkLocationFromLocalPropertiesFile(e,t);return r?`"${i.join(r,"platform-tools","adb")}"`:"adb"}parseConnectedDevices(e){let t=[],r=new RegExp("^(\\S+)\\t(\\S+)$","mg"),n=r.exec(e);for(;null!=n;)t.push({id:n[1],isOnline:"device"===n[2],type:this.extractDeviceType(n[1])}),n=r.exec(e);return t}extractDeviceType(e){return e.match(p)?h.AndroidSdkEmulator:h.Other}executeQuery(e,t){return this.childProcess.execToString(this.generateCommandForDevice(e,t))}execute(e,t){return this.commandExecutor.execute(this.generateCommandForDevice(e,t))}generateCommandForDevice(e,t){return`${this.adbExecutable} -s "${e}" ${t}`}getSdkLocationFromLocalPropertiesFile(e,t){const r=i.join(e,"android","local.properties");if(!s.existsSync(r))return t&&t.info(l(2,null)),null;let n;try{n=s.readFileSync(r).toString()}catch(e){return t&&(t.error(l(3,null,r),e,e.stack),t.info(l(4,null))),null}return this.parseSdkLocation(n,t)}}},function(e,t,r){"use strict";var n=r(16),o=r(6),i=r(137),s=r(148),a=function(){function e(e,t,r){this.extensionId=e,this.extensionVersion=t,i.client?(this.appInsightsClient=i.getClient(r),this.appInsightsClient.channel.setOfflineMode(!0)):this.appInsightsClient=i.setup(r).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setOfflineMode(!0).start().client,this.setupAIClient(this.appInsightsClient),r&&0===r.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1"),this.loadCommonProperties(),o&&o.env&&this.loadVSCodeCommonProperties(o.env.machineId,o.env.sessionId,o.version)}return e.prototype.setupAIClient=function(e){if(e&&e.context&&e.context.keys&&e.context.tags){var t=e.context.keys.deviceMachineName;e.context.tags[t]=""}},e.prototype.loadVSCodeCommonProperties=function(e,t,r){this.commonProperties=this.commonProperties||Object.create(null),this.commonProperties.vscodemachineid=e,this.commonProperties.vscodesessionid=t,this.commonProperties.vscodeversion=r},e.prototype.loadCommonProperties=function(){var t=this;this.commonProperties=this.commonProperties||Object.create(null),this.commonProperties.os=n.platform(),this.commonProperties.osversion=n.release(),this.commonProperties.extname=this.extensionId,this.commonProperties.extversion=this.extensionVersion,"win32"===process.platform&&(this.getWinRegKeyData(e.SQM_KEY,e.REGISTRY_USERID_VALUE,s.HKCU,(function(e,r){!e&&r&&(t.commonProperties.sqmid=r)})),this.getWinRegKeyData(e.SQM_KEY,e.REGISTRY_MACHINEID_VALUE,s.HKLM,(function(e,r){!e&&r&&(t.commonProperties.sqmmachineid=r)})))},e.prototype.addCommonProperties=function(e){for(var t in this.commonProperties)e["common."+t]=this.commonProperties[t];return e},e.prototype.getWinRegKeyData=function(e,t,r,n){if("win32"===process.platform)try{new s({hive:r,key:e}).get(t,(function(e,t){e||!t?n(e,null):n(null,t.value)}))}catch(e){n(e,null)}else n(null,null)},e.prototype.sendTelemetryEvent=function(e,t,r){e&&(t=t||Object.create(null),t=this.addCommonProperties(t),this.appInsightsClient.trackEvent(this.extensionId+"/"+e,t,r))},e.SQM_KEY="\\SOFTWARE\\Microsoft\\SQMClient",e.REGISTRY_USERID_VALUE="UserId",e.REGISTRY_MACHINEID_VALUE="MachineId",e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,r){var n=r(33),o=r(49),i=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){this._isInitialized=!0;this._exceptionListenerHandle||(this._exceptionListenerHandle=function(t){var n=e.getExceptionData(t,!1),o=r._client.getEnvelope(n);throw r._client.channel.handleCrash(o),t},process.on("uncaughtException",this._exceptionListenerHandle))}else this._exceptionListenerHandle&&(process.removeListener("uncaughtException",this._exceptionListenerHandle),this._exceptionListenerHandle=void 0,delete this._exceptionListenerHandle)},e.getExceptionData=function(e,t,r){var i=new n.Contracts.ExceptionData;i.handledAt=t?"User":"Unhandled",i.properties=r,i.severityLevel=n.Contracts.SeverityLevel.Error,i.properties=r,i.exceptions=[];var s=e.stack,a=new n.Contracts.ExceptionDetails;a.message=e.message,a.typeName=e.name,a.parsedStack=this.parseStack(s),a.hasFullStack=o.isArray(a.parsedStack)&&a.parsedStack.length>0,i.exceptions.push(a);var c=new n.Contracts.Data;return c.baseType="Microsoft.ApplicationInsights.ExceptionData",c.baseData=i,c},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,o=0,i=0;i<=r.length;i++){var a=r[i];if(s.regex.test(a)){var c=new s(r[i],n++);o+=c.sizeInBytes,t.push(c)}}if(o>32768)for(var l=0,u=t.length-1,h=0,p=l,d=u;l<u;){if((h+=t[l].sizeInBytes+t[u].sizeInBytes)>32768){var g=d-p+1;t.splice(p,g);break}p=l,d=u,l++,u--}}return t},e.INSTANCE=null,e}(),s=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="unavailable",this.assembly=o.trim(t);var n=t.match(e.regex);n&&n.length>=5&&(this.method=o.trim(n[2]),this.fileName=o.trim(n[4]),this.line=parseInt(n[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=i},function(e,t,r){var n=r(18),o=r(22),i=r(140),s=function(){function e(t){if(e.INSTANCE)throw new Error("Request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize()},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=n.createServer;n.createServer=function(n){return r((function(r,o){t._isEnabled&&e.trackRequest(t._client,r,o),"function"==typeof n&&n(r,o)}))}},e.trackRequest=function(e,t,r,n){if(t&&r&&e){var s=new i(t),a=function(t){setTimeout((function(){s.onResponse(r,n);var t=s.getRequestData(),o=s.getRequestTags(e.context.tags);e.track(t,o)}),0)};r&&r.once&&r.once("finish",(function(){return a()})),t&&t.on&&t.on("error",(function(e){if(n||(n={}),e)if("string"==typeof e)n.erorr=e;else if("object"==typeof e)for(var t in e)n[t]=e[t]&&e[t].toString&&e[t].toString();a()}))}else o.info("AutoCollectRequests.trackRequest was called with invalid parameters: ",!t,!r,!e)},e}();e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogCatMonitor=void 0;const n=r(8),o=r(85),i=r(1);i.config({messageFormat:i.MessageFormat.bundle,bundleFormat:i.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\android\\logCatMonitor.ts"));const s=i.loadMessageBundle(r(0).join(__dirname,"src\\extension\\android\\logCatMonitor.ts"));class a{constructor(e,t,r){this.deviceId=e,this._userProvidedLogCatArguments=r,this._logger=n.OutputChannelLogger.getChannel("LogCat - "+e),this.adbHelper=t}start(){const e=this.getLogCatArguments(),t=["-s",this.deviceId,"logcat"].concat(e);this._logger.debug(`Monitoring LogCat for device ${this.deviceId} with arguments: ${e}`),this._logCatSpawn=this.adbHelper.startLogCat(t);const r=new o.ExecutionsFilterBeforeTimestamp(.5);return this._logCatSpawn.stderr.on("data",e=>{r.execute(()=>this._logger.info(e.toString()))}),this._logCatSpawn.stdout.on("data",e=>{r.execute(()=>this._logger.info(e.toString()))}),this._logCatSpawn.outcome.then(()=>this._logger.info(s(0,null)),e=>this._logCatSpawn?Promise.reject(e):(this._logger.info(s(1,null)),Promise.resolve())).finally(()=>{this._logCatSpawn=null})}dispose(){if(this._logCatSpawn){const e=this._logCatSpawn;this._logCatSpawn=null,e.spawnedProcess.kill()}n.OutputChannelLogger.disposeChannel(this._logger.channelName)}getLogCatArguments(){return this.isNullOrUndefined(this._userProvidedLogCatArguments)?a.DEFAULT_PARAMETERS:(""+this._userProvidedLogCatArguments).split(" ")}isNullOrUndefined(e){return null==e}}t.LogCatMonitor=a,a.DEFAULT_PARAMETERS=["*:S","ReactNative:V","ReactNativeJS:V"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionsFilterBeforeTimestamp=t.ExecutionsLimiter=void 0;t.ExecutionsLimiter=class{constructor(){this.executionToLastTimestamp={}}execute(e,t,r){const n=(new Date).getTime();n-(this.executionToLastTimestamp[e]||0)>=1e3*t&&(this.executionToLastTimestamp[e]=n,r())}};class n{constructor(e){this.sinceWhenToStopFiltering=this.now()+e*n.MILLISECONDS_IN_ONE_SECOND}execute(e){this.now()>=this.sinceWhenToStopFiltering&&e()}now(){return(new Date).getTime()}}t.ExecutionsFilterBeforeTimestamp=n,n.MILLISECONDS_IN_ONE_SECOND=1e3},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidEmulatorManager=void 0;const o=r(19),i=r(87),s=r(8),a=r(1),c=r(3),l=r(2),u=r(6);a.config({messageFormat:a.MessageFormat.bundle,bundleFormat:a.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\android\\androidEmulatorManager.ts"));const h=a.loadMessageBundle(r(0).join(__dirname,"src\\extension\\android\\androidEmulatorManager.ts"));class p extends i.VirtualDeviceManager{constructor(e){super(),this.logger=s.OutputChannelLogger.getChannel(s.OutputChannelLogger.MAIN_CHANNEL_NAME,!0),this.adbHelper=e,this.childProcess=new o.ChildProcess}startEmulator(e){return n(this,void 0,void 0,(function*(){const t=yield this.adbHelper.getOnlineDevices();for(let r=0;r<t.length;r++)if(t[r].id===e)return{id:t[r].id};if(e&&0===(yield this.adbHelper.getOnlineDevices()).length)if("simulator"===e){const e=yield this.startSelection();if(e){return{name:e,id:yield this.tryLaunchEmulatorByName(e)}}}else if(!e.includes("device")){const t=yield this.tryLaunchEmulatorByName(e);return{name:e,id:t}}return null}))}tryLaunchEmulatorByName(e){return n(this,void 0,void 0,(function*(){return new Promise((t,r)=>{const o=this.childProcess.spawn(p.EMULATOR_COMMAND,[p.EMULATOR_AVD_START_COMMAND,e],{detached:!0},!0);o.outcome.catch(e=>{"win32"==process.platform&&process.env.SESSIONNAME&&process.env.SESSIONNAME.toLowerCase().includes("rdp-tcp")&&this.logger.warning(h(0,null)),r(c.ErrorHelper.getInternalError(l.InternalErrorCode.VirtualDeviceSelectionError,e))}),o.spawnedProcess.unref();const i=setTimeout(()=>{a(),r(c.ErrorHelper.getInternalError(l.InternalErrorCode.VirtualDeviceSelectionError,h(1,null,e,p.EMULATOR_START_TIMEOUT)))},1e3*p.EMULATOR_START_TIMEOUT),s=setInterval(()=>n(this,void 0,void 0,(function*(){const r=yield this.adbHelper.getOnlineDevices();r.length>0&&(this.logger.info(h(2,null,e)),a(),t(r[0].id))})),1e3),a=()=>{clearTimeout(i),clearInterval(s)}})}))}startSelection(){return this.selectVirtualDevice()}selectOnlineDevice(){return n(this,void 0,void 0,(function*(){const e=(yield this.adbHelper.getOnlineDevices()).map(e=>e.id),t={ignoreFocusOut:!0,canPickMany:!1,placeHolder:h(3,null)};let r=e[0];return e.length>1&&(r=yield u.window.showQuickPick(e,t)),null==r?void 0:r.toString()}))}getVirtualDevicesNamesList(){return n(this,void 0,void 0,(function*(){const e=yield this.childProcess.execToString(`${p.EMULATOR_COMMAND} ${p.EMULATOR_LIST_AVDS_COMMAND}`);let t=[];if(e){t=e.split(/\r?\n|\r/g);const r=t.indexOf("");t.indexOf("")>=0&&t.splice(r,1)}return t}))}}t.AndroidEmulatorManager=p,p.EMULATOR_COMMAND="emulator",p.EMULATOR_LIST_AVDS_COMMAND="-list-avds",p.EMULATOR_AVD_START_COMMAND="-avd",p.EMULATOR_START_TIMEOUT=120},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualDeviceManager=void 0;const o=r(1),i=r(6);o.config({messageFormat:o.MessageFormat.bundle,bundleFormat:o.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\VirtualDeviceManager.ts"));const s=o.loadMessageBundle(r(0).join(__dirname,"src\\extension\\VirtualDeviceManager.ts"));t.VirtualDeviceManager=class{selectVirtualDevice(e){return n(this,void 0,void 0,(function*(){const t=yield this.getVirtualDevicesNamesList(e),r={ignoreFocusOut:!0,canPickMany:!1,placeHolder:s(0,null)};let n=t[0];return t.length>1&&(n=yield i.window.showQuickPick(t,r)),null==n?void 0:n.toString()}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IOSPlatform=void 0;const n=r(0),o=r(10),i=r(19),s=r(13),a=r(17),c=r(5),l=r(53),u=r(158),h=r(40),p=r(7),d=r(2),g=r(1),f=r(160);g.config({messageFormat:g.MessageFormat.bundle,bundleFormat:g.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\ios\\iOSPlatform.ts"));const m=g.loadMessageBundle(r(0).join(__dirname,"src\\extension\\ios\\iOSPlatform.ts"));class v extends a.GeneralMobilePlatform{constructor(e,t={}){super(e,t),this.runOptions=e,this.plistBuddy=new l.PlistBuddy,this.targetType="simulator",this.defaultConfiguration="Debug",this.configurationArgumentName="--configuration",this.simulatorManager=new f.IOSSimulatorManager,this.runOptions.configuration=this.getConfiguration(),this.runOptions.iosRelativeProjectPath&&this.logger.warning(m(0,null));const r=v.getOptFromRunArgs(this.runArguments,"--project-path",!1);this.iosProjectRoot=n.join(this.projectPath,r||this.runOptions.iosRelativeProjectPath||v.DEFAULT_IOS_PROJECT_RELATIVE_PATH);const o=v.getOptFromRunArgs(this.runArguments,"--scheme",!1);this.iosDebugModeManager=new u.IOSDebugModeManager(this.iosProjectRoot,this.projectPath,o||this.runOptions.scheme),this.runArguments&&this.runArguments.length>0?this.targetType=this.runArguments.indexOf("--"+v.deviceString)>=0?v.deviceString:v.simulatorString:this.runOptions.target&&this.runOptions.target!==v.simulatorString&&this.runOptions.target!==v.deviceString?this.targetType=v.simulatorString:this.targetType=this.runOptions.target||v.simulatorString}showDevMenu(e){const t=e.getAppWorker();return t&&t.showDevMenuCommand(),Promise.resolve()}reloadApp(e){const t=e.getAppWorker();return t&&t.reloadAppCommand(),Promise.resolve()}resolveVirtualDevice(e){return"simulator"===e?this.simulatorManager.startSelection().then(e=>{if(e){const t=this.simulatorManager.findSimulator(e);return t&&(a.GeneralMobilePlatform.removeRunArgument(this.runArguments,"--simulator",!0),a.GeneralMobilePlatform.setRunArgument(this.runArguments,"--udid",t.id)),t}return null}):e.includes("device")?Promise.resolve(null):this.simulatorManager.collectSimulators().then(t=>{let r=this.simulatorManager.getSimulatorById(e,t);return r&&(a.GeneralMobilePlatform.removeRunArgument(this.runArguments,"--simulator",!1),a.GeneralMobilePlatform.setRunArgument(this.runArguments,"--udid",r.id)),null})}runApp(){let e={platform:{value:c.PlatformType.iOS,isPii:!1}};return e=p.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(this.runOptions,this.runOptions.reactNativeVersions,e),p.TelemetryHelper.generate("iOSPlatform.runApp",e,()=>{const e=a.GeneralMobilePlatform.getEnvArgument(process.env,this.runOptions.env,this.runOptions.envFile);o.valid(this.runOptions.reactNativeVersions.reactNativeVersion)&&!o.gte(this.runOptions.reactNativeVersions.reactNativeVersion,v.NO_PACKAGER_VERSION)||this.runArguments.push("--no-packager"),o.gte(this.runOptions.reactNativeVersions.reactNativeVersion,"0.60.0")&&this.runArguments.push("--verbose");const t=new s.CommandExecutor(this.projectPath,this.logger).spawnReactCommand("run-ios",this.runArguments,{env:e});return new h.OutputVerifier(()=>this.generateSuccessPatterns(this.runOptions.reactNativeVersions.reactNativeVersion),()=>Promise.resolve(v.RUN_IOS_FAILURE_PATTERNS),c.PlatformType.iOS).process(t)})}enableJSDebuggingMode(){return this.targetType===v.deviceString?(this.logger.info("Application is running on a device, please shake device and select 'Debug JS Remotely' to enable debugging."),Promise.resolve()):Promise.all([this.iosDebugModeManager.getSimulatorRemoteDebuggingSetting(this.runOptions.configuration,this.runOptions.productName),this.getBundleId()]).then(([e,t])=>{if(e)return Promise.resolve();const r=new i.ChildProcess;return r.execToString("xcrun simctl spawn booted launchctl list").then(e=>{const n=new RegExp(`(\\S+${t}\\S+)`).exec(e);return n?r.exec("xcrun simctl spawn booted launchctl stop "+n[1]):null}).then(()=>this.iosDebugModeManager.setSimulatorRemoteDebuggingSetting(!0,this.runOptions.configuration,this.runOptions.productName)).then(()=>this.runApp())})}disableJSDebuggingMode(){return this.targetType===v.deviceString?Promise.resolve():this.iosDebugModeManager.setSimulatorRemoteDebuggingSetting(!1,this.runOptions.configuration,this.runOptions.productName)}prewarmBundleCache(){return this.packager.prewarmBundleCache(c.PlatformType.iOS)}getRunArguments(){let e=[];if(this.runOptions.runArguments&&this.runOptions.runArguments.length>0){if(e=this.runOptions.runArguments,this.runOptions.scheme){v.getOptFromRunArgs(e,"--scheme",!1)?this.logger.warning(m(1,null)):e.push("--scheme",this.runOptions.scheme)}}else this.runOptions.target&&e.push(...this.handleTargetArg(this.runOptions.target)),this.runOptions.iosRelativeProjectPath&&e.push("--project-path",this.runOptions.iosRelativeProjectPath),this.runOptions.scheme&&e.push("--scheme",this.runOptions.scheme);return e}handleTargetArg(e){if(e===v.deviceString||e===v.simulatorString)return["--"+this.runOptions.target];if(-1!==e.indexOf(v.deviceString)){const t=e.split("=");return t[1]?["--"+v.deviceString,t[1]]:["--"+v.deviceString]}return["--"+v.simulatorString,""+this.runOptions.target]}generateSuccessPatterns(e){let t=[...v.RUN_IOS_SUCCESS_PATTERNS];return this.targetType===v.deviceString?(o.gte(e,"0.60.0")?t.push("success Installed the app on the device"):t.push("INSTALLATION SUCCEEDED"),Promise.resolve(t)):this.getBundleId().then(r=>(o.gte(e,"0.60.0")?t.push(`Launching "${r}"\nsuccess Successfully launched the app `):t.push(`Launching ${r}\n${r}: `),t))}getConfiguration(){return v.getOptFromRunArgs(this.runArguments,this.configurationArgumentName)||this.defaultConfiguration}getBundleId(){let e=this.runOptions.scheme;if(!e){const t=v.getOptFromRunArgs(this.runArguments,"--scheme",!1);t&&(e=t)}return this.plistBuddy.getBundleId(this.iosProjectRoot,this.projectPath,!0,this.runOptions.configuration,this.runOptions.productName,e)}}t.IOSPlatform=v,v.DEFAULT_IOS_PROJECT_RELATIVE_PATH="ios",v.RUN_IOS_FAILURE_PATTERNS=[{pattern:"No devices are booted",errorCode:d.InternalErrorCode.IOSSimulatorNotLaunchable},{pattern:"FBSOpenApplicationErrorDomain",errorCode:d.InternalErrorCode.IOSSimulatorNotLaunchable},{pattern:"ios-deploy",errorCode:d.InternalErrorCode.IOSDeployNotFound}],v.RUN_IOS_SUCCESS_PATTERNS=["BUILD SUCCEEDED"]},function(e,t,r){e.exports=E;var n=r(4),o=r(90),i=r(54),s=(i.Minimatch,r(154)),a=r(23).EventEmitter,c=r(0),l=r(41),u=r(55),h=r(156),p=r(91),d=(p.alphasort,p.alphasorti,p.setopts),g=p.ownProp,f=r(157),m=(r(14),p.childrenIgnored),v=p.isIgnored,y=r(93);function E(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return h(e,t)}return new S(e,t,r)}E.sync=h;var _=E.GlobSync=h.GlobSync;function S(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new _(e,t)}if(!(this instanceof S))return new S(e,t,r);d(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",(function(e){r(null,e)})));var o=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return s();for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1,s);function s(){--o._processing,o._processing<=0&&o._finish()}}E.glob=E,E.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}({},t);r.noprocess=!0;var n=new S(e,r).minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var o=0;o<n[0].length;o++)if("string"!=typeof n[0][o])return!0;return!1},E.Glob=S,s(S,a),S.prototype._finish=function(){if(l(this instanceof S),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},S.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--e&&t._finish()}},S.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);n.forEach((function(r,n){r=i._makeAbs(r),o.realpath(r,i.realpathCache,(function(n,o){n?"stat"===n.syscall?a[r]=!0:i.emit("error",n):a[o]=!0,0==--s&&(i.matches[e]=a,t())}))}))},S.prototype._mark=function(e){return p.mark(this,e)},S.prototype._makeAbs=function(e){return p.makeAbs(this,e)},S.prototype.abort=function(){this.aborted=!0,this.emit("abort")},S.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},S.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<n.length;t++){var o=n[t];this._processing--,this._process(o[0],o[1],o[2],o[3])}}}},S.prototype._process=function(e,t,r,n){if(l(this instanceof S),l("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,n]);else{for(var o,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:o=null;break;default:o=e.slice(0,s).join("/")}var a,c=e.slice(s);null===o?a=".":u(o)||u(e.join("/"))?(o&&u(o)||(o="/"+o),a=o):a=o;var h=this._makeAbs(a);if(m(this,a))return n();c[0]===i.GLOBSTAR?this._processGlobStar(o,a,h,c,t,r,n):this._processReaddir(o,a,h,c,t,r,n)}},S.prototype._processReaddir=function(e,t,r,n,o,i,s){var a=this;this._readdir(r,i,(function(c,l){return a._processReaddir2(e,t,r,n,o,i,l,s)}))},S.prototype._processReaddir2=function(e,t,r,n,o,i,s,a){if(!s)return a();for(var l=n[0],u=!!this.minimatch.negate,h=l._glob,p=this.dot||"."===h.charAt(0),d=[],g=0;g<s.length;g++){if("."!==(m=s[g]).charAt(0)||p)(u&&!e?!m.match(l):m.match(l))&&d.push(m)}var f=d.length;if(0===f)return a();if(1===n.length&&!this.mark&&!this.stat){this.matches[o]||(this.matches[o]=Object.create(null));for(g=0;g<f;g++){var m=d[g];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(o,m)}return a()}n.shift();for(g=0;g<f;g++){m=d[g];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(n),o,i,a)}a()},S.prototype._emitMatch=function(e,t){if(!this.aborted&&!v(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0;var o=this.statCache[r];o&&this.emit("stat",t,o),this.emit("match",t)}}},S.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,o=f("lstat\0"+e,(function(n,o){if(n&&"ENOENT"===n.code)return t();var i=o&&o.isSymbolicLink();r.symlinks[e]=i,i||!o||o.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())}));o&&n.lstat(e,o)}},S.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=f("readdir\0"+e+"\0"+t,r))){if(t&&!g(this.symlinks,e))return this._readdirInGlobStar(e,r);if(g(this.cache,e)){var o=this.cache[e];if(!o||"FILE"===o)return r();if(Array.isArray(o))return r(null,o)}n.readdir(e,function(e,t,r){return function(n,o){n?e._readdirError(t,n,r):e._readdirEntries(t,o,r)}}(this,e,r))}},S.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var o=t[n];o="/"===e?e+o:e+"/"+o,this.cache[o]=!0}return this.cache[e]=t,r(null,t)}},S.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var o=new Error(t.code+" invalid cwd "+this.cwd);o.path=this.cwd,o.code=t.code,this.emit("error",o),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},S.prototype._processGlobStar=function(e,t,r,n,o,i,s){var a=this;this._readdir(r,i,(function(c,l){a._processGlobStar2(e,t,r,n,o,i,l,s)}))},S.prototype._processGlobStar2=function(e,t,r,n,o,i,s,a){if(!s)return a();var c=n.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,o,!1,a);var h=this.symlinks[r],p=s.length;if(h&&i)return a();for(var d=0;d<p;d++){if("."!==s[d].charAt(0)||this.dot){var g=l.concat(s[d],c);this._process(g,o,!0,a);var f=l.concat(s[d],n);this._process(f,o,!0,a)}}a()},S.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,(function(o,i){n._processSimple2(e,t,o,i,r)}))},S.prototype._processSimple2=function(e,t,r,n,o){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return o();if(e&&u(e)&&!this.nomount){var i=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),i&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),o()},S.prototype._stat=function(e,t){var r=this._makeAbs(e),o="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&g(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!o||"DIR"===i)return t(null,i);if(o&&"FILE"===i)return t()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return o&&"FILE"===a?t():t(null,a,s)}var c=this,l=f("stat\0"+r,(function(o,i){if(i&&i.isSymbolicLink())return n.stat(r,(function(n,o){n?c._stat2(e,r,null,i,t):c._stat2(e,r,n,o,t)}));c._stat2(e,r,o,i,t)}));l&&n.lstat(r,l)},S.prototype._stat2=function(e,t,r,n,o){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[t]=!1,o();var i="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&n&&!n.isDirectory())return o(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,i&&"FILE"===s?o():o(null,s,n)}},function(e,t,r){e.exports=u,u.realpath=u,u.sync=h,u.realpathSync=h,u.monkeypatch=function(){n.realpath=u,n.realpathSync=h},u.unmonkeypatch=function(){n.realpath=o,n.realpathSync=i};var n=r(4),o=n.realpath,i=n.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=r(150);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,r){if(a)return o(e,t,r);"function"==typeof t&&(r=t,t=null),o(e,t,(function(n,o){l(n)?c.realpath(e,t,r):r(n,o)}))}function h(e,t){if(a)return i(e,t);try{return i(e,t)}catch(r){if(l(r))return c.realpathSync(e,t);throw r}}},function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,r){r||(r={});if(r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0);e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,r),e.changedCwd=!1;var i=process.cwd();n(r,"cwd")?(e.cwd=o.resolve(r.cwd),e.changedCwd=e.cwd!==i):e.cwd=i;e.root=r.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new a(t,r),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,o=e.matches.length;n<o;n++){var i=e.matches[n];if(i&&0!==Object.keys(i).length){var s=Object.keys(i);t?r.push.apply(r,s):s.forEach((function(e){r[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}t||(r=Object.keys(r));e.nosort||(r=r.sort(e.nocase?c:l));if(e.mark){for(n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter((function(t){var r=!/\/$/.test(t),n=e.cache[t]||e.cache[h(e,t)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}e.ignore.length&&(r=r.filter((function(t){return!p(e,t)})));e.found=r},t.mark=function(e,t){var r=h(e,t),n=e.cache[r],o=t;if(n){var i="DIR"===n||Array.isArray(n),s="/"===t.slice(-1);if(i&&!s?o+="/":!i&&s&&(o=o.slice(0,-1)),o!==t){var a=h(e,o);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return o},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var o=r(0),i=r(54),s=r(55),a=i.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function u(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new a(r,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var r=t;return r="/"===t.charAt(0)?o.join(e.root,t):s(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}}},function(e,t,r){var n=r(92);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExponentPlatform=void 0;const n=r(3),o=r(2),i=r(5),s=r(17),a=r(7),c=r(161),l=r(6),u=r(35),h=r(11),p=r(1);p.config({messageFormat:p.MessageFormat.bundle,bundleFormat:p.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\exponent\\exponentPlatform.ts"));const d=p.loadMessageBundle(r(0).join(__dirname,"src\\extension\\exponent\\exponentPlatform.ts"));class g extends s.GeneralMobilePlatform{constructor(e,t={}){super(e,t),this.qrCodeContentProvider=new c.QRCodeContentProvider,this.exponentHelper=this.packager.getExponentHelper(),this.exponentTunnelPath=null}runApp(){let e={platform:{value:i.PlatformType.Exponent,isPii:!1}};return e=a.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(this.runOptions,this.runOptions.reactNativeVersions,e),new Promise((t,r)=>{a.TelemetryHelper.generate("ExponentPlatform.runApp",e,()=>this.loginToExponentOrSkip(this.runOptions.expoHostType).then(()=>u.setOptions(this.projectPath,{packagerPort:this.packager.getPort()})).then(()=>u.startExponentServer(this.projectPath)).then(()=>"tunnel"!==this.runOptions.expoHostType?u.stopAdbReverse(this.projectPath):u.startTunnels(this.projectPath)).then(()=>"local"===this.runOptions.expoHostType&&u.startAdbReverse(this.projectPath)).then(e=>{switch(this.runOptions.expoHostType){case"lan":return u.getUrl(this.projectPath,{dev:!0,minify:!1,hostType:"lan"});case"local":return e?this.logger.info(d(0,null)):this.logger.warning(d(1,null)),u.getUrl(this.projectPath,{dev:!0,minify:!1,hostType:"localhost"});case"tunnel":default:return u.getUrl(this.projectPath,{dev:!0,minify:!1})}}).then(e=>"exp://"+h.parse(e).host).then(e=>{if(this.runOptions.openExpoQR){l.window.createWebviewPanel("Expo QR Code","Expo QR Code",l.ViewColumn.Two,{}).webview.html=this.qrCodeContentProvider.provideTextDocumentContent(l.Uri.parse(e))}return e}).then(e=>{if(!e)return r(n.ErrorHelper.getInternalError(o.InternalErrorCode.ExpectedExponentTunnelPath));this.exponentTunnelPath=e;const i=d(2,null,this.exponentTunnelPath);this.logger.info(i);const s=d(3,null);return l.window.showInformationMessage(i,s).then(t=>{t===s&&l.env.clipboard.writeText(e)}),t()}).catch(e=>r(e)))})}loginToExponentOrSkip(e){return"tunnel"!==e?Promise.resolve():this.exponentHelper.loginToExponent((e,t)=>new Promise((r,n)=>{l.window.showInputBox({placeHolder:e,password:t}).then(e=>{r(e||"")},n)}),e=>new Promise((t,r)=>{const i={title:"Cancel",isCloseAffordance:!0};l.window.showInformationMessage(e,{modal:!0},{title:"Ok"},i).then(e=>{e===i&&r(n.ErrorHelper.getInternalError(o.InternalErrorCode.UserCancelledExpoLogin)),t("")},r)}))}beforeStartPackager(){return this.exponentHelper.configureExponentEnvironment()}enableJSDebuggingMode(){return this.logger.info(d(4,null)),Promise.resolve()}getRunArguments(){return[]}}t.ExponentPlatform=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryPointHandler=t.ProcessType=void 0;const n=r(3),o=r(7),i=r(31),s=r(172);var a;!function(e){e[e.Extension=0]="Extension",e[e.Debugee=1]="Debugee",e[e.Debugger=2]="Debugger"}(a=t.ProcessType||(t.ProcessType={}));t.EntryPointHandler=class{constructor(e,t=new s.ConsoleLogger){this.logger=t,this.processType=e}runFunction(e,t,r,n=!1,o){return this.runFunctionWExtProps(e,o||{},t,r,n)}runFunctionWExtProps(e,t,r,n,i=!1){return this.handleErrors(r,o.TelemetryHelper.generate(e,t,n),i)}runApp(e,t,r,n,o,s){try{return i.Telemetry.init(e,t,n),this.runFunction(e,r,o,!0,s)}catch(r){throw this.logger.error(r),r}}handleErrors(e,t,r){return t.catch(t=>{const o=this.processType===a.Debugee,i=!r||o;if(this.logger.error(e.message,n.ErrorHelper.wrapError(e,t),i),r){if(!o)throw t;process.exit(1)}}),t}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),i=r(0),s=r(185),a=r(61);var c;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(c=t.LogLevel||(t.LogLevel={}));class l{constructor(){this._pendingLogQ=[]}log(e,t=c.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,c.Verbose)}warn(e){this.log(e,c.Warn)}error(e){this.log(e,c.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=c.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,r=!0){const n="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:n,prependTimestamp:r};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,r){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new u(e,r),this._logFilePathFromInit=t}}t.Logger=l,t.logger=new l;class u{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=c.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}setup(e){return n(this,void 0,void 0,(function*(){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(i.isAbsolute(e.logFilePath)){const r=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,c.Error);try{yield(t=i.dirname(e.logFilePath),new Promise((e,r)=>{s(t,t=>{t?r(t):e()})})),this.log("Verbose logs are written to:\n",c.Warn),this.log(e.logFilePath+"\n",c.Warn),this._logFileStream=o.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",e=>{r(e)})}catch(e){r(e)}}else this.log("logFilePath must be an absolute path: "+e.logFilePath,c.Error);var t}))}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+", "+d();this.log(t+"\n",c.Verbose,!1)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback),process.addListener("SIGTERM",this.disposeCallback),process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()})}log(e,t,r=!0){if(this._minLogLevel!==c.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const r=t===c.Error?console.error:t===c.Warn?console.warn:null;r&&r(p(e))}t===c.Error&&(e=`[${c[t]}] ${e}`),this._prependTimestamp&&r&&(e="["+d()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const r=new h(e,t);this._logCallback(r)}}}class h extends a.OutputEvent{constructor(e,t){super(e,t===c.Error?"stderr":t===c.Warn?"console":"stdout")}}function p(e){return e.replace(/(\n|\r\n)$/,"")}function d(){let e=new Date;return g(2,String(e.getUTCHours()))+":"+g(2,String(e.getUTCMinutes()))+":"+g(2,String(e.getUTCSeconds()))+"."+g(3,String(e.getUTCMilliseconds()))+" UTC"}function g(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.LogOutputEvent=h,t.trimLastNewline=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppLauncher=void 0;const n=r(6),o=r(37),i=r(77),s=r(21),a=r(38),c=r(13),l=r(48),u=r(8),h=r(187),p=r(9),d=r(7),g=r(3),f=r(2),m=r(46),v=r(57),y=r(190),E=r(30),_=r(12),S=r(1),P=r(5),b=r(201);S.config({messageFormat:S.MessageFormat.bundle,bundleFormat:S.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\appLauncher.ts"));const C=S.loadMessageBundle(r(0).join(__dirname,"src\\extension\\appLauncher.ts"));t.AppLauncher=class{constructor(e,t){this.logger=u.OutputChannelLogger.getMainChannel(),this.cdpProxyPort=E.generateRandomPortNumber(),this.cdpProxyHostAddress="127.0.0.1";const r=t.uri.fsPath;this.launchScenariosManager=new b.LaunchScenariosManager(r);const n=s.SettingsHelper.getReactNativeProjectRoot(r);this.exponentHelper=new i.ExponentHelper(r,n);const c=new a.PackagerStatusIndicator(r);this.packager=new o.Packager(r,n,s.SettingsHelper.getPackagerPort(t.uri.fsPath),c),this.packager.setExponentHelper(this.exponentHelper),this.reactDirManager=e,this.workspaceFolder=t,this.rnCdpProxy=new y.ReactNativeCDPProxy(this.cdpProxyHostAddress,this.cdpProxyPort)}static getAppLauncherByProjectRootPath(e){const t=v.ProjectsStorage.projectsCache[e.toLowerCase()];if(!t)throw new Error("Could not find AppLauncher by the project root path "+e);return t}getCdpProxyPort(){return this.cdpProxyPort}getRnCdpProxy(){return this.rnCdpProxy}getPackager(){return this.packager}getWorkspaceFolderUri(){return this.workspaceFolder.uri}getWorkspaceFolder(){return this.workspaceFolder}getReactNativeVersions(){return this.reactNativeVersions}getExponentHelper(){return this.exponentHelper}getReactDirManager(){return this.reactDirManager}setReactNativeVersions(e){this.reactNativeVersions=e}setAppWorker(e){this.appWorker=e}getAppWorker(){return this.appWorker}getMobilePlatform(){return this.mobilePlatform}dispose(){this.packager.getStatusIndicator().dispose(),this.packager.stop(!0),this.mobilePlatform.dispose()}openFileAtLocation(e,t){return new Promise(r=>{n.workspace.openTextDocument(n.Uri.file(e)).then(e=>{n.window.showTextDocument(e).then(e=>{let o=e.document.lineAt(t-1).range;e.selection=new n.Selection(o.start,o.end),e.revealRange(o,n.TextEditorRevealType.InCenter),r()})})})}getPackagerPort(e){return s.SettingsHelper.getPackagerPort(e)}launch(e){let t=this.requestSetup(e);l.isNullOrUndefined(e.logCatArguments)||(t.logCatArguments=[this.parseLogCatArguments(e.logCatArguments)]),l.isNullOrUndefined(e.variant)||(t.variant=e.variant),l.isNullOrUndefined(e.scheme)||(t.scheme=e.scheme),l.isNullOrUndefined(e.productName)||(t.productName=e.productName),l.isNullOrUndefined(e.launchActivity)||(t.debugLaunchActivity=e.launchActivity),e.type===_.DEBUG_TYPES.REACT_NATIVE_DIRECT&&(t.isDirect=!0),t.packagerPort=s.SettingsHelper.getPackagerPort(e.cwd||e.program);const r={packager:this.packager};return this.mobilePlatform=(new h.PlatformResolver).resolveMobilePlatform(e.platform,t,r),new Promise((r,n)=>{let o={platform:{value:e.platform,isPii:!1}};return t.isDirect&&(o.isDirect={value:!0,isPii:!1}),p.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(t.projectRoot,p.ProjectVersionHelper.generateAdditionalPackagesToCheckByPlatform(e)).then(i=>{t.reactNativeVersions=i,o=d.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(e,i,o),d.TelemetryHelper.generate("launch",o,o=>(o.step("resolveEmulator"),this.resolveAndSaveVirtualDevice(this.mobilePlatform,e,t).then(()=>this.mobilePlatform.beforeStartPackager()).then(()=>{o.step("checkPlatformCompatibility"),m.TargetPlatformHelper.checkTargetPlatformSupport(t.platform)}).then(()=>(o.step("startPackager"),this.mobilePlatform.startPackager())).then(()=>(o.step("prewarmBundleCache"),this.logger.info(C(0,null)),this.mobilePlatform.prewarmBundleCache())).then(()=>(o.step("mobilePlatform.runApp").add("target",t.target,!1),this.logger.info(C(1,null)),this.mobilePlatform.runApp())).then(()=>t.isDirect||!t.enableDebug?(t.isDirect&&e.platform===P.PlatformType.Android?(o.step("mobilePlatform.enableDirectDebuggingMode"),t.enableDebug?this.logger.info(C(2,null)):this.logger.info(C(3,null))):(o.step("mobilePlatform.disableJSDebuggingMode"),this.logger.info(C(4,null))),this.mobilePlatform.disableJSDebuggingMode()):(o.step("mobilePlatform.enableJSDebuggingMode"),this.logger.info(C(5,null)),this.mobilePlatform.enableJSDebuggingMode())).then(r).catch(i=>{if(!t.enableDebug&&e.platform===P.PlatformType.iOS&&e.type===_.DEBUG_TYPES.REACT_NATIVE)return r();o.addError(i),this.logger.error(i),n(i)})))}).catch(e=>{e&&e.errorCode&&(e.errorCode===f.InternalErrorCode.ReactNativePackageIsNotInstalled?d.TelemetryHelper.sendErrorEvent("ReactNativePackageIsNotInstalled",g.ErrorHelper.getInternalError(f.InternalErrorCode.ReactNativePackageIsNotInstalled)):e.errorCode===f.InternalErrorCode.ReactNativeWindowsIsNotInstalled&&d.TelemetryHelper.sendErrorEvent("ReactNativeWindowsPackageIsNotInstalled",g.ErrorHelper.getInternalError(f.InternalErrorCode.ReactNativeWindowsIsNotInstalled))),this.logger.error(e),n(e)})})}resolveAndSaveVirtualDevice(e,t,r){return!t.target||r.platform!==P.PlatformType.Android&&r.platform!==P.PlatformType.iOS?Promise.resolve():e.resolveVirtualDevice(t.target).then(n=>{n?(n.name&&t.platform===P.PlatformType.Android&&(r.target=n.id,this.launchScenariosManager.updateLaunchScenario(t,{target:n.name})),t.platform===P.PlatformType.iOS&&this.launchScenariosManager.updateLaunchScenario(t,{target:n.id}),t.target=n.id):r.target.indexOf("device")<0&&t.platform===P.PlatformType.Android&&this.cleanupTargetModifications(e,r)}).catch(t=>t&&t.errorCode&&t.errorCode===f.InternalErrorCode.VirtualDeviceSelectionError?(d.TelemetryHelper.sendErrorEvent("VirtualDeviceSelectionError",g.ErrorHelper.getInternalError(f.InternalErrorCode.VirtualDeviceSelectionError)),this.logger.warning(t),this.logger.warning(C(6,null)),r.target.indexOf("device")<0&&this.cleanupTargetModifications(e,r),Promise.resolve()):Promise.reject(t))}cleanupTargetModifications(e,t){t.target="simulator",e.runArguments=e.getRunArguments()}requestSetup(e){const t=n.workspace.getWorkspaceFolder(n.Uri.file(e.cwd||e.program)),r=this.getProjectRoot(e);let o={workspaceRoot:t.uri.fsPath,projectRoot:r,platform:e.platform,env:e.env,envFile:e.envFile,target:e.target||"simulator",enableDebug:e.enableDebug};if(e.platform===P.PlatformType.Exponent&&(o.expoHostType=e.expoHostType||"tunnel",o.openExpoQR="boolean"!=typeof e.openExpoQR||e.openExpoQR),c.CommandExecutor.ReactNativeCommand=s.SettingsHelper.getReactNativeGlobalCommandName(t.uri),e.runArguments)o.runArguments=e.runArguments;else{let r=s.SettingsHelper.getRunArgs(e.platform,e.target||"simulator",t.uri);o.runArguments=r}return o}getProjectRoot(e){return s.SettingsHelper.getReactNativeProjectRoot(e.cwd||e.program)}parseLogCatArguments(e){return Array.isArray(e)?e.join(" "):e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsPlatform=void 0;const n=r(10),o=r(17),i=r(5),s=r(40),a=r(7),c=r(13),l=r(2);class u extends o.GeneralMobilePlatform{constructor(e,t={}){super(e,t),this.runOptions=e}runApp(e=!0){let t={platform:{value:i.PlatformType.Windows,isPii:!1}};return t=a.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(this.runOptions,this.runOptions.reactNativeVersions,t),a.TelemetryHelper.generate("WindowsPlatform.runApp",t,()=>{const t=o.GeneralMobilePlatform.getEnvArgument(process.env,this.runOptions.env,this.runOptions.envFile);n.gte(this.runOptions.reactNativeVersions.reactNativeWindowsVersion,"0.63.0")&&(this.runArguments.push("--logging"),e&&this.runArguments.push("--remote-debugging")),n.valid(this.runOptions.reactNativeVersions.reactNativeVersion)&&!n.gte(this.runOptions.reactNativeVersions.reactNativeVersion,u.NO_PACKAGER_VERSION)||this.runArguments.push("--no-packager");const r=new c.CommandExecutor(this.projectPath,this.logger).spawnReactCommand("run-"+this.platformName,this.runArguments,{env:t});return new s.OutputVerifier(()=>Promise.resolve(u.SUCCESS_PATTERNS),()=>Promise.resolve(u.FAILURE_PATTERNS),this.platformName).process(r)})}prewarmBundleCache(){return this.packager.prewarmBundleCache(i.PlatformType.Windows)}getRunArguments(){let e=[];if(this.runOptions.runArguments&&this.runOptions.runArguments.length>0)e.push(...this.runOptions.runArguments);else{let t=this.runOptions.target===u.simulatorString?"":this.runOptions.target;t&&e.push("--"+t)}return e}}t.WindowsPlatform=u,u.NO_PACKAGER_VERSION="0.53.0",u.SUCCESS_PATTERNS=["Starting the app"],u.FAILURE_PATTERNS=[{pattern:"Unrecognized command 'run-windows'",errorCode:l.InternalErrorCode.WinRNMPPluginIsNotInstalled}]},function(e,t,r){"use strict";const n=r(23),o=r(50),i=r(18),s=r(63),a=r(193),{randomBytes:c,createHash:l}=r(32),{URL:u}=r(11),h=r(43),p=r(100),d=r(102),{BINARY_TYPES:g,EMPTY_BUFFER:f,GUID:m,kStatusCode:v,kWebSocket:y,NOOP:E}=r(26),{addEventListener:_,removeEventListener:S}=r(195),{format:P,parse:b}=r(103),{toBuffer:C}=r(44),w=["CONNECTING","OPEN","CLOSING","CLOSED"],R=[8,13];class A extends n{constructor(e,t,r){super(),this.readyState=A.CONNECTING,this.protocol="",this._binaryType=g[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),function e(t,r,n,s){const a={protocolVersion:R[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!R.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${R.join(", ")})`);let p;r instanceof u?(p=r,t.url=r.href):(p=new u(r),t.url=r);const d="ws+unix:"===p.protocol;if(!(p.host||d&&p.pathname))throw new Error("Invalid URL: "+t.url);const g="wss:"===p.protocol||"https:"===p.protocol,f=g?443:80,v=c(16).toString("base64"),y=g?o.get:i.get;let E;a.createConnection=g?O:T,a.defaultPort=a.defaultPort||f,a.port=p.port||f,a.host=p.hostname.startsWith("[")?p.hostname.slice(1,-1):p.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=p.pathname+p.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(E=new h(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=P({[h.extensionName]:E.offer()}));n&&(a.headers["Sec-WebSocket-Protocol"]=n);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(p.username||p.password)&&(a.auth=`${p.username}:${p.password}`);if(d){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let _=t._req=y(a);a.timeout&&_.on("timeout",()=>{I(t,_,"Opening handshake has timed out")});_.on("error",e=>{t._req.aborted||(_=t._req=null,t.readyState=A.CLOSING,t.emit("error",e),t.emitClose())}),_.on("response",o=>{const i=o.headers.location,c=o.statusCode;if(i&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void I(t,_,"Maximum redirects exceeded");_.abort();const o=new u(i,r);e(t,o,n,s)}else t.emit("unexpected-response",_,o)||I(t,_,"Unexpected server response: "+o.statusCode)}),_.on("upgrade",(e,r,o)=>{if(t.emit("upgrade",e),t.readyState!==A.CONNECTING)return;_=t._req=null;const i=l("sha1").update(v+m).digest("base64");if(e.headers["sec-websocket-accept"]!==i)return void I(t,r,"Invalid Sec-WebSocket-Accept header");const s=e.headers["sec-websocket-protocol"],c=(n||"").split(/, */);let u;if(!n&&s?u="Server sent a subprotocol but none was requested":n&&!s?u="Server sent no subprotocol":s&&!c.includes(s)&&(u="Server sent an invalid subprotocol"),u)I(t,r,u);else{if(s&&(t.protocol=s),E)try{const r=b(e.headers["sec-websocket-extensions"]);r[h.extensionName]&&(E.accept(r[h.extensionName]),t._extensions[h.extensionName]=E)}catch(e){return void I(t,r,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(r,o,a.maxPayload)}})}(this,e,t,r)):this._isServer=!0}get CONNECTING(){return A.CONNECTING}get CLOSING(){return A.CLOSING}get CLOSED(){return A.CLOSED}get OPEN(){return A.OPEN}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,r){const n=new p(this._binaryType,this._extensions,this._isServer,r);this._sender=new d(e,this._extensions),this._receiver=n,this._socket=e,n[y]=this,e[y]=this,n.on("conclude",k),n.on("drain",L),n.on("error",M),n.on("message",D),n.on("ping",F),n.on("pong",j),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",U),e.on("data",B),e.on("end",H),e.on("error",G),this.readyState=A.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this.readyState=A.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=A.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==A.CLOSED){if(this.readyState===A.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this.readyState!==A.CLOSING?(this.readyState=A.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===A.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||f,t,r)):N(this,e,r)}pong(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===A.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||f,t,r)):N(this,e,r)}send(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==A.OPEN)return void N(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||f,n,r)}terminate(){if(this.readyState!==A.CLOSED){if(this.readyState===A.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this._socket&&(this.readyState=A.CLOSING,this._socket.destroy())}}}function T(e){return e.path=e.socketPath,s.connect(e)}function O(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),a.connect(e)}function I(e,t,r){e.readyState=A.CLOSING;const n=new Error(r);Error.captureStackTrace(n,I),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function N(e,t,r){if(t){const r=C(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){r(new Error(`WebSocket is not open: readyState ${e.readyState} (${w[e.readyState]})`))}}function k(e,t){const r=this[y];r._socket.removeListener("data",B),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,1005===e?r.close():r.close(e,t)}function L(){this[y]._socket.resume()}function M(e){const t=this[y];t._socket.removeListener("data",B),t.readyState=A.CLOSING,t._closeCode=e[v],t.emit("error",e),t._socket.destroy()}function x(){this[y].emitClose()}function D(e){this[y].emit("message",e)}function F(e){const t=this[y];t.pong(e,!t._isServer,E),t.emit("ping",e)}function j(e){this[y].emit("pong",e)}function U(){const e=this[y];this.removeListener("close",U),this.removeListener("end",H),e.readyState=A.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",B),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",x),e._receiver.on("finish",x))}function B(e){this[y]._receiver.write(e)||this.pause()}function H(){const e=this[y];e.readyState=A.CLOSING,e._receiver.end(),this.end()}function G(){const e=this[y];this.removeListener("error",G),this.on("error",E),e&&(e.readyState=A.CLOSING,this.destroy())}w.forEach((e,t)=>{A[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(A.prototype,"on"+e,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})}),A.prototype.addEventListener=_,A.prototype.removeEventListener=S,e.exports=A},function(e,t,r){"use strict";const{Writable:n}=r(42),o=r(43),{BINARY_TYPES:i,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(26),{concat:l,toArrayBuffer:u,unmask:h}=r(44),{isValidStatusCode:p,isValidUTF8:d}=r(101);function g(e,t,r,n){const o=new e(r?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(o,g),o[a]=n,o}e.exports=class extends n{constructor(e,t,r,n){super(),this._binaryType=e||i[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,g(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,g(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,g(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,g(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,g(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,g(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,g(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,g(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,g(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,g(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,g(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,g(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,g(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&h(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(g(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",r)}else{const r=l(t,e);if(!d(r))return this._loop=!1,g(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",r.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return g(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!p(t))return g(RangeError,"invalid status code "+t,!0,1002);const r=e.slice(2);if(!d(r))return g(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,r){"use strict";try{const e=r(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,r){"use strict";const{randomFillSync:n}=r(32),o=r(43),{EMPTY_BUFFER:i}=r(26),{isValidStatusCode:s}=r(101),{mask:a,toBuffer:c}=r(44),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=t.mask&&t.readOnly;let o=t.mask?6:2,i=e.length;e.length>=65536?(o+=8,i=127):e.length>125&&(o+=2,i=126);const s=Buffer.allocUnsafe(r?e.length+o:o);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=i,126===i?s.writeUInt16BE(e.length,2):127===i&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),t.mask?(n(l,0,4),s[1]|=128,s[o-4]=l[0],s[o-3]=l[1],s[o-2]=l[2],s[o-1]=l[3],r?(a(e,l,s,o,e.length),[s]):(a(e,l,e,0,e.length),[s,e])):[s,e]}close(e,t,r,n){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+r),o.writeUInt16BE(e,0),o.write(t,2)}}this._deflating?this.enqueue([this.doClose,o,r,n]):this.doClose(o,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,r]):this.doPing(n,t,c.readOnly,r)}doPing(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,r]):this.doPong(n,t,c.readOnly,r)}doPong(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){const n=c(e),i=this._extensions[o.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&i&&(a=n.length>=i._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),i){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);const i=this._extensions[o.extensionName];this._deflating=!0,i.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t][4];"function"==typeof r&&r(e)}}else this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(t,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},function(e,t,r){"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function o(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let r,i,s=Object.create(null),a=!1,c=!1,l=!1,u=-1,h=-1,p=0;for(;p<e.length;p++){const d=e.charCodeAt(p);if(void 0===r)if(-1===h&&1===n[d])-1===u&&(u=p);else if(32===d||9===d)-1===h&&-1!==u&&(h=p);else{if(59!==d&&44!==d)throw new SyntaxError("Unexpected character at index "+p);{if(-1===u)throw new SyntaxError("Unexpected character at index "+p);-1===h&&(h=p);const n=e.slice(u,h);44===d?(o(t,n,s),s=Object.create(null)):r=n,u=h=-1}}else if(void 0===i)if(-1===h&&1===n[d])-1===u&&(u=p);else if(32===d||9===d)-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw new SyntaxError("Unexpected character at index "+p);-1===h&&(h=p),o(s,e.slice(u,h),!0),44===d&&(o(t,r,s),s=Object.create(null),r=void 0),u=h=-1}else{if(61!==d||-1===u||-1!==h)throw new SyntaxError("Unexpected character at index "+p);i=e.slice(u,p),u=h=-1}else if(c){if(1!==n[d])throw new SyntaxError("Unexpected character at index "+p);-1===u?u=p:a||(a=!0),c=!1}else if(l)if(1===n[d])-1===u&&(u=p);else if(34===d&&-1!==u)l=!1,h=p;else{if(92!==d)throw new SyntaxError("Unexpected character at index "+p);c=!0}else if(34===d&&61===e.charCodeAt(p-1))l=!0;else if(-1===h&&1===n[d])-1===u&&(u=p);else if(-1===u||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError("Unexpected character at index "+p);{if(-1===u)throw new SyntaxError("Unexpected character at index "+p);-1===h&&(h=p);let n=e.slice(u,h);a&&(n=n.replace(/\\/g,""),a=!1),o(s,i,n),44===d&&(o(t,r,s),s=Object.create(null),r=void 0),i=void 0,u=h=-1}}else-1===h&&(h=p)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===h&&(h=p);const d=e.slice(u,h);return void 0===r?o(t,d,s):(void 0===i?o(s,d,!0):o(s,i,a?d.replace(/\\/g,""):d),o(t,r,s)),t}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(23),i=r(105),s=r(69);t.Connection=class{constructor(e){this.transport=e,this.api=new Proxy({},{get:(e,t)=>{var r;return e[t]=null!=(r=e[t])?r:this.createDomain(t)}}),this.lastId=0,this.callbacks=new Map,this.innerEmitter=new o.EventEmitter,this.commandEmitter=new s.EventEmitter,this.replyEmitter=new s.EventEmitter,this.onError=this.transport.onError,this.onEnd=this.transport.onEnd,this.onCommand=this.commandEmitter.addListener,this.onReply=this.replyEmitter.addListener,e.onMessage(e=>this.processResponse(e))}pause(){this.pauseQueue=this.pauseQueue||[]}unpause(){if(console.log("process",this.pauseQueue),!this.pauseQueue)return;const e=this.pauseQueue;this.pauseQueue=void 0;for(const t of e)this.processResponse(t)}getId(){return this.lastId++}send(e){this.transport.send(e)}call(e,t){const r=this.lastId++,n={id:r,method:e,params:t};return this.transport.send(n),new Promise((e,t)=>{this.callbacks.set(r,{resolve:e,reject:t})})}close(){return n(this,void 0,void 0,(function*(){yield this.transport.close();for(const{reject:e}of this.callbacks.values())e(new s.TaskCancelledError("CDP connection closed"));this.callbacks.clear()}))}createDomain(e){return new Proxy({},{get:(t,r)=>"on"===r?(t,r)=>{const n=`${e}.${t}`;return this.innerEmitter.on(n,r),()=>this.innerEmitter.off(n,r)}:t=>this.call(`${e}.${r}`,t)})}processResponse(e){if(this.pauseQueue&&this.pauseQueue.push(e),void 0===e.id){const t=e;return this.commandEmitter.emit(t),void this.innerEmitter.emit(t.method,t.params)}this.replyEmitter.emit(e);const t=this.callbacks.get(e.id);t&&(this.callbacks.delete(e.id),"error"in e?t.reject(new i.CdpError(e)):"result"in e&&t.resolve(e.result))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.error.message),this.cause=e}}t.CdpError=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(64),i=r(69);class s extends Error{constructor(e){super(e.message),this.cause=e}}t.WebSocketError=s;class a{constructor(e){this.endEmitter=new i.EventEmitter,this.messageEmitter=new i.EventEmitter,this.errorEmitter=new i.EventEmitter,this.onMessage=this.messageEmitter.addListener,this.onError=this.errorEmitter.addListener,this.onEnd=this.endEmitter.addListener,this.ws=e,this.ws.addEventListener("message",e=>{this.messageEmitter.emit(JSON.parse(e.data))}),this.ws.addEventListener("close",()=>{this.endEmitter.emit()}),this.ws.addEventListener("error",e=>{this.errorEmitter.emit(new s(e))})}static create(e,t=i.CancellationToken.None){return n(this,void 0,void 0,(function*(){const r=new o(e,[],{perMessageDeflate:!1,maxPayload:268435456});return yield new Promise((e,n)=>{const o=t.onCancellationRequested(()=>{r.close(),n(new i.TaskCancelledError)});r.addEventListener("open",()=>{e(new a(r)),o.dispose()}),r.addEventListener("error",()=>{n(),o.dispose()})})}))}send(e){var t;null===(t=this.ws)||void 0===t||t.send(JSON.stringify(e))}close(){return n(this,void 0,void 0,(function*(){if(!this.ws)return;let e;const t=new Promise(t=>e=t);return this.ws.addEventListener("close",()=>e()),this.ws.close(),this.ws=void 0,t}))}}t.WebSocketTransport=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerEndpointHelper=void 0;const o=r(11),i=r(198),s=r(200).promises,a=r(18),c=r(50),l=r(24),u=r(3),h=r(2);t.DebuggerEndpointHelper=class{constructor(){this.localv4=i.toBuffer("127.0.0.1"),this.localv6=i.toBuffer("::1")}retryGetWSEndpoint(e,t,r){return n(this,void 0,void 0,(function*(){try{return yield this.getWSEndpoint(e)}catch(n){if(t<1||r.isCancellationRequested){const t=u.ErrorHelper.getInternalError(h.InternalErrorCode.CouldNotConnectToDebugTarget,e,n.message);if(r.isCancellationRequested)throw u.ErrorHelper.getNestedError(t,h.InternalErrorCode.CancellationTokenTriggered);throw t}return yield l.PromiseUtil.delay(1e3),yield this.retryGetWSEndpoint(e,--t,r)}}))}getWSEndpoint(e){return n(this,void 0,void 0,(function*(){const t=yield this.fetchJson(o.resolve(e,"/json/version"));if(t.webSocketDebuggerUrl)return t.webSocketDebuggerUrl;const r=yield this.fetchJson(o.resolve(e,"/json/list"));if(r.length)return r[0].webSocketDebuggerUrl;throw new Error("Could not find any debuggable target")}))}fetchJson(e){return n(this,void 0,void 0,(function*(){const t=yield this.fetch(e);try{return JSON.parse(t)}catch(e){return{}}}))}fetch(e){return n(this,void 0,void 0,(function*(){const t=!e.startsWith("http://"),r=t?c:a,n=yield this.isLoopback(e);return new Promise((o,i)=>{const s={};t&&n&&(s.rejectUnauthorized=!1);const a=r.get(e,s,e=>{let t="";e.setEncoding("utf8"),e.on("data",e=>t+=e),e.on("end",()=>o(t)),e.on("error",i)});a.on("error",i),a.end()})}))}isLoopback(e){return n(this,void 0,void 0,(function*(){let t;try{t=new o.URL(e).hostname.replace(/^\[|\]$/g,"")}catch(r){t=e}if(this.isLoopbackIp(t))return!0;try{const e=yield s.lookup(t);return this.isLoopbackIp(e.address)}catch(e){return!1}}))}isLoopbackIp(e){if("localhost"===e.toLowerCase())return!0;let t;try{t=i.toBuffer(e)}catch(e){return!1}return t.equals(this.localv4)||t.equals(this.localv6)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensurePackagerRunning=void 0;const n=r(39);t.ensurePackagerRunning=function(e,t,r){let o=`http://${e}:${t}/status`;return n.Request.request(o,!0).then(e=>"packager-status:running"===e?Promise.resolve():Promise.reject()).catch(()=>Promise.reject(r))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptImporter=void 0;const n=r(25),o=r(108),i=r(0),s=r(39),a=r(206),c=r(11),l=r(10),u=r(9),h=r(3),p=r(2),d=r(15);class g{constructor(e,t,r,n,o){this.packagerAddress=e,this.packagerPort=t,this.sourcesStoragePath=r,this.packagerRemoteRoot=n,this.packagerLocalRoot=o,this.sourceMapUtil=new a.SourceMapUtil}downloadAppScript(e,t){const r="localhost"===c.parse(e).hostname?this.overridePackagerPort(e):e;return s.Request.request(r,!0).then(e=>u.ProjectVersionHelper.getReactNativeVersions(t).then(t=>{if(u.ProjectVersionHelper.getRNVersionsWithBrokenMetroBundler().indexOf(t.reactNativeVersion)>=0){if(null===e.match(/sourceMappingURL=/g)){let t=r.replace("bundle","map");e=this.sourceMapUtil.appendSourceMapPaths(e,t)}}let o=c.parse(r),i=this.sourceMapUtil.getSourceMapURL(o,e),s=Promise.resolve();return i&&(s=this.writeAppSourceMap(i,o).then(()=>{e=this.sourceMapUtil.updateScriptPaths(e,i),l.gte(t.reactNativeVersion,"0.61.0")&&(e=this.sourceMapUtil.removeSourceURL(e))})),s.then(()=>this.writeAppScript(e,o)).then(t=>(n.logger.verbose(`Script ${r} downloaded to ${t}`),{contents:e,filepath:t}))}))}downloadDebuggerWorker(e,t,r){const a=h.ErrorHelper.getInternalError(p.InternalErrorCode.CannotAttachToPackagerCheckPackagerRunningOnPort,this.packagerPort);return o.ensurePackagerRunning(this.packagerAddress,this.packagerPort,a).then(()=>u.ProjectVersionHelper.getReactNativeVersions(t)).then(t=>{let o=this.prepareDebuggerWorkerURL(t.reactNativeVersion,r),a=i.join(e,g.DEBUGGER_WORKER_FILENAME);return n.logger.verbose("About to download: "+o+" to: "+a),s.Request.request(o,!0).then(e=>(new d.FileSystem).writeFile(a,e))})}prepareDebuggerWorkerURL(e,t){let r;if(void 0!==t)r=`http://${this.packagerAddress}:${this.packagerPort}/${t}${g.DEBUGGER_WORKER_FILENAME}`;else{let t="";l.valid(e)&&!l.gte(e,"0.50.0")||(t="debugger-ui/"),r=`http://${this.packagerAddress}:${this.packagerPort}/${t}${g.DEBUGGER_WORKER_FILENAME}`}return r}writeAppScript(e,t){let r=i.join(this.sourcesStoragePath,i.basename(t.pathname));return(new d.FileSystem).writeFile(r,e).then(()=>r)}writeAppSourceMap(e,t){return s.Request.request(e.href,!0).then(r=>{let n=i.join(this.sourcesStoragePath,i.basename(e.pathname)),o=i.basename(t.pathname),s=this.sourceMapUtil.updateSourceMapFile(r,o,this.sourcesStoragePath,this.packagerRemoteRoot,this.packagerLocalRoot);return(new d.FileSystem).writeFile(n,s)})}overridePackagerPort(e){let t=c.parse(e);return t.port=this.packagerPort.toString(),delete t.host,c.format(t)}}t.ScriptImporter=g,g.DEBUGGER_WORKER_FILE_BASENAME="debuggerWorker",g.DEBUGGER_WORKER_FILENAME=g.DEBUGGER_WORKER_FILE_BASENAME+".js"},function(e,t,r){{var n=r(111),o=r(34),i=r(112).ArraySet,s=r(210).MappingList;function a(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=o.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&r.setSourceContent(t,n)})),r},a.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),r=o.getArg(e,"original",null),n=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null==n||this._sources.has(n)||this._sources.add(n),null==i||this._names.has(i)||this._names.add(i),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},a.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=o.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[o.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var s=this._sourceRoot;null!=s&&(n=o.relative(s,n));var a=new i,c=new i;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=r&&(t.source=o.join(r,t.source)),null!=s&&(t.source=o.relative(s,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var l=t.source;null==l||a.has(l)||a.add(l);var u=t.name;null==u||c.has(u)||c.add(u)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=o.join(r,t)),null!=s&&(t=o.relative(s,t)),this.setSourceContent(t,n))}),this)},a.prototype._validateMapping=function(e,t,r,n){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},a.prototype._serializeMappings=function(){for(var e,t,r,i=0,s=1,a=0,c=0,l=0,u=0,h="",p=this._mappings.toArray(),d=0,g=p.length;d<g;d++){if((e=p[d]).generatedLine!==s)for(i=0;e.generatedLine!==s;)h+=";",s++;else if(d>0){if(!o.compareByGeneratedPositionsInflated(e,p[d-1]))continue;h+=","}h+=n.encode(e.generatedColumn-i),i=e.generatedColumn,null!=e.source&&(r=this._sources.indexOf(e.source),h+=n.encode(r-u),u=r,h+=n.encode(e.originalLine-1-c),c=e.originalLine-1,h+=n.encode(e.originalColumn-a),a=e.originalColumn,null!=e.name&&(t=this._names.indexOf(e.name),h+=n.encode(t-l),l=t))}return h},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var r=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a}},function(e,t,r){var n=r(209);t.encode=function(e){var t,r="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),r+=n.encode(t)}while(o>0);return r},t.decode=function(e,t,r){var o,i,s,a,c=e.length,l=0,u=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&i),l+=(i&=31)<<u,u+=5}while(o);r.value=(a=(s=l)>>1,1==(1&s)?-a:a),r.rest=t}},function(e,t,r){{var n=r(34);function o(){this._array=[],this._set={}}o.fromArray=function(e,t){for(var r=new o,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},o.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(e,t){var r=n.toSetString(e),o=this._set.hasOwnProperty(r),i=this._array.length;o&&!t||this._array.push(e),o||(this._set[r]=i)},o.prototype.has=function(e){var t=n.toSetString(e);return this._set.hasOwnProperty(t)},o.prototype.indexOf=function(e){var t=n.toSetString(e);if(this._set.hasOwnProperty(t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},o.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},o.prototype.toArray=function(){return this._array.slice()},t.ArraySet=o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsDebugConfigAdapter=void 0;class n{static createDebuggingConfigForPureRN(e,t,r){return Object.assign({},n.getExistingExtraArgs(e),{type:"pwa-node",request:"attach",name:"Attach",continueOnAttach:!0,port:t,rnDebugSessionId:r,resolveSourceMapLocations:["!**/debuggerWorker.js"]})}static createDebuggingConfigForRNHermes(e,t,r){return Object.assign({},n.getExistingExtraArgs(e),{type:"pwa-node",request:"attach",name:"Attach",continueOnAttach:!0,port:t,rnDebugSessionId:r,resolveSourceMapLocations:["**","!**/node_modules/**"]})}static getExistingExtraArgs(e){let t={};return e.env&&(t.env=e.env),e.envFile&&(t.envFile=e.envFile),t.sourceMaps=e.sourceMaps,e.sourceMapPathOverrides&&(t.sourceMapPathOverrides=e.sourceMapPathOverrides),e.skipFiles&&(t.skipFiles=e.skipFiles),t}}t.JsDebugConfigAdapter=n},function(e,t){e.exports=o,o.strict=i,o.loose=s;var r=Object.prototype.toString,n={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function o(e){return i(e)||s(e)}function i(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function s(e){return n[r.call(e)]}},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=!1);var r=e.length,n=0,a="",c=0,l=16,u=0,h=0,p=0,d=0,g=0;function f(t,r){for(var o=0,i=0;o<t||!r;){var s=e.charCodeAt(n);if(s>=48&&s<=57)i=16*i+s-48;else if(s>=65&&s<=70)i=16*i+s-65+10;else{if(!(s>=97&&s<=102))break;i=16*i+s-97+10}n++,o++}return o<t&&(i=-1),i}function m(){if(a="",g=0,c=n,h=u,d=p,n>=r)return c=r,l=17;var t=e.charCodeAt(n);if(o(t)){do{n++,a+=String.fromCharCode(t),t=e.charCodeAt(n)}while(o(t));return l=15}if(i(t))return n++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,a+="\n"),u++,p=n,l=14;switch(t){case 123:return n++,l=1;case 125:return n++,l=2;case 91:return n++,l=3;case 93:return n++,l=4;case 58:return n++,l=6;case 44:return n++,l=5;case 34:return n++,a=function(){for(var t="",o=n;;){if(n>=r){t+=e.substring(o,n),g=2;break}var s=e.charCodeAt(n);if(34===s){t+=e.substring(o,n),n++;break}if(92!==s){if(s>=0&&s<=31){if(i(s)){t+=e.substring(o,n),g=2;break}g=6}n++}else{if(t+=e.substring(o,n),++n>=r){g=2;break}switch(e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=f(4,!0);a>=0?t+=String.fromCharCode(a):g=4;break;default:g=5}o=n}}return t}(),l=10;case 47:var m=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!i(e.charCodeAt(n));)n++;return a=e.substring(m,n),l=12}if(42===e.charCodeAt(n+1)){n+=2;for(var y=r-1,E=!1;n<y;){var _=e.charCodeAt(n);if(42===_&&47===e.charCodeAt(n+1)){n+=2,E=!0;break}n++,i(_)&&(13===_&&10===e.charCodeAt(n)&&n++,u++,p=n)}return E||(n++,g=1),a=e.substring(m,n),l=13}return a+=String.fromCharCode(t),n++,l=16;case 45:if(a+=String.fromCharCode(t),++n===r||!s(e.charCodeAt(n)))return l=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&s(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&s(e.charCodeAt(n))))return g=3,e.substring(t,n);for(n++;n<e.length&&s(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&s(e.charCodeAt(n))){for(n++;n<e.length&&s(e.charCodeAt(n));)n++;r=n}else g=3;return e.substring(t,r)}(),l=11;default:for(;n<r&&v(t);)n++,t=e.charCodeAt(n);if(c!==n){switch(a=e.substring(c,n)){case"true":return l=8;case"false":return l=9;case"null":return l=7}return l=16}return a+=String.fromCharCode(t),n++,l=16}}function v(e){if(o(e)||i(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,a="",c=0,l=16,g=0},getPosition:function(){return n},scan:t?function(){var e;do{e=m()}while(e>=12&&e<=15);return e}:m,getToken:function(){return l},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return h},getTokenStartCharacter:function(){return c-d},getTokenError:function(){return g}}}function o(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function i(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,r){var o,i,s,a,u;if(t){for(a=t.offset,u=a+t.length,s=a;s>0&&!l(e,s-1);)s--;for(var h=u;h<e.length&&!l(e,h);)h++;i=e.substring(s,h),o=function(e,t){var r=0,n=0,o=t.tabSize||4;for(;r<e.length;){var i=e.charAt(r);if(" "===i)n++;else{if("\t"!==i)break;n+=o}r++}return Math.floor(n/o)}(i,r)}else i=e,o=0,s=0,a=0,u=e.length;var p,d=function(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if("\r"===n)return r+1<t.length&&"\n"===t.charAt(r+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(r,e),g=!1,f=0;p=r.insertSpaces?c(" ",r.tabSize||4):"\t";var m=n(i,!1),v=!1;function y(){return d+c(p,o+f)}function E(){var e=m.scan();for(g=!1;15===e||14===e;)g=g||14===e,e=m.scan();return v=16===e||0!==m.getTokenError(),e}var _=[];function S(r,n,o){v||t&&!(n<u&&o>a)||e.substring(n,o)===r||_.push({offset:n,length:o-n,content:r})}var P=E();if(17!==P){var b=m.getTokenOffset()+s;S(c(p,o),s,b)}for(;17!==P;){for(var C=m.getTokenOffset()+m.getTokenLength()+s,w=E(),R="",A=!1;!g&&(12===w||13===w);){S(" ",C,m.getTokenOffset()+s),C=m.getTokenOffset()+m.getTokenLength()+s,R=(A=12===w)?y():"",w=E()}if(2===w)1!==P&&(f--,R=y());else if(4===w)3!==P&&(f--,R=y());else{switch(P){case 3:case 1:f++,R=y();break;case 5:case 12:R=y();break;case 13:g?R=y():A||(R=" ");break;case 6:A||(R=" ");break;case 10:if(6===w){A||(R="");break}case 7:case 8:case 9:case 11:case 2:case 4:12===w||13===w?A||(R=" "):5!==w&&17!==w&&(v=!0);break;case 16:v=!0}!g||12!==w&&13!==w||(R=y())}17===w&&(R=r.insertFinalNewline?d:""),S(R,C,m.getTokenOffset()+s),P=w}return _}function c(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function l(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var u;function h(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=u.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function o(e){"property"===n.type&&(n.length=e-n.offset,n=n.parent)}function i(e){return n.children.push(e),e}d(e,{onObjectBegin:function(e){n=i({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,r){(n=i({type:"property",offset:t,length:-1,parent:n,children:[]})).children.push({type:"string",value:e,offset:t,length:r,parent:n})},onObjectEnd:function(e,t){o(e+t),n.length=e+t-n.offset,n=n.parent,o(e+t)},onArrayBegin:function(e,t){n=i({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset,n=n.parent,o(e+t)},onLiteralValue:function(e,t,r){i({type:g(e),offset:t,length:r,parent:n,value:e}),o(t+r)},onSeparator:function(e,t,r){"property"===n.type&&(":"===e?n.colonOffset=t:","===e&&o(t))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r);var s=n.children[0];return s&&delete s.parent,s}function p(e,t){if(e){for(var r=e,n=0,o=t;n<o.length;n++){var i=o[n];if("string"==typeof i){if("object"!==r.type||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===i){r=l.children[1],s=!0;break}}if(!s)return}else{var u=i;if("array"!==r.type||u<0||!Array.isArray(r.children)||u>=r.children.length)return;r=r.children[u]}}return r}}function d(e,t,r){void 0===r&&(r=u.DEFAULT);var o=n(e,!1);function i(e){return e?function(){return e(o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}var a=i(t.onObjectBegin),c=s(t.onObjectProperty),l=i(t.onObjectEnd),h=i(t.onArrayBegin),p=i(t.onArrayEnd),d=s(t.onLiteralValue),g=s(t.onSeparator),f=i(t.onComment),m=s(t.onError),v=r&&r.disallowComments,y=r&&r.allowTrailingComma;function E(){for(;;){var e=o.scan();switch(o.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:v||_(11);break;case 2:_(12);break;case 6:_(16)}switch(e){case 12:case 13:v?_(10):f();break;case 16:_(1);break;case 15:case 14:break;default:return e}}}function _(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),m(e),t.length+r.length>0)for(var n=o.getToken();17!==n;){if(-1!==t.indexOf(n)){E();break}if(-1!==r.indexOf(n))break;n=E()}}function S(e){var t=o.getTokenValue();return e?d(t):c(t),E(),!0}function P(){switch(o.getToken()){case 3:return function(){h(),E();for(var e=!1;4!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||_(4,[],[]),g(","),E(),4===o.getToken()&&y)break}else e&&_(6,[],[]);P()||_(4,[],[4,5]),e=!0}return p(),4!==o.getToken()?_(8,[4],[]):E(),!0}();case 1:return function(){a(),E();for(var e=!1;2!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||_(4,[],[]),g(","),E(),2===o.getToken()&&y)break}else e&&_(6,[],[]);(10!==o.getToken()?(_(3,[],[2,5]),0):(S(!1),6===o.getToken()?(g(":"),E(),P()||_(4,[],[2,5])):_(5,[],[2,5]),1))||_(4,[],[2,5]),e=!0}return l(),2!==o.getToken()?_(7,[2],[]):E(),!0}();case 10:return S(!0);default:return function(){switch(o.getToken()){case 11:var e=o.getTokenValue(),t=Number(e);isNaN(t)&&(_(2),t=0),d(t);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return E(),!0}()}}return E(),17===o.getToken()?!!r.allowEmptyContent||(_(4,[],[]),!1):P()?(17!==o.getToken()&&_(9,[],[]),!0):(_(4,[],[]),!1)}function g(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function f(e,t,r,n){for(var o,i=t.slice(),s=h(e,[]),a=void 0,c=void 0;i.length>0&&(c=i.pop(),void 0===(a=p(s,i))&&void 0!==r);)"string"==typeof c?((o={})[c]=r,r=o):r=[r];if(a){if("object"===a.type&&"string"==typeof c&&Array.isArray(a.children)){var l=p(a,[c]);if(void 0!==l){if(void 0===r){if(!l.parent)throw new Error("Malformed AST");var u=a.children.indexOf(l.parent),d=void 0,g=l.parent.offset+l.parent.length;if(u>0)d=(b=a.children[u-1]).offset+b.length;else if(d=a.offset+1,a.children.length>1)g=a.children[1].offset;return m(e,{offset:d,length:g-d,content:""},n)}return m(e,{offset:l.offset,length:l.length,content:JSON.stringify(r)},n)}if(void 0===r)return[];var f=JSON.stringify(c)+": "+JSON.stringify(r),v=void 0;return m(e,v=(C=n.getInsertionIndex?n.getInsertionIndex(a.children.map((function(e){return e.children[0].value}))):a.children.length)>0?{offset:(b=a.children[C-1]).offset+b.length,length:0,content:","+f}:0===a.children.length?{offset:a.offset+1,length:0,content:f}:{offset:a.offset+1,length:0,content:f+","},n)}if("array"===a.type&&"number"==typeof c&&Array.isArray(a.children)){var y=c;if(-1===y){f=""+JSON.stringify(r),v=void 0;if(0===a.children.length)v={offset:a.offset+1,length:0,content:f};else v={offset:(b=a.children[a.children.length-1]).offset+b.length,length:0,content:","+f};return m(e,v,n)}if(void 0===r&&a.children.length>=0){var E=c,_=a.children[E];v=void 0;if(1===a.children.length)v={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===E){var S=(b=a.children[E-1]).offset+b.length;v={offset:S,length:a.offset+a.length-2-S,content:""}}else v={offset:_.offset,length:a.children[E+1].offset-_.offset,content:""};return m(e,v,n)}if(void 0!==r){v=void 0,f=""+JSON.stringify(r);if(!n.isArrayInsertion&&a.children.length>c){var P=a.children[c];v={offset:P.offset,length:P.length,content:f}}else if(0===a.children.length||0===c)v={offset:a.offset+1,length:0,content:0===a.children.length?f:f+","};else{var b,C=c>a.children.length?a.children.length:c;v={offset:(b=a.children[C-1]).offset+b.length,length:0,content:","+f}}return m(e,v,n)}throw new Error("Can not "+(void 0===r?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+y+" as length is not sufficient")}throw new Error("Can not add "+("number"!=typeof c?"index":"property")+" to parent of type "+a.type)}if(void 0===r)throw new Error("Can not delete in empty document");return m(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(r)},n)}function m(e,t,r){if(!r.formattingOptions)return[t];var n=v(e,t),o=t.offset,i=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;o>0&&!l(n,o-1);)o--;for(;i<n.length&&!l(n,i);)i++}for(var s=a(n,{offset:o,length:i-o},r.formattingOptions),c=s.length-1;c>=0;c--){var u=s[c];n=v(n,u),o=Math.min(o,u.offset),i=Math.max(i,u.offset+u.length),i+=u.content.length-u.length}return[{offset:o,length:e.length-(n.length-i)-o,content:n.substring(o,i)}]}function v(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}r.r(t),r.d(t,"createScanner",(function(){return y})),r.d(t,"getLocation",(function(){return E})),r.d(t,"parse",(function(){return _})),r.d(t,"parseTree",(function(){return S})),r.d(t,"findNodeAtLocation",(function(){return P})),r.d(t,"findNodeAtOffset",(function(){return b})),r.d(t,"getNodePath",(function(){return C})),r.d(t,"getNodeValue",(function(){return w})),r.d(t,"visit",(function(){return R})),r.d(t,"stripComments",(function(){return A})),r.d(t,"printParseErrorCode",(function(){return T})),r.d(t,"format",(function(){return O})),r.d(t,"modify",(function(){return I})),r.d(t,"applyEdits",(function(){return N})),function(e){e.DEFAULT={allowTrailingComma:!1}}(u||(u={}));var y=n,E=function(e,t){var r=[],n=new Object,o=void 0,i={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(e,t,r,n){i.value=e,i.offset=t,i.length=r,i.type=n,i.colonOffset=void 0,o=i}try{d(e,{onObjectBegin:function(e,i){if(t<=e)throw n;o=void 0,s=t>e,r.push("")},onObjectProperty:function(e,o,i){if(t<o)throw n;if(a(e,o,i,"property"),r[r.length-1]=e,t<=o+i)throw n},onObjectEnd:function(e,i){if(t<=e)throw n;o=void 0,r.pop()},onArrayBegin:function(e,i){if(t<=e)throw n;o=void 0,r.push(0)},onArrayEnd:function(e,i){if(t<=e)throw n;o=void 0,r.pop()},onLiteralValue:function(e,r,o){if(t<r)throw n;if(a(e,r,o,g(e)),t<=r+o)throw n},onSeparator:function(e,i,a){if(t<=i)throw n;if(":"===e&&o&&"property"===o.type)o.colonOffset=i,s=!1,o=void 0;else if(","===e){var c=r[r.length-1];"number"==typeof c?r[r.length-1]=c+1:(s=!0,r[r.length-1]=""),o=void 0}}})}catch(e){if(e!==n)throw e}return{path:r,previousNode:o,isAtPropertyKey:s,matches:function(e){for(var t=0,n=0;t<e.length&&n<r.length;n++)if(e[t]===r[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},_=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=u.DEFAULT);var n=null,o=[],i=[];function s(e){Array.isArray(o)?o.push(e):null!==n&&(o[n]=e)}return d(e,{onObjectBegin:function(){var e={};s(e),i.push(o),o=e,n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){o=i.pop()},onArrayBegin:function(){var e=[];s(e),i.push(o),o=e,n=null},onArrayEnd:function(){o=i.pop()},onLiteralValue:s,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r),o[0]},S=h,P=p,b=function e(t,r,n){if(void 0===n&&(n=!1),function(e,t,r){return void 0===r&&(r=!1),t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}(t,r,n)){var o=t.children;if(Array.isArray(o))for(var i=0;i<o.length&&o[i].offset<=r;i++){var s=e(o[i],r,n);if(s)return s}return t}},C=function e(t){if(!t.parent||!t.parent.children)return[];var r=e(t.parent);if("property"===t.parent.type){var n=t.parent.children[0].value;r.push(n)}else if("array"===t.parent.type){var o=t.parent.children.indexOf(t);-1!==o&&r.push(o)}return r},w=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var r=Object.create(null),n=0,o=t.children;n<o.length;n++){var i=o[n],s=i.children[1];s&&(r[i.children[0].value]=e(s))}return r;case"null":case"string":case"number":case"boolean":return t.value;default:return}},R=d,A=function(e,t){var r,o,i=n(e),s=[],a=0;do{switch(o=i.getPosition(),r=i.scan()){case 12:case 13:case 17:a!==o&&s.push(e.substring(a,o)),void 0!==t&&s.push(i.getTokenValue().replace(/[^\r\n]/g,t)),a=i.getPosition()}}while(17!==r);return s.join("")};function T(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function O(e,t,r){return a(e,t,r)}function I(e,t,r,n){return f(e,t,r,n)}function N(e,t){for(var r=t.length-1;r>=0;r--)e=v(e,t[r]);return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;try{r(4).statSync(__filename+".map"),r(117).install()}catch(e){}const n=r(6),o=r(10),i=r(126),s=r(95),a=r(3),c=r(2),l=r(21),u=r(9),h=r(173),p=r(31),d=r(7),g=r(8),f=r(174),m=r(12),v=r(182),y=r(60),E=r(202),_=r(57),S=r(97),P=r(1),b=r(30),C=r(52),w=r(232);P.config({messageFormat:P.MessageFormat.bundle,bundleFormat:P.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\rn-extension.ts"));const R=P.loadMessageBundle(r(0).join(__dirname,"src\\extension\\rn-extension.ts")),A=g.OutputChannelLogger.getMainChannel(),T=new s.EntryPointHandler(s.ProcessType.Extension,A);let O;function I(e,t){let r=t.uri.fsPath,i=l.SettingsHelper.getReactNativeProjectRoot(r);return A.debug("Add project: "+i),u.ProjectVersionHelper.getReactNativeVersions(i).then(s=>{A.debug("React Native version: "+s.reactNativeVersion);let l=[];return u.ProjectVersionHelper.isVersionError(s.reactNativeVersion)?(A.debug(`react-native package version is not found in ${i}. Reason: ${s.reactNativeVersion}`),d.TelemetryHelper.sendErrorEvent("AddProjectReactNativeVersionIsEmpty",a.ErrorHelper.getInternalError(c.InternalErrorCode.CouldNotFindProjectVersion),s.reactNativeVersion,!1)):!function(e){if(o.valid(e)&&!o.gte(e,"0.19.0")){d.TelemetryHelper.sendSimpleEvent("unsupportedRNVersion",{rnVersion:e});const t=R(1,null),r=`${t}: ${e}`;return n.window.showWarningMessage(t),A.warning(r),!1}return!0}(s.reactNativeVersion)?A.debug(`react-native@${s.reactNativeVersion} isn't supported`):l.push(T.runFunction("debugger.setupLauncherStub",a.ErrorHelper.getInternalError(c.InternalErrorCode.DebuggerStubLauncherFailed),()=>{let n=new h.ReactDirManager(r);return function(e,t){return e.setup().then(()=>(t.subscriptions.push(e),e))}(n,e).then(()=>{_.ProjectsStorage.addFolder(i,new S.AppLauncher(n,t))})})),Promise.all(l).then(()=>{})})}function N(e,t,r,o){e.subscriptions.push(n.commands.registerCommand("reactNative."+t,(...e)=>{const n={platform:{value:i.CommandPaletteHandler.getPlatformByCommandName(t),isPii:!1}};return A.debug("Run command: "+t),T.runFunctionWExtProps("commandPalette."+t,n,r,o.bind(null,e))}))}t.activate=function(e){const t=b.getExtensionName(),o=b.getExtensionVersion();if(!o)throw new Error(R(0,null));if(t)if(t.includes("preview")){if(function(){if(n.extensions.getExtension("msjsdiag.vscode-react-native"))return n.window.showInformationMessage(R(5,null)),!0;return!1}())return Promise.resolve()}else!function(e){const t=b.findFileInFolderHierarchy(__dirname,"CHANGELOG.md");w.ExtensionConfigManager.config.has("version")&&w.ExtensionConfigManager.config.get("version")===e||!t||(w.ExtensionConfigManager.config.set("version",e),n.window.showInformationMessage(R(6,null,e),R(7,null)).then(()=>{n.commands.executeCommand("markdown.showPreview",n.Uri.file(t))}))}(o);A.debug("Begin to activate..."),A.debug("Extension version: "+o);const s=new(0,r(81).default)("react-native-tools",o,p.Telemetry.APPINSIGHTS_INSTRUMENTATIONKEY),l=O=new f.ReactNativeDebugConfigProvider,u=new v.LaunchJsonCompletionProvider,h=n.workspace.workspaceFolders;let g={};return h&&(g={workspaceFoldersCount:{value:h.length,isPii:!1}}),T.runApp("react-native-tools",o,a.ErrorHelper.getInternalError(c.InternalErrorCode.ExtensionActivationFailed),s,(function(){e.subscriptions.push(n.workspace.onDidChangeWorkspaceFolders(t=>function(e,t){t.removed.length&&t.removed.forEach(t=>{!function(e,t){let r=_.ProjectsStorage.getFolder(t);Object.keys(r).forEach(e=>{r[e].dispose&&r[e].dispose()}),A.debug("Delete project: "+t.uri.fsPath),_.ProjectsStorage.delFolder(t);try{e.subscriptions.forEach((t,r)=>{t.isDisposed&&e.subscriptions.splice(r,1)})}catch(e){}}(e,t)});t.added.length&&t.added.forEach(t=>{I(e,t)})}(e,t))),e.subscriptions.push(n.workspace.onDidChangeConfiguration(()=>{})),e.subscriptions.push(n.debug.registerDebugConfigurationProvider(m.DEBUG_TYPES.REACT_NATIVE,l)),e.subscriptions.push(n.languages.registerCompletionItemProvider({language:v.JsonLanguages.json},u)),e.subscriptions.push(n.languages.registerCompletionItemProvider({language:v.JsonLanguages.jsonWithComments},u));const t=new E.ReactNativeSessionManager;e.subscriptions.push(n.debug.registerDebugAdapterDescriptorFactory(m.DEBUG_TYPES.REACT_NATIVE,t)),e.subscriptions.push(n.debug.registerDebugAdapterDescriptorFactory(m.DEBUG_TYPES.REACT_NATIVE_DIRECT,t)),e.subscriptions.push(t),e.subscriptions.push(y.DebugSessionBase.onDidTerminateRootDebugSession(e=>{t.terminate(e)}));let r=d.TelemetryHelper.createTelemetryEvent("activate");p.Telemetry.send(r);let o=[];return h?(A.debug("Projects found: "+h.length),h.forEach(t=>{o.push(I(e,t))})):(A.warning("Could not find workspace while activating"),d.TelemetryHelper.sendErrorEvent("ActivateCouldNotFindWorkspace",a.ErrorHelper.getInternalError(c.InternalErrorCode.CouldNotFindWorkspace))),Promise.all(o).then(()=>function(e){N(e,"launchAndroidSimulator",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToStartAndroidEmulator),()=>i.CommandPaletteHandler.launchAndroidEmulator()),N(e,"runAndroidSimulator",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToRunOnAndroid),()=>i.CommandPaletteHandler.runAndroid("simulator")),N(e,"runAndroidDevice",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToRunOnAndroid),()=>i.CommandPaletteHandler.runAndroid("device")),N(e,"runIosSimulator",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToRunOnIos),()=>i.CommandPaletteHandler.runIos("simulator")),N(e,"runIosDevice",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToRunOnIos),()=>i.CommandPaletteHandler.runIos("device")),N(e,"runExponent",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToRunExponent),()=>i.CommandPaletteHandler.runExponent()),N(e,"startPackager",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToStartPackager),()=>i.CommandPaletteHandler.startPackager()),N(e,"stopPackager",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToStopPackager),()=>i.CommandPaletteHandler.stopPackager()),N(e,"restartPackager",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToRestartPackager),()=>i.CommandPaletteHandler.restartPackager()),N(e,"publishToExpHost",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToPublishToExpHost),()=>i.CommandPaletteHandler.publishToExpHost()),N(e,"startLogCatMonitor",a.ErrorHelper.getInternalError(c.InternalErrorCode.AndroidCouldNotStartLogCatMonitor),()=>i.CommandPaletteHandler.startLogCatMonitor()),N(e,"stopLogCatMonitor",a.ErrorHelper.getInternalError(c.InternalErrorCode.AndroidCouldNotStopLogCatMonitor),()=>i.CommandPaletteHandler.stopLogCatMonitor()),N(e,"showDevMenu",a.ErrorHelper.getInternalError(c.InternalErrorCode.CommandFailed,R(2,null)),()=>i.CommandPaletteHandler.showDevMenu()),N(e,"reloadApp",a.ErrorHelper.getInternalError(c.InternalErrorCode.CommandFailed,R(3,null)),()=>i.CommandPaletteHandler.reloadApp()),N(e,"runInspector",a.ErrorHelper.getInternalError(c.InternalErrorCode.CommandFailed,R(4,null)),()=>i.CommandPaletteHandler.runElementInspector()),N(e,"selectAndInsertDebugConfiguration",a.ErrorHelper.getInternalError(c.InternalErrorCode.CommandFailed),e=>{if(!O||e.length<3)throw a.ErrorHelper.getInternalError(c.InternalErrorCode.CommandFailed);return i.CommandPaletteHandler.selectAndInsertDebugConfiguration(O,e[0],e[1],e[2])})}(e))}),g)},t.deactivate=function(){return new Promise((function(e){T.runFunction("extension.deactivate",a.ErrorHelper.getInternalError(c.InternalErrorCode.FailedToStopPackagerOnExit),()=>{O&&(O=null),i.CommandPaletteHandler.stopAllPackagers().then(()=>i.CommandPaletteHandler.stopElementInspector()).then(()=>{C.LogCatMonitorManager.cleanUp(),e()})},!0)}))}},function(e,t,r){var n,o=r(118).SourceMapConsumer,i=r(0);try{(n=r(4)).existsSync&&n.readFileSync||(n=null)}catch(e){}var s=!1,a=!1,c=!1,l="auto",u={},h={},p=/^data:application\/json[^,]+base64,/,d=[],g=[];function f(){return"browser"===l||"node"!==l&&("undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type))}function m(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}var v=m(d);function y(e,t){if(!e)return t;var r=i.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),o=n?n[0]:"";return o+i.resolve(r.slice(o.length),t)}d.push((function(e){if((e=e.trim())in u)return u[e];var t=null;if(n){if(n.existsSync(e))try{t=n.readFileSync(e,"utf8")}catch(e){t=""}}else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null);t=null;4===r.readyState&&200===r.status&&(t=r.responseText)}return u[e]=t}));var E=m(g);function _(e){var t=h[e.source];if(!t){var r=E(e.source);r?(t=h[e.source]={url:r.url,map:new o(r.map)}).map.sourcesContent&&t.map.sources.forEach((function(e,r){var n=t.map.sourcesContent[r];if(n){var o=y(t.url,e);u[o]=n}})):t=h[e.source]={url:null,map:null}}if(t&&t.map){var n=t.map.originalPositionFor(e);if(null!==n.source)return n.source=y(t.url,n.source),n}return e}function S(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var r=this.getLineNumber();if(null!=r){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var o="",i=this.getFunctionName(),s=!0,a=this.isConstructor();if(!(this.isToplevel()||a)){var c=this.getTypeName();"[object Object]"===c&&(c="null");var l=this.getMethodName();i?(c&&0!=i.indexOf(c)&&(o+=c+"."),o+=i,l&&i.indexOf("."+l)!=i.length-l.length-1&&(o+=" [as "+l+"]")):o+=c+"."+(l||"<anonymous>")}else a?o+="new "+(i||"<anonymous>"):i?o+=i:(o+=t,s=!1);return s&&(o+=" ("+t+")"),o}function P(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]})),t.toString=S,t}function b(e){if(e.isNative())return e;var t=e.getFileName()||e.getScriptNameOrSourceURL();if(t){var r=e.getLineNumber(),n=e.getColumnNumber()-1;1===r&&n>62&&!f()&&!e.isEval()&&(n-=62);var o=_({source:t,line:r,column:n});return(e=P(e)).getFileName=function(){return o.source},e.getLineNumber=function(){return o.line},e.getColumnNumber=function(){return o.column+1},e.getScriptNameOrSourceURL=function(){return o.source},e}var i=e.isEval()&&e.getEvalOrigin();return i?(i=function e(t){var r=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(r){var n=_({source:r[2],line:+r[3],column:r[4]-1});return"eval at "+r[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return(r=/^eval at ([^(]+) \((.+)\)$/.exec(t))?"eval at "+r[1]+" ("+e(r[2])+")":t}(i),(e=P(e)).getEvalOrigin=function(){return i},e):e}function C(e,t){return c&&(u={},h={}),e+t.map((function(e){return"\n    at "+b(e)})).join("")}function w(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],i=+t[3],s=u[r];if(!s&&n&&n.existsSync(r))try{s=n.readFileSync(r,"utf8")}catch(e){s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[o-1];if(a)return r+":"+o+"\n"+a+"\n"+new Array(i).join(" ")+"^"}}return null}function R(e){var t=w(e);t&&(console.error(),console.error(t)),console.error(e.stack),process.exit(1)}g.push((function(e){var t,r=function(e){var t;if(f())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=4===r.readyState?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch(e){}t=v(e);for(var o,i,s=/(?:\/\/[@#][ \t]+sourceMappingURL=([^\s'"]+?)[ \t]*$)|(?:\/\*[@#][ \t]+sourceMappingURL=([^\*]+?)[ \t]*(?:\*\/)[ \t]*$)/gm;i=s.exec(t);)o=i;return o?o[1]:null}(e);if(!r)return null;if(p.test(r)){var n=r.slice(r.indexOf(",")+1);t=new Buffer(n,"base64").toString(),r=e}else r=y(e,r),t=v(r);return t?{url:r,map:t}:null})),t.wrapCallSite=b,t.getErrorSource=w,t.mapSourcePosition=_,t.retrieveSourceMap=E,t.install=function(e){if((e=e||{}).environment&&(l=e.environment,-1===["node","browser","auto"].indexOf(l)))throw new Error("environment "+l+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(d.length=0),d.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(g.length=0),g.unshift(e.retrieveSourceMap)),e.hookRequire&&!f()){var t;try{t=r(125)}catch(e){}var n=t.prototype._compile;n.__sourceMapSupport||(t.prototype._compile=function(e,t){return u[t]=e,h[t]=void 0,n.call(this,e,t)},t.prototype._compile.__sourceMapSupport=!0)}var o;(c||(c="emptyCacheBetweenOperations"in e&&e.emptyCacheBetweenOperations),s||(s=!0,Error.prepareStackTrace=C),a)||(!("handleUncaughtExceptions"in e)||e.handleUncaughtExceptions)&&"object"==typeof process&&null!==process&&"function"==typeof process.on&&(a=!0,o=process.emit,process.emit=function(e){if("uncaughtException"===e){var t=arguments[1]&&arguments[1].stack,r=this.listeners(e).length>0;if(t&&!r)return R(arguments[1])}return o.apply(this,arguments)})}},function(e,t,r){t.SourceMapGenerator=r(70).SourceMapGenerator,t.SourceMapConsumer=r(121).SourceMapConsumer,t.SourceNode=r(124).SourceNode},function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,r){var n=r(27);function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){var t,r,o,i,s,a;t=this._last,r=e,o=t.generatedLine,i=r.generatedLine,s=t.generatedColumn,a=r.generatedColumn,i>o||i==o&&a>=s||n.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=o},function(e,t,r){var n=r(27),o=r(122),i=r(72).ArraySet,s=r(71),a=r(123).quickSort;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new h(t):new l(t)}function l(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=n.getArg(t,"version"),o=n.getArg(t,"sources"),s=n.getArg(t,"names",[]),a=n.getArg(t,"sourceRoot",null),c=n.getArg(t,"sourcesContent",null),l=n.getArg(t,"mappings"),u=n.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);o=o.map(String).map(n.normalize).map((function(e){return a&&n.isAbsolute(a)&&n.isAbsolute(e)?n.relative(a,e):e})),this._names=i.fromArray(s.map(String),!0),this._sources=i.fromArray(o,!0),this.sourceRoot=a,this.sourcesContent=c,this._mappings=l,this.file=u}function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=n.getArg(t,"version"),o=n.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new i,this._names=new i;var s={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=n.getArg(e,"offset"),r=n.getArg(t,"line"),o=n.getArg(t,"column");if(r<s.line||r===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new c(n.getArg(e,"map"))}}))}c.fromSourceMap=function(e){return l.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,r){var o,i=t||null;switch(r||c.GENERATED_ORDER){case c.GENERATED_ORDER:o=this._generatedMappings;break;case c.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=n.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},c.prototype.allGeneratedPositionsFor=function(e){var t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(null!=this.sourceRoot&&(r.source=n.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var i=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)i.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var l=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==l;)i.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},t.SourceMapConsumer=c,l.prototype=Object.create(c.prototype),l.prototype.consumer=c,l.fromSourceMap=function(e){var t=Object.create(l.prototype),r=t._names=i.fromArray(e._names.toArray(),!0),o=t._sources=i.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),c=t.__generatedMappings=[],h=t.__originalMappings=[],p=0,d=s.length;p<d;p++){var g=s[p],f=new u;f.generatedLine=g.generatedLine,f.generatedColumn=g.generatedColumn,g.source&&(f.source=o.indexOf(g.source),f.originalLine=g.originalLine,f.originalColumn=g.originalColumn,g.name&&(f.name=r.indexOf(g.name)),h.push(f)),c.push(f)}return a(t.__originalMappings,n.compareByOriginalPositions),t},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?n.join(this.sourceRoot,e):e}),this)}}),l.prototype._parseMappings=function(e,t){for(var r,o,i,c,l,h=1,p=0,d=0,g=0,f=0,m=0,v=e.length,y=0,E={},_={},S=[],P=[];y<v;)if(";"===e.charAt(y))h++,y++,p=0;else if(","===e.charAt(y))y++;else{for((r=new u).generatedLine=h,c=y;c<v&&!this._charIsMappingSeparator(e,c);c++);if(i=E[o=e.slice(y,c)])y+=o.length;else{for(i=[];y<c;)s.decode(e,y,_),l=_.value,y=_.rest,i.push(l);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");E[o]=i}r.generatedColumn=p+i[0],p=r.generatedColumn,i.length>1&&(r.source=f+i[1],f+=i[1],r.originalLine=d+i[2],d=r.originalLine,r.originalLine+=1,r.originalColumn=g+i[3],g=r.originalColumn,i.length>4&&(r.name=m+i[4],m+=i[4])),P.push(r),"number"==typeof r.originalLine&&S.push(r)}a(P,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=P,a(S,n.compareByOriginalPositions),this.__originalMappings=S},l.prototype._findMapping=function(e,t,r,n,i,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return o.search(e,t,i,s)},l.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===t.generatedLine){var i=n.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=n.join(this.sourceRoot,i)));var s=n.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:n.getArg(o,"originalLine",null),column:n.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},l.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=n.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=n.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!r.path||"/"==r.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(e){var t=n.getArg(e,"source");if(null!=this.sourceRoot&&(t=n.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var r={source:t=this._sources.indexOf(t),originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")},o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===r.source)return{line:n.getArg(i,"generatedLine",null),column:n.getArg(i,"generatedColumn",null),lastColumn:n.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=l,h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=o.search(t,this._sections,(function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn})),i=this._sections[r];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer.sources.indexOf(n.getArg(e,"source"))){var o=r.consumer.generatedPositionFor(e);if(o)return{line:o.line+(r.generatedOffset.generatedLine-1),column:o.column+(r.generatedOffset.generatedLine===o.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var o=this._sections[r],i=o.consumer._generatedMappings,s=0;s<i.length;s++){var c=i[s],l=o.consumer._sources.at(c.source);null!==o.consumer.sourceRoot&&(l=n.join(o.consumer.sourceRoot,l)),this._sources.add(l),l=this._sources.indexOf(l);var u=o.consumer._names.at(c.name);this._names.add(u),u=this._names.indexOf(u);var h={source:l,generatedLine:c.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(o.generatedOffset.generatedLine===c.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:u};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),a(this.__originalMappings,n.compareByOriginalPositions)},t.IndexedSourceMapConsumer=h},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,n,o){if(0===r.length)return-1;var i=function e(r,n,o,i,s,a){var c=Math.floor((n-r)/2)+r,l=s(o,i[c],!0);return 0===l?c:l>0?n-c>1?e(c,n,o,i,s,a):a==t.LEAST_UPPER_BOUND?n<i.length?n:-1:c:c-r>1?e(r,c,o,i,s,a):a==t.LEAST_UPPER_BOUND?c:r<0?-1:r}(-1,r.length,e,r,n,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===n(r[i],r[i-1],!0);)--i;return i}},function(e,t){function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t,o,i){if(o<i){var s=o-1;r(e,(u=o,h=i,Math.round(u+Math.random()*(h-u))),i);for(var a=e[i],c=o;c<i;c++)t(e[c],a)<=0&&r(e,s+=1,c);r(e,s+1,c);var l=s+1;n(e,t,o,l-1),n(e,t,l+1,i)}var u,h}t.quickSort=function(e,t){n(e,t,0,e.length-1)}},function(e,t,r){var n=r(70).SourceMapGenerator,o=r(27),i=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,r,n,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==o?null:o,this[s]=!0,null!=n&&this.add(n)}a.fromStringWithSourceMap=function(e,t,r){var n=new a,s=e.split(i),c=0,l=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}},u=1,h=0,p=null;return t.eachMapping((function(e){if(null!==p){if(!(u<e.generatedLine)){var t=(r=s[c]).substr(0,e.generatedColumn-h);return s[c]=r.substr(e.generatedColumn-h),h=e.generatedColumn,d(p,t),void(p=e)}d(p,l()),u++,h=0}for(;u<e.generatedLine;)n.add(l()),u++;if(h<e.generatedColumn){var r=s[c];n.add(r.substr(0,e.generatedColumn)),s[c]=r.substr(e.generatedColumn),h=e.generatedColumn}p=e}),this),c<s.length&&(p&&d(p,l()),n.add(s.splice(c).join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=r&&(e=o.join(r,e)),n.setSourceContent(e,i))})),n;function d(e,t){if(null===e||void 0===e.source)n.add(t);else{var i=r?o.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,i,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(o.fromSetString(n[t]),this.sourceContents[n[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),o=!1,i=null,s=null,a=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(i===n.source&&s===n.line&&a===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),i=n.source,s=n.line,a=n.column,c=n.name,o=!0):o&&(r.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var l=0,u=e.length;l<u;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===u?(i=null,o=!1):o&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},t.SourceNode=a},function(e,t){e.exports=require("module")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandPaletteHandler=void 0;const o=r(6),i=r(35),s=r(21),a=r(8),c=r(79),l=r(88),u=r(9),h=r(56),p=r(46),d=r(7),g=r(57),f=r(5),m=r(94),v=r(29),y=r(28),E=r(171),_=r(13),S=r(1),P=r(3),b=r(2),C=r(86),w=r(80),R=r(84),A=r(52);S.config({messageFormat:S.MessageFormat.bundle,bundleFormat:S.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\commandPaletteHandler.ts"));const T=S.loadMessageBundle(r(0).join(__dirname,"src\\extension\\commandPaletteHandler.ts"));class O{static startPackager(){return this.selectProject().then(e=>u.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(e.getPackager().getProjectPath()).then(t=>this.executeCommandInContext("startPackager",e.getWorkspaceFolder(),()=>e.getPackager().isRunning().then(t=>t?e.getPackager().stop():Promise.resolve())).then(()=>e.getPackager().start())))}static stopPackager(){return this.selectProject().then(e=>this.executeCommandInContext("stopPackager",e.getWorkspaceFolder(),()=>e.getPackager().stop()))}static stopAllPackagers(){let e=Object.keys(g.ProjectsStorage.projectsCache),t=[];return e.forEach(e=>{let r=g.ProjectsStorage.projectsCache[e];t.push(this.executeCommandInContext("stopPackager",r.getWorkspaceFolder(),()=>r.getPackager().stop()))}),Promise.all(t).then(()=>{})}static restartPackager(){return this.selectProject().then(e=>u.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(e.getPackager().getProjectPath()).then(t=>this.executeCommandInContext("restartPackager",e.getWorkspaceFolder(),()=>this.runRestartPackagerCommandAndUpdateStatus(e))))}static publishToExpHost(){return this.selectProject().then(e=>this.executeCommandInContext("publishToExpHost",e.getWorkspaceFolder(),()=>this.executePublishToExpHost(e).then(e=>{e||O.logger.warning(T(0,null))})))}static launchAndroidEmulator(){return n(this,void 0,void 0,(function*(){const e=yield this.selectProject(),t=new w.AdbHelper(e.getPackager().getProjectPath()),r=new C.AndroidEmulatorManager(t),n=yield r.startSelection();n&&r.tryLaunchEmulatorByName(n)}))}static runAndroid(e="simulator"){return this.selectProject().then(t=>(p.TargetPlatformHelper.checkTargetPlatformSupport(f.PlatformType.Android),u.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(t.getPackager().getProjectPath()).then(r=>(t.setReactNativeVersions(r),this.executeCommandInContext("runAndroid",t.getWorkspaceFolder(),()=>{const r=this.createPlatform(t,f.PlatformType.Android,c.AndroidPlatform,e);return r.resolveVirtualDevice(e).then(()=>r.beforeStartPackager()).then(()=>r.startPackager()).then(()=>r.runApp(!0)).then(()=>r.disableJSDebuggingMode())})))))}static runIos(e="simulator"){return this.selectProject().then(t=>u.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(t.getPackager().getProjectPath()).then(r=>(t.setReactNativeVersions(r),p.TargetPlatformHelper.checkTargetPlatformSupport(f.PlatformType.iOS),this.executeCommandInContext("runIos",t.getWorkspaceFolder(),()=>{const r=this.createPlatform(t,f.PlatformType.iOS,l.IOSPlatform,e);return r.resolveVirtualDevice(e).then(()=>r.beforeStartPackager()).then(()=>r.startPackager()).then(()=>r.disableJSDebuggingMode()).catch(()=>{}).then(()=>r.runApp())}))))}static runExponent(){return this.selectProject().then(e=>u.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(e.getPackager().getProjectPath()).then(t=>this.loginToExponent(e).then(()=>this.executeCommandInContext("runExponent",e.getWorkspaceFolder(),()=>{e.setReactNativeVersions(t);const r=this.createPlatform(e,f.PlatformType.Exponent,m.ExponentPlatform);return r.beforeStartPackager().then(()=>r.startPackager()).then(()=>r.runApp())}))))}static showDevMenu(){return this.selectProject().then(e=>{if(this.createPlatform(e,f.PlatformType.Android,c.AndroidPlatform).showDevMenu().catch(()=>{}),"darwin"===process.platform){this.createPlatform(e,f.PlatformType.iOS,l.IOSPlatform).showDevMenu(e).catch(()=>{})}return Promise.resolve()})}static reloadApp(){return this.selectProject().then(e=>{if(this.createPlatform(e,f.PlatformType.Android,c.AndroidPlatform).reloadApp().catch(()=>{}),"darwin"===process.platform){this.createPlatform(e,f.PlatformType.iOS,l.IOSPlatform).reloadApp(e).catch(()=>{})}return Promise.resolve()})}static runElementInspector(){if(O.elementInspector)this.logger.info(T(1,null));else{let e=Object.assign({},process.env);delete e.ATOM_SHELL_INTERNAL_RUN_AS_NODE,delete e.ELECTRON_RUN_AS_NODE;let t=y.HostPlatform.getNpmCliCommand("react-devtools");if(O.elementInspector=v.spawn(t,[],{env:e}),!O.elementInspector.pid)return O.elementInspector=null,Promise.reject(P.ErrorHelper.getInternalError(b.InternalErrorCode.ReactDevtoolsIsNotInstalled));O.elementInspector.stdout.on("data",e=>{this.logger.info(e)}),O.elementInspector.stderr.on("data",e=>{this.logger.error(e)}),O.elementInspector.once("exit",()=>{O.elementInspector=null})}return Promise.resolve()}static stopElementInspector(){return O.elementInspector?O.elementInspector.kill():void 0}static getPlatformByCommandName(e){return(e=e.toLocaleLowerCase()).indexOf(f.PlatformType.Android)>-1?f.PlatformType.Android:e.indexOf(f.PlatformType.iOS)>-1?f.PlatformType.iOS:e.indexOf(f.PlatformType.Exponent)>-1?f.PlatformType.Exponent:""}static startLogCatMonitor(){return this.selectProject().then(e=>{const t=new w.AdbHelper(e.getPackager().getProjectPath());return new C.AndroidEmulatorManager(t).selectOnlineDevice().then(r=>{if(r){A.LogCatMonitorManager.delMonitor(r);let n=s.SettingsHelper.getLogCatFilteringArgs(e.getWorkspaceFolderUri()),o=new R.LogCatMonitor(r,t,n);A.LogCatMonitorManager.addMonitor(o),o.start().catch(()=>this.logger.warning(T(2,null)))}else o.window.showErrorMessage(T(3,null))})})}static stopLogCatMonitor(){return this.selectLogCatMonitor().then(e=>{A.LogCatMonitorManager.delMonitor(e.deviceId)})}static selectAndInsertDebugConfiguration(e,t,r,i){return n(this,void 0,void 0,(function*(){if(o.window.activeTextEditor&&o.window.activeTextEditor.document===t){const n=o.workspace.getWorkspaceFolder(t.uri),s=yield e.provideDebugConfigurationSequentially(n,i);if(!i.isCancellationRequested&&s){const e=E.LaunchJsonCompletionHelper.getCursorPositionInConfigurationsArray(t,r);if(!e)return;const n=E.LaunchJsonCompletionHelper.isCommaImmediatelyBeforeCursor(t,r)?"BeforeCursor":void 0,i=E.LaunchJsonCompletionHelper.getTextForInsertion(s,e,n),a=new o.WorkspaceEdit;a.insert(t.uri,r,i),yield o.workspace.applyEdit(a),o.commands.executeCommand("editor.action.formatDocument").then(()=>{},()=>{})}}}))}static createPlatform(e,t,r,n){return new r(O.getRunOptions(e,t,n),{packager:e.getPackager()})}static runRestartPackagerCommandAndUpdateStatus(e){return e.getPackager().restart(s.SettingsHelper.getPackagerPort(e.getWorkspaceFolderUri().fsPath))}static executeCommandInContext(e,t,r){const n={platform:{value:O.getPlatformByCommandName(e),isPii:!1}};return d.TelemetryHelper.generate("RNCommand",n,n=>{n.add("command",e,!1);const i=s.SettingsHelper.getReactNativeProjectRoot(t.uri.fsPath);return this.logger.debug(`Command palette: run project ${i} in context`),h.ReactNativeProjectHelper.isReactNativeProject(i).then(e=>(n.add("isRNProject",e,!1),e?(this.logger.setFocusOnLogChannel(),r()):void o.window.showErrorMessage(i+" workspace is not a React Native project.")))})}static executePublishToExpHost(e){return O.logger.info(T(4,null)),this.loginToExponent(e).then(t=>(O.logger.debug(`Publishing as ${t.username}...`),this.runExponent().then(()=>i.publish(e.getWorkspaceFolderUri().fsPath)).then(e=>{if(e.err||!e.url)return!1;const t=T(5,null,e.url);return O.logger.info(t),o.window.showInformationMessage(t),!0})))}static loginToExponent(e){return e.getExponentHelper().loginToExponent((e,t)=>new Promise((r,n)=>{o.window.showInputBox({placeHolder:e,password:t}).then(e=>{r(e||"")},n)}),e=>new Promise((t,r)=>{o.window.showInformationMessage(e).then(e=>{t(e||"")},r)})).catch(e=>{throw O.logger.warning(T(6,null)),e})}static selectProject(){let e=Object.keys(g.ProjectsStorage.projectsCache);return e.length>1?new Promise((t,r)=>{o.window.showQuickPick(e).then(e=>{e&&(this.logger.debug("Command palette: selected project "+e),t(g.ProjectsStorage.projectsCache[e]))},r)}):1===e.length?(this.logger.debug("Command palette: once project "+e[0]),Promise.resolve(g.ProjectsStorage.projectsCache[e[0]])):Promise.reject(P.ErrorHelper.getInternalError(b.InternalErrorCode.WorkspaceNotFound,"Current workspace does not contain React Native projects."))}static selectLogCatMonitor(){let e=Object.keys(A.LogCatMonitorManager.logCatMonitorsCache);return e.length>1?new Promise((t,r)=>{o.window.showQuickPick(e).then(e=>{e&&(this.logger.debug("Command palette: selected LogCat monitor "+e),t(A.LogCatMonitorManager.logCatMonitorsCache[e]))},r)}):1===e.length?(this.logger.debug("Command palette: once LogCat monitor "+e[0]),Promise.resolve(A.LogCatMonitorManager.logCatMonitorsCache[e[0]])):Promise.reject(P.ErrorHelper.getInternalError(b.InternalErrorCode.AndroidCouldNotFindActiveLogCatMonitor))}static getRunOptions(e,t,r="simulator"){const n=s.SettingsHelper.getPackagerPort(e.getWorkspaceFolderUri().fsPath),o=s.SettingsHelper.getRunArgs(t,r,e.getWorkspaceFolderUri()),i=s.SettingsHelper.getEnvArgs(t,r,e.getWorkspaceFolderUri()),a=s.SettingsHelper.getEnvFile(t,r,e.getWorkspaceFolderUri()),c=s.SettingsHelper.getReactNativeProjectRoot(e.getWorkspaceFolderUri().fsPath),l={platform:t,workspaceRoot:e.getWorkspaceFolderUri().fsPath,projectRoot:c,packagerPort:n,runArguments:o,env:i,envFile:a,reactNativeVersions:e.getReactNativeVersions()||{reactNativeVersion:"",reactNativeWindowsVersion:"",reactNativeMacOSVersion:""}};return t===f.PlatformType.iOS&&"device"===r&&(l.target="device"),_.CommandExecutor.ReactNativeCommand=s.SettingsHelper.getReactNativeGlobalCommandName(e.getWorkspaceFolderUri()),l}}t.CommandPaletteHandler=O,O.logger=a.OutputChannelLogger.getMainChannel()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullLogger=void 0;t.NullLogger=class{log(e,t){}info(e){}warning(e){}error(e,t,r){}debug(e){}logStream(e,t){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_STRINGS=void 0;const n=r(1),o=r(2);n.config({messageFormat:n.MessageFormat.bundle,bundleFormat:n.BundleFormat.standalone})(r(0).join(__dirname,"src\\common\\error\\errorStrings.ts"));const i=n.loadMessageBundle(r(0).join(__dirname,"src\\common\\error\\errorStrings.ts"));t.ERROR_STRINGS={[o.InternalErrorCode.CommandFailed]:i(0,null),[o.InternalErrorCode.CommandFailedWithDetails]:i(1,null),[o.InternalErrorCode.CommandFailedWithErrorCode]:i(2,null),[o.InternalErrorCode.ExpectedIntegerValue]:i(3,null),[o.InternalErrorCode.PackagerStartFailed]:i(4,null),[o.InternalErrorCode.IOSDeployNotFound]:i(5,null),[o.InternalErrorCode.DeviceNotPluggedIn]:i(6,null),[o.InternalErrorCode.DeveloperDiskImgNotMountable]:i(7,null),[o.InternalErrorCode.ApplicationLaunchFailed]:i(8,null),[o.InternalErrorCode.CouldNotAttachToDebugger]:i(9,null),[o.InternalErrorCode.ApplicationLaunchTimedOut]:i(10,null),[o.InternalErrorCode.IOSSimulatorNotLaunchable]:i(11,null),[o.InternalErrorCode.OpnPackagerLocationNotFound]:i(12,null),[o.InternalErrorCode.OpnPackagerNotFound]:i(13,null),[o.InternalErrorCode.PackageNotFound]:i(14,null),[o.InternalErrorCode.PlatformNotSupported]:i(15,null),[o.InternalErrorCode.ProjectVersionNotParsable]:i(16,null),[o.InternalErrorCode.ProjectVersionUnsupported]:i(17,null),[o.InternalErrorCode.CouldNotFindProjectVersion]:i(18,null),[o.InternalErrorCode.ProjectVersionNotReadable]:i(19,null),[o.InternalErrorCode.TelemetryInitializationFailed]:i(20,null),[o.InternalErrorCode.ExtensionActivationFailed]:i(21,null),[o.InternalErrorCode.DebuggerStubLauncherFailed]:i(22,null),[o.InternalErrorCode.IntellisenseSetupFailed]:i(23,null),[o.InternalErrorCode.NodeDebuggerConfigurationFailed]:i(24,null),[o.InternalErrorCode.FailedToStopPackagerOnExit]:i(25,null),[o.InternalErrorCode.FailedToRunOnAndroid]:i(26,null),[o.InternalErrorCode.FailedToRunOnIos]:i(27,null),[o.InternalErrorCode.FailedToRunExponent]:i(28,null),[o.InternalErrorCode.FailedToPublishToExpHost]:i(29,null),[o.InternalErrorCode.FailedToStartPackager]:i(30,null),[o.InternalErrorCode.FailedToStopPackager]:i(31,null),[o.InternalErrorCode.FailedToRestartPackager]:i(32,null),[o.InternalErrorCode.DebuggingFailed]:i(33,null),[o.InternalErrorCode.DebuggingFailedInNodeWrapper]:i(34,null),[o.InternalErrorCode.RNTempFolderDeletionFailed]:i(35,null),[o.InternalErrorCode.CouldNotFindLocationOfNodeDebugger]:i(36,null),[o.InternalErrorCode.CouldNotFindWorkspace]:i(37,null),[o.InternalErrorCode.ReactNativePackageIsNotInstalled]:i(38,null),[o.InternalErrorCode.ReactNativeWindowsIsNotInstalled]:i(39,null),[o.InternalErrorCode.PackagerRunningInDifferentPort]:i(40,null),[o.InternalErrorCode.ErrorWhileProcessingMessageInIPMSServer]:i(41,null),[o.InternalErrorCode.ErrorNoPipeFound]:i(42,null),[o.InternalErrorCode.NotAllSuccessPatternsMatched]:i(43,null),[o.InternalErrorCode.CouldNotParsePackageVersion]:i(44,null),[o.InternalErrorCode.UnsupportedCommandStatus]:i(45,null),[o.InternalErrorCode.ExpectedExponentTunnelPath]:i(46,null),[o.InternalErrorCode.WorkspaceNotFound]:i(47,null),[o.InternalErrorCode.RNVersionNotSupportedByExponent]:i(48,null),[o.InternalErrorCode.UserCancelledExpoLogin]:i(49,null),[o.InternalErrorCode.CannotAttachToPackagerCheckPackagerRunningOnPort]:i(50,null),[o.InternalErrorCode.AnotherDebuggerConnectedToPackager]:i(51,null),[o.InternalErrorCode.NotInReactNativeFolderError]:i(52,null),[o.InternalErrorCode.SourcesStoragePathIsNullOrEmpty]:i(53,null),[o.InternalErrorCode.AndroidCouldNotInstallTheAppOnAnyAvailibleDevice]:i(54,null),[o.InternalErrorCode.AndroidShellCommandTimedOut]:i(55,null),[o.InternalErrorCode.AndroidProjectNotFound]:i(56,null),[o.InternalErrorCode.AndroidMoreThanOneDeviceOrEmulator]:i(57,null),[o.InternalErrorCode.AndroidFailedToLaunchTheSpecifiedActivity]:i(58,null),[o.InternalErrorCode.IOSFoundMoreThanOneExecutablesCleanupBuildFolder]:i(59,null),[o.InternalErrorCode.IOSCouldNotFoundExecutableInFolder]:i(60,null),[o.InternalErrorCode.WinRNMPPluginIsNotInstalled]:i(61,null),[o.InternalErrorCode.ReactDevtoolsIsNotInstalled]:i(62,null),[o.InternalErrorCode.CancellationTokenTriggered]:i(63,null),[o.InternalErrorCode.DebuggingWontWorkReloadJSAndReconnect]:i(64,null),[o.InternalErrorCode.ReconnectionToPackagerFailedCheckForErrorsOrRestartReactNative]:i(65,null),[o.InternalErrorCode.FailedToProcessMessageFromReactNativeApp]:i(66,null),[o.InternalErrorCode.FailedToPrepareJSRuntimeEnvironment]:i(67,null),[o.InternalErrorCode.FailedToSendMessageToTheReactNativeApp]:i(68,null),[o.InternalErrorCode.ReactNativeWorkerProcessThrownAnError]:i(69,null),[o.InternalErrorCode.CouldntImportScriptAt]:i(70,null),[o.InternalErrorCode.RNMessageWithMethodExecuteApplicationScriptDoesntHaveURLProperty]:i(71,null),[o.InternalErrorCode.CouldNotConnectToDebugTarget]:i(72,null),[o.InternalErrorCode.IOSCouldNotFoundDeviceForDirectDebugging]:i(73,null),[o.InternalErrorCode.FailedToStartAndroidEmulator]:i(74,null),[o.InternalErrorCode.VirtualDeviceSelectionError]:i(75,null),[o.InternalErrorCode.ReactNativemacOSIsNotInstalled]:i(76,null),[o.InternalErrorCode.AndroidCouldNotStartLogCatMonitor]:i(77,null),[o.InternalErrorCode.AndroidCouldNotStopLogCatMonitor]:i(78,null),[o.InternalErrorCode.AndroidCouldNotFindActiveLogCatMonitor]:i(79,null)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RN_VERSION_ERRORS=void 0,t.RN_VERSION_ERRORS={MISSING_PACKAGE_IN_NODE_MODULES:"errorMissingPackageInNodeModules",MISSING_DEPENDENCY_IN_PROJECT_PACKAGE_FILE:"errorMissingDependencyInProjectPackageFile",MISSING_DEPENDENCIES_FIELDS_IN_PROJECT_PACKAGE_FILE:"errorMissingDependenciesFieldsInProjectPackageFile",UNKNOWN_ERROR:"errorUnknown"}},function(e,t,r){const{promisify:n}=r(14),o=r(4);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:o,...e};else if("number"==typeof e)e={mode:e,fs:o};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:o}}else e={mode:511,fs:o};return e.mkdir=e.mkdir||e.fs.mkdir||o.mkdir,e.mkdirAsync=n(e.mkdir),e.stat=e.stat||e.fs.stat||o.stat,e.statAsync=n(e.stat),e.statSync=e.statSync||e.fs.statSync||o.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||o.mkdirSync,e}},function(e,t,r){const n=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:o,parse:i}=r(0);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=o(e),"win32"===n){const t=/[*|"<>?:]/,{root:r}=i(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},function(e,t,r){const{dirname:n}=r(0),{findMade:o,findMadeSync:i}=r(133),{mkdirpManual:s,mkdirpManualSync:a}=r(76);e.exports={mkdirpNative:(e,t)=>{t.recursive=!0;return n(e)===e?t.mkdirAsync(e,t):o(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(r=>{if("ENOENT"===r.code)return s(e,t);throw r}))},mkdirpNativeSync:(e,t)=>{t.recursive=!0;if(n(e)===e)return t.mkdirSync(e,t);const r=i(t,e);try{return t.mkdirSync(e,t),r}catch(r){if("ENOENT"===r.code)return a(e,t);throw r}}}},function(e,t,r){const{dirname:n}=r(0),o=(e,t,r)=>r===t?Promise.resolve():e.statAsync(t).then(e=>e.isDirectory()?r:void 0,r=>"ENOENT"===r.code?o(e,n(t),t):void 0),i=(e,t,r)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(r){return"ENOENT"===r.code?i(e,n(t),t):void 0}};e.exports={findMade:o,findMadeSync:i}},function(e,t,r){const n=r(4),o=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),i=+o[0]>10||10==+o[0]&&+o[1]>=12,s=i?e=>e.mkdir===n.mkdir:()=>!1,a=i?e=>e.mkdirSync===n.mkdirSync:()=>!1;e.exports={useNative:s,useNativeSync:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationReader=void 0;const n=r(2),o=r(3);class i{static readString(e){if(this.isString(e))return e;throw o.ErrorHelper.getInternalError(n.InternalErrorCode.ExpectedStringValue,e)}static readBoolean(e){if(this.isBoolean(e))return e;if("true"===e||"false"===e)return"true"===e;throw o.ErrorHelper.getInternalError(n.InternalErrorCode.ExpectedBooleanValue,e)}static readArray(e){if(this.isArray(e))return e;throw o.ErrorHelper.getInternalError(n.InternalErrorCode.ExpectedArrayValue,e)}static readObject(e){if(this.isObject(e))return e;throw o.ErrorHelper.getInternalError(n.InternalErrorCode.ExpectedObjectValue,e)}static readInt(e){if(this.isInt(e))return e;if(this.isString(e))return parseInt(e,10);throw o.ErrorHelper.getInternalError(n.InternalErrorCode.ExpectedIntegerValue,e)}static readIntWithDefaultSync(e,t){return e?this.readInt(e):t}static readIntWithDefaultAsync(e,t){return t.then(t=>this.readIntWithDefaultSync(e,t))}static isArray(e){return Array.isArray(e)}static isObject(e){return"object"==typeof e||!i.isArray(e)}static isString(e){return"string"==typeof e}static isBoolean(e){return"boolean"==typeof e}static isInt(e){return this.isNumber(e)&&e%1==0}static isNumber(e){return"number"==typeof e}}t.ConfigurationReader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PackageNameResolver=void 0;const n=r(15),o=r(0);class i{constructor(e){this.applicationName=e}resolvePackageName(e){let t=o.join.apply(this,[e].concat(i.DefaultManifestLocation));return this.readPackageName(t)}readPackageName(e){if(e){let t=new n.FileSystem;return t.exists(e).then(r=>r?t.readFile(e).then(e=>{let t=this.parsePackageName(e.toString());return t||(t=this.getDefaultPackageName(this.applicationName)),t}):this.getDefaultPackageName(this.applicationName))}return Promise.resolve(this.getDefaultPackageName(this.applicationName))}getDefaultPackageName(e){return(i.DefaultPackagePrefix+e).toLowerCase()}parsePackageName(e){let t=e.match(i.PackageNameRegexp);return t?t[1]:null}}t.PackageNameResolver=i,i.PackageNameRegexp=/package="(.+?)"/,i.ManifestName="AndroidManifest.xml",i.DefaultPackagePrefix="com.",i.SourceRootRelPath=["android","app","src","main"],i.DefaultManifestLocation=i.SourceRootRelPath.concat(i.ManifestName)},function(e,t,r){var n=r(138),o=r(82),i=r(139),s=r(83),a=r(141),c=r(22),l=function(){function e(){}return e.getClient=function(e){return new a(e)},e.setup=function(t){return e.client?c.info("The default client is already setup"):(e.client=e.getClient(t),e._console=new n(e.client),e._exceptions=new o(e.client),e._performance=new i(e.client),e._requests=new s(e.client)),e.client&&e.client.channel&&e.client.channel.setOfflineMode(e._isOfflineMode),e},e.start=function(){return this.client?(e._isStarted=!0,e._console.enable(e._isConsole),e._exceptions.enable(e._isExceptions),e._performance.enable(e._isPerformance),e._requests.enable(e._isRequests)):c.warn("Start cannot be called before setup"),e},e.setAutoCollectConsole=function(t){return e._isConsole=t,e._isStarted&&e._console.enable(t),e},e.setAutoCollectExceptions=function(t){return e._isExceptions=t,e._isStarted&&e._exceptions.enable(t),e},e.setAutoCollectPerformance=function(t){return e._isPerformance=t,e._isStarted&&e._performance.enable(t),e},e.setAutoCollectRequests=function(t){return e._isRequests=t,e._isStarted&&e._requests.enable(t),e},e.setOfflineMode=function(t){return e._isOfflineMode=t,e.client&&e.client.channel&&e.client.channel.setOfflineMode(t),e},e.enableVerboseLogging=function(){return c.enableDebug=!0,e},e._isConsole=!0,e._isExceptions=!0,e._isPerformance=!0,e._isRequests=!0,e._isOfflineMode=!1,e._isStarted=!1,e}();e.exports=l},function(e,t){var r=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e){},e.prototype.isInitialized=function(){return this._isInitialized},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=r},function(e,t,r){var n,o=r(18),i=r(16),s=r(33),a=r(22);!function(e){e[e.ProcessorTime=0]="ProcessorTime",e[e.AvailableMemory=1]="AvailableMemory",e[e.RequestsPerSec=2]="RequestsPerSec",e[e.PrivateBytes=3]="PrivateBytes",e[e.RequestExecutionTime=4]="RequestExecutionTime",e[e.PercentProcessorTime=5]="PercentProcessorTime"}(n||(n={}));var c=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._isInitialized=!1,this._client=t}return e.prototype.enable=function(t){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&this._initialize(),t?this._handle||(this._lastCpus=i.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._handle=setInterval((function(){return r.trackPerformance()}),1e4)):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=o.createServer;o.createServer=function(n){return r((function(r,o){t._isEnabled&&e.countRequest(r,o),"function"==typeof n&&n(r,o)}))}},e.countRequest=function(t,r){var n=this,o=+new Date;t&&r?"function"==typeof r.once&&r.once("finish",(function(){var t=+new Date;n._lastRequestExecutionTime=t-o,e._totalRequestCount++,r.statusCode>=400&&e._totalFailedRequestCount++})):a.warn("AutoCollectPerformance.countRequest was called with invalid parameters: ",!!t,!!r)},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork()},e.prototype._trackLegacyPerformance=function(e,t){var r=new s.Contracts.PerformanceCounterData;switch(e){case n.ProcessorTime:r.categoryName="Process",r.counterName="% Processor Time";break;case n.AvailableMemory:r.categoryName="Memory",r.counterName="Available Bytes";break;case n.RequestsPerSec:r.categoryName="ASP.NET Applications",r.counterName="Requests/Sec";break;case n.PrivateBytes:r.categoryName="Process",r.counterName="Private Bytes";break;case n.RequestExecutionTime:r.categoryName="ASP.NET Applications",r.counterName="Request Execution Time";break;case n.PercentProcessorTime:r.categoryName="Processor",r.counterName="% Processor Time"}r.count=1,r.kind=s.Contracts.DataPointType.Aggregation,r.max=t,r.min=t,r.stdDev=0,r.value=t;var o=new s.Contracts.Data;o.baseType="Microsoft.ApplicationInsights.PerformanceCounterData",o.baseData=r,this._client.track(o)},e.prototype._trackCpu=function(){var e=i.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var l=e[c],u=this._lastCpus[c],h="% cpu["+c+"] ",p=(l.model,l.speed,l.times),d=u.times,g=p.user-d.user||0;t+=g;var f=p.sys-d.sys||0;r+=f;var m=p.nice-d.nice||0;o+=m;var v=p.idle-d.idle||0;s+=v;var y=p.irq-d.irq||0;a+=y;var E=g+f+m+v+y||1;this._client.trackMetric(h+"user",g/E)}var _=t+r+o+s+a||1;this._client.trackMetric("% total cpu user",t/_),this._client.trackMetric("% total cpu sys",r/_),this._client.trackMetric("% total cpu nice",o/_),this._client.trackMetric("% total cpu idle",s/_),this._client.trackMetric("% total cpu irq",a/_),this._trackLegacyPerformance(n.ProcessorTime,t/_),this._trackLegacyPerformance(n.PercentProcessorTime,(_-s)/_)}this._lastCpus=e},e.prototype._trackMemory=function(){var e=i.totalmem(),t=i.freemem(),r=e-t,o=r/(e||1),s=t/(e||1);this._client.trackMetric("Memory Used",r),this._client.trackMetric("Memory Free",t),this._client.trackMetric("Memory Total",e),this._client.trackMetric("% Memory Used",o),this._client.trackMetric("% Memory Free",s),this._trackLegacyPerformance(n.AvailableMemory,t),this._trackLegacyPerformance(n.PrivateBytes,r)},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},o=r.totalRequestCount-t.totalRequestCount||0,i=r.totalFailedRequestCount-t.totalFailedRequestCount||0,s=r.time-t.time,a=s/1e3;if(s>0){var c=o/a,l=i/a;this._client.trackMetric("Total Requests",r.totalRequestCount),this._client.trackMetric("Total Failed Requests",r.totalFailedRequestCount),this._client.trackMetric("Requests per Second",c),this._client.trackMetric("Failed Requests per Second",l),this._client.trackMetric("Last Request Execution Time",e._lastRequestExecutionTime),this._trackLegacyPerformance(n.RequestsPerSec,c),this._trackLegacyPerformance(n.RequestExecutionTime,e._lastRequestExecutionTime)}this._lastRequests=r},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e}();e.exports=c},function(e,t,r){var n=r(11),o=r(33),i=r(49),s=function(){function e(e){e&&(this.method=e.method,this.url=e.url,this.startTime=+new Date,this.rawHeaders=e.headers||e.rawHeaders,this.socketRemoteAddress=e.socket&&e.socket.remoteAddress,this.userAgent=e.headers&&e.headers["user-agent"],e.connection&&(this.connectionRemoteAddress=e.connection.remoteAddress,this.legacySocketRemoteAddress=e.connection.socket&&e.connection.socket.remoteAddress))}return e.prototype.onResponse=function(e,t){this.endTime=+new Date,this.statusCode=e.statusCode,this.errorProperties=t},e.prototype.getRequestData=function(){var e=this.endTime-this.startTime,t=new o.Contracts.RequestData;t.httpMethod=this.method,t.id=i.newGuid(),t.name=this.method+" "+n.parse(this.url).pathname,t.startTime=new Date(this.startTime).toISOString(),t.url=this.url,t.duration=i.msToTimeSpan(e),t.responseCode=this.statusCode.toString(),t.success=this._isSuccess(this.statusCode),t.properties=this.errorProperties;var r=new o.Contracts.Data;return r.baseType="Microsoft.ApplicationInsights.RequestData",r.baseData=t,r},e.prototype.getRequestTags=function(t){var r={};for(var n in t)r[n]=t[n];return r[e.keys.locationIp]=this._getIp(),r[e.keys.sessionId]=this._getSessionId(),r[e.keys.userAgent]=this.userAgent,r},e.prototype._isSuccess=function(e){return e<400&&!this.errorProperties},e.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},e.prototype._getSessionId=function(){var t=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return e.parseSessionId(i.getCookie("ai_session",t))},e.parseSessionId=function(e){return e.substr(0,e.indexOf("|"))},e.keys=new o.Contracts.ContextTagKeys,e}();e.exports=s},function(e,t,r){var n=r(142),o=r(143),i=r(82),s=r(33),a=r(146),c=r(83),l=r(147),u=r(49),h=function(){function e(e){var t=new n(e);this.config=t,this.context=new o,this.commonProperties={};var r=new l((function(){return t.endpointUrl}));this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackEvent=function(e,t,r){var n=new s.Contracts.EventData;n.name=e,n.properties=t,n.measurements=r;var o=new s.Contracts.Data;o.baseType="EventData",o.baseData=n,this.track(o)},e.prototype.trackTrace=function(e,t,r){var n=new s.Contracts.MessageData;n.message=e,n.properties=r,isNaN(t)?n.severityLevel=s.Contracts.SeverityLevel.Information:n.severityLevel=t;var o=new s.Contracts.Data;o.baseType="MessageData",o.baseData=n,this.track(o)},e.prototype.trackException=function(e,t){u.isError(e)||(e=new Error(e));var r=i.getExceptionData(e,!0,t);this.track(r)},e.prototype.trackMetric=function(e,t,r,n,o,i){var a=new s.Contracts.MetricData;a.metrics=[];var c=new s.Contracts.DataPoint;c.count=isNaN(r)?1:r,c.kind=s.Contracts.DataPointType.Aggregation,c.max=isNaN(o)?t:o,c.min=isNaN(n)?t:n,c.name=e,c.stdDev=isNaN(i)?0:i,c.value=t,a.metrics.push(c);var l=new s.Contracts.Data;l.baseType="MetricData",l.baseData=a,this.track(l)},e.prototype.trackRequest=function(e,t,r){c.trackRequest(this,e,t,r)},e.prototype.sendPendingData=function(e){this.channel.triggerSend(!1,e)},e.prototype.getEnvelope=function(t,r){if(t&&t.baseData)if(t.baseData.ver=2,t.baseData.properties)for(var n in this.commonProperties)t.baseData.properties[n]||(t.baseData.properties[n]=this.commonProperties[n]);else t.baseData.properties=this.commonProperties;t.baseData.properties=u.validateStringMap(t.baseData.properties);var o=new s.Contracts.Envelope;return o.data=t,o.appVer=this.context.tags[this.context.keys.applicationVersion],o.iKey=this.config.instrumentationKey,o.name="Microsoft.ApplicationInsights."+t.baseType.substr(0,t.baseType.length-4),o.os=this.context.tags[this.context.keys.deviceOS],o.osVer=this.context.tags[this.context.keys.deviceOSVersion],o.seq=(e._sequenceNumber++).toString(),o.tags=r||this.context.tags,o.time=(new Date).toISOString(),o.ver=1,o},e.prototype.track=function(e,t){var r=this.getEnvelope(e,t);this.channel.send(r)},e._sequenceNumber=0,e}();e.exports=h},function(e,t){var r=function(){function e(e){this.instrumentationKey=e||this._getInstrumentationKey(),this.endpointUrl="http://dc.services.visualstudio.com/v2/track",this.sessionRenewalMs=18e5,this.sessionExpirationMs=864e5,this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1}return e.prototype._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e}();e.exports=r},function(e,t,r){var n=r(16),o=r(33),i=r(22),s=function(){function e(e){this.keys=new o.Contracts.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(e){var t="unknown",n=void 0;try{var o=r(144)(e||"../../../package.json");o&&("string"==typeof o.version&&(t=o.version),"string"==typeof o.description&&(n=o.description))}catch(e){i.info("unable to read app version: ",e)}this.tags[this.keys.applicationVersion]=t,n&&(this.tags[this.keys.applicationBuild]=n)},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="node",this.tags[this.keys.deviceMachineName]=n&&n.hostname(),this.tags[this.keys.deviceOS]=n&&n.type(),this.tags[this.keys.deviceOSVersion]=n&&n.release(),this.tags[this.keys.deviceType]="server",this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var e="unknown";try{var t=r(145);t&&"string"==typeof t.version&&(e=t.version)}catch(e){i.info("unable to read SDK version: "+e)}this.tags[this.keys.internalSdkVersion]="node:"+e||!1},e}();e.exports=s},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=144},function(e){e.exports=JSON.parse('{"name":"applicationinsights","license":"MIT","bugs":"https://github.com/Microsoft/ApplicationInsights-node.js/issues","version":"0.15.6","description":"Microsoft Application Insights module for Node.JS","repository":{"type":"git","url":"https://github.com/Microsoft/ApplicationInsights-node.js"},"main":"applicationinsights","keywords":["exception monitoring","request monitoring","performance monitoring","application insights","microsoft","azure"],"contributors":[{"name":"scsouthw","email":"scsouthw@microsoft.com"},{"name":"bogdanbe","email":"bogdanbe@microsoft.com"}],"scripts":{"prepublish":"tsc --module commonjs --declaration applicationinsights.ts","pretest":"find Tests -type f -name \\"*.ts\\" | xargs tsc --module commonjs","test":"./node_modules/mocha/bin/mocha ./Tests --recursive"},"devDependencies":{"async":"^0.9.0","chai":"^2.3.0","mocha":"^2.2.4","node-mocks-http":"^1.2.3","sinon":"^1.14.1","typescript":"^1.0.1"},"_resolved":"https://registry.npmjs.org/applicationinsights/-/applicationinsights-0.15.6.tgz","_integrity":"sha1-IBoGgsBwT+S92aktCyy+NNKuWXI=","_from":"applicationinsights@0.15.6"}')},function(e,t,r){var n=r(22),o=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setOfflineMode=function(e){this._sender.setOfflineMode(e)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var r=this._stringify(e);"string"==typeof r&&(this._buffer.push(r),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else n.warn("Cannot send null/undefined telemetry")},e.prototype.handleCrash=function(e){if(e){var t=this._stringify(e);"string"==typeof t?(this._buffer.push(t),this.triggerSend(!0)):n.warn("Could not send crash",e)}else n.warn("handleCrash was called with empty payload",e)},e.prototype.triggerSend=function(e,t){if(this._buffer.length){var r=this._buffer.join("\n");e?this._sender.saveOnCrash(r):this._sender.send(new Buffer(r),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){n.warn("Failed to serialize payload",t,e)}},e}();e.exports=o},function(e,t,r){var n=r(4),o=r(18),i=r(50),s=r(16),a=r(0),c=r(11),l=r(51),u=r(22),h=function(){function e(e,t,r){this._getUrl=e,this._onSuccess=t,this._onError=r,this._enableOfflineMode=!1}return e.prototype.setOfflineMode=function(e){this._enableOfflineMode=e},e.prototype.send=function(t,r){var n=this,s=this._getUrl();s&&0===s.indexOf("//")&&(s="https:"+s);var a=c.parse(s),h={host:a.hostname,port:a.port,path:a.pathname,method:"POST",headers:{"Content-Type":"application/x-json-stream"}},p="https:"==a.protocol?i:o;l.gzip(t,(function(o,i){var s=i;o?(u.warn(o),s=t,h.headers["Content-Length"]=t.length):(h.headers["Content-Encoding"]="gzip",h.headers["Content-Length"]=i.length),u.info(e.TAG,h);var a=p.request(h,(function(o){o.setEncoding("utf-8");var i="";o.on("data",(function(e){i+=e})),o.on("end",(function(){u.info(e.TAG,i),"function"==typeof n._onSuccess&&n._onSuccess(i),"function"==typeof r&&r(i),n._enableOfflineMode&&(200===o.statusCode?setTimeout((function(){return n._sendFirstFileOnDisk()}),e.WAIT_BETWEEN_RESEND):206!==o.statusCode&&429!==o.statusCode&&439!==o.statusCode||n._storeToDisk(t))}))}));a.on("error",(function(o){if(u.warn(e.TAG,o),n._onErrorHelper(o),"function"==typeof r){var i="error sending telemetry";o&&"function"==typeof o.toString&&(i=o.toString()),r(i)}n._enableOfflineMode&&n._storeToDisk(t)})),a.write(s),a.end()}))},e.prototype.saveOnCrash=function(e){this._storeToDiskSync(e)},e.prototype._confirmDirExists=function(e,t){n.exists(e,(function(r){r?t(null):n.mkdir(e,(function(e){t(e)}))}))},e.prototype._storeToDisk=function(t){var r=this,o=a.join(s.tmpDir(),e.TEMPDIR);this._confirmDirExists(o,(function(i){if(i)r._onErrorHelper(i);else{var s=(new Date).getTime()+".ai.json",c=a.join(o,s);u.info(e.TAG,"saving data to disk at: "+c),n.writeFile(c,t,(function(e){return r._onErrorHelper(e)}))}}))},e.prototype._storeToDiskSync=function(t){var r=a.join(s.tmpDir(),e.TEMPDIR);try{n.existsSync(r)||n.mkdirSync(r);var o=(new Date).getTime()+".ai.json",i=a.join(r,o);u.info(e.TAG,"saving data before crash to disk at: "+i),n.writeFileSync(i,t)}catch(e){this._onErrorHelper(e)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,r=a.join(s.tmpDir(),e.TEMPDIR);n.exists(r,(function(e){e&&n.readdir(r,(function(e,o){if(e)t._onErrorHelper(e);else if((o=o.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0){var i=o[0],s=a.join(r,i);n.readFile(s,(function(e,r){e?t._onErrorHelper(e):n.unlink(s,(function(e){e?t._onErrorHelper(e):t.send(r)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.WAIT_BETWEEN_RESEND=6e4,e.TEMPDIR="appInsights-node",e}();e.exports=h},function(e,t,r){var n=r(14),o=r(29).spawn,i=["HKLM","HKCU","HKCR","HKU","HKCC"],s=["REG_SZ","REG_MULTI_SZ","REG_EXPAND_SZ","REG_DWORD","REG_QWORD","REG_BINARY","REG_NONE"],a=/(\\[a-zA-Z0-9_\s]+)*/,c=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,l=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function u(e,t,r,n,o,i){if(!(this instanceof u))return new u(e,t,r,n,o,i);var s=e,a=t,c=r,l=n,h=o,p=i;this.__defineGetter__("host",(function(){return s})),this.__defineGetter__("hive",(function(){return a})),this.__defineGetter__("key",(function(){return c})),this.__defineGetter__("name",(function(){return l})),this.__defineGetter__("type",(function(){return h})),this.__defineGetter__("value",(function(){return p})),Object.freeze(this)}function h(e){if(!(this instanceof h))return new h(e);var t=e||{},r=""+(t.host||""),n=""+(t.hive||"HKLM"),o=""+(t.key||"");if(this.__defineGetter__("host",(function(){return r})),this.__defineGetter__("hive",(function(){return n})),this.__defineGetter__("key",(function(){return o})),this.__defineGetter__("path",(function(){return(0==r.length?"":"\\\\"+host+"\\")+n+o})),this.__defineGetter__("parent",(function(){var e=o.lastIndexOf("\\");return new h({host:this.host,hive:this.hive,key:-1==e?"":o.substring(0,e)})})),-1==i.indexOf(n))throw new Error("illegal hive specified.");if(!a.test(o))throw new Error("illegal key specified.");Object.freeze(this)}n.inherits(u,Object),Object.freeze(u),Object.freeze(u.prototype),n.inherits(h,Object),h.HKLM="HKLM",h.HKCU="HKCU",h.HKCR="HKCR",h.HKU="HKU",h.HKCC="HKCC",h.HIVES=i,h.REG_SZ="REG_SZ",h.REG_MULTI_SZ="REG_MULTI_SZ",h.REG_EXPAND_SZ="REG_EXPAND_SZ",h.REG_DWORD="REG_DWORD",h.REG_QWORD="REG_QWORD",h.REG_BINARY="REG_BINARY",h.REG_NONE="REG_NONE",h.REG_TYPES=s,h.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path],r=o("REG",t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","ignore"]}),n="",i=this;return r.on("close",(function(t){if(0!==t)e(new Error("process exited with code "+t),null);else{for(var r=[],o=[],s=n.split("\n"),a=0,c=0,h=s.length;c<h;c++){var p=s[c].trim();p.length>0&&(0!=a&&r.push(p),++a)}for(c=0,h=r.length;c<h;c++){var d,g,f,m=l.exec(r[c]);m&&(d=m[1].trim(),g=m[2].trim(),f=m[3],o.push(new u(i.host,i.hive,i.key,d,g,f)))}e(null,o)}})),r.stdout.on("data",(function(e){n+=e.toString()})),this},h.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path],r=o("REG",t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","ignore"]}),n="",i=this;return r.on("close",(function(t){0!==t&&e(new Error("process exited with code "+t),null)})),r.stdout.on("data",(function(e){n+=e.toString()})),r.stdout.on("end",(function(){for(var t=[],r=[],o=n.split("\n"),s=0,a=o.length;s<a;s++){var l=o[s].trim();l.length>0&&t.push(l)}for(s=0,a=t.length;s<a;s++){var u,p=c.exec(t[s]);p&&(p[1],(u=p[2])&&u!==i.key&&r.push(new h({host:i.host,hive:i.hive,key:u})))}e(null,r)})),this},h.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var r=["QUERY",this.path];""==e?r.push("/ve"):r=r.concat(["/v",e]);var n=o("REG",r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","ignore"]}),i="",s=this;return n.on("close",(function(e){if(0!==e)t(new Error("process exited with code "+e),null);else{for(var r=[],n=null,o=i.split("\n"),a=0,c=0,h=o.length;c<h;c++){var p=o[c].trim();p.length>0&&(0!=a&&r.push(p),++a)}var d,g,f,m=r[r.length-1]||"",v=l.exec(m);v&&(d=v[1].trim(),g=v[2].trim(),f=v[3],n=new u(s.host,s.hive,s.key,d,g,f)),t(null,n)}})),n.stdout.on("data",(function(e){i+=e.toString()})),this},h.prototype.set=function(e,t,r,n){if("function"!=typeof n)throw new TypeError("must specify a callback");if(-1==s.indexOf(t))throw Error("illegal type specified.");var i=["ADD",this.path];""==e?i.push("/ve"):i=i.concat(["/v",e]),i=i.concat(["/t",t,"/d",r,"/f"]);var a=o("REG",i,{cwd:void 0,env:process.env,stdio:["ignore","pipe","ignore"]});return a.on("close",(function(e){n(0!==e?new Error("process exited with code "+e):null)})),a.stdout.on("data",(function(e){})),this},h.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var r=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"],n=o("REG",r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","ignore"]});return n.on("close",(function(e){t(0!==e?new Error("process exited with code "+e):null)})),n.stdout.on("data",(function(e){})),this},h.prototype.erase=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"],r=o("REG",t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","ignore"]});return r.on("close",(function(t){e(0!==t?new Error("process exited with code "+t):null)})),r.stdout.on("data",(function(e){})),this},h.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"],r=o("REG",t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","ignore"]});return r.on("close",(function(t){e(0!==t?new Error("process exited with code "+t):null)})),r.stdout.on("data",(function(e){})),this},e.exports=h,Object.freeze(h),Object.freeze(h.prototype)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryGenerator=t.TelemetryGeneratorBase=void 0;const n=r(31),o=r(7);class i{constructor(e,t={}){this.telemetryProperties={},this.currentStep="initialStep",this.errorIndex=-1,this.extendedTelemetryProperties={},this.componentName=e,this.extendedTelemetryProperties=t,this.currentStepStartTime=process.hrtime()}add(e,t,r){return this.addWithPiiEvaluator(e,t,()=>r)}addWithPiiEvaluator(e,t,r){try{Array.isArray(t)?this.addArray(e,t,r):!t||"object"!=typeof t&&"function"!=typeof t?this.addString(e,String(t),r):this.addHash(e,t,r)}catch(t){this.addString("telemetryGenerationError."+e,String(t),()=>!1)}return this}addError(e){this.add("error.message"+ ++this.errorIndex,e.message,!0);let t=e;return t.errorCode&&this.add("error.code"+this.errorIndex,t.errorCode,!1),this}time(e,t){let r=process.hrtime();return new Promise((e,r)=>{const n=t();n instanceof Promise?n.then(e,r):e()}).finally(()=>this.finishTime(e,r)).catch(e=>(this.addError(e),Promise.reject(e)))}step(e){return this.finishTime(this.currentStep,this.currentStepStartTime),this.sendCurrentStep(),this.currentStep=e,this.telemetryProperties={},this.currentStepStartTime=process.hrtime(),this}send(){this.currentStep&&this.add("lastStepExecuted",this.currentStep,!1),this.step("")}sendCurrentStep(){this.add("step",this.currentStep,!1);let e=new n.Telemetry.TelemetryEvent(this.componentName);o.TelemetryHelper.addTelemetryEventProperties(e,Object.assign(this.telemetryProperties,this.extendedTelemetryProperties)),this.sendTelemetryEvent(e)}addArray(e,t,r){let n=1;t.forEach(t=>this.addWithPiiEvaluator(e+n++,t,r))}addHash(e,t,r){Object.keys(t).forEach(n=>this.addWithPiiEvaluator(e+"."+n,t[n],r))}addString(e,t,r){this.telemetryProperties[e]=o.TelemetryHelper.telemetryProperty(t,r(t,e))}combine(...e){return e.filter(e=>!!e).join(".")}finishTime(e,t){if(e){let r=process.hrtime(t);this.add(this.combine(e,"time"),String(1e3*r[0]+r[1]/1e6),!1)}}}t.TelemetryGeneratorBase=i;t.TelemetryGenerator=class extends i{sendTelemetryEvent(e){n.Telemetry.send(e)}}},function(e,t,r){var n=r(0),o="win32"===process.platform,i=r(4),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}n.normalize;if(o)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(o)var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else l=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,s,a,u,h=e,p={},d={};function g(){var t=l.exec(e);r=t[0].length,s=t[0],a=t[0],u="",o&&!d[a]&&(i.lstatSync(a),d[a]=!0)}for(g();r<e.length;){c.lastIndex=r;var f=c.exec(e);if(u=s,s+=f[0],a=u+f[1],r=c.lastIndex,!(d[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var v=i.lstatSync(a);if(!v.isSymbolicLink()){d[a]=!0,t&&(t[a]=a);continue}var y=null;if(!o){var E=v.dev.toString(32)+":"+v.ino.toString(32);p.hasOwnProperty(E)&&(y=p[E])}null===y&&(i.statSync(a),y=i.readlinkSync(a)),m=n.resolve(u,y),t&&(t[a]=m),o||(p[E]=y)}e=n.resolve(m,e.slice(r)),g()}}return t&&(t[h]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=a(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var s,u,h,p,d=e,g={},f={};function m(){var t=l.exec(e);s=t[0].length,u=t[0],h=t[0],p="",o&&!f[h]?i.lstat(h,(function(e){if(e)return r(e);f[h]=!0,v()})):process.nextTick(v)}function v(){if(s>=e.length)return t&&(t[d]=e),r(null,e);c.lastIndex=s;var n=c.exec(e);return p=u,u+=n[0],h=p+n[1],s=c.lastIndex,f[h]||t&&t[h]===h?process.nextTick(v):t&&Object.prototype.hasOwnProperty.call(t,h)?_(t[h]):i.lstat(h,y)}function y(e,n){if(e)return r(e);if(!n.isSymbolicLink())return f[h]=!0,t&&(t[h]=h),process.nextTick(v);if(!o){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(g.hasOwnProperty(s))return E(null,g[s],h)}i.stat(h,(function(e){if(e)return r(e);i.readlink(h,(function(e,t){o||(g[s]=t),E(e,t)}))}))}function E(e,o,i){if(e)return r(e);var s=n.resolve(p,o);t&&(t[i]=s),_(s)}function _(t){e=n.resolve(t,e.slice(s)),m()}m()}},function(e,t,r){var n=r(152),o=r(153);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,r){var i=[],s=o("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),m=l||h,v=s.body.indexOf(",")>=0;if(!m&&!v)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];if(m)c=s.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var r=[],n=o("{","}",t);if(!n)return t.split(",");var i=n.pre,s=n.body,a=n.post,c=i.split(",");c[c.length-1]+="{"+s+"}";var l=e(a);a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l));return r.push.apply(r,c),r}(s.body)).length)if(1===(c=e(c[0],!1).map(p)).length)return(_=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+c[0]+e}))}var y,E=s.pre,_=s.post.length?e(s.post,!1):[""];if(m){var S=u(c[0]),P=u(c[1]),b=Math.max(c[0].length,c[1].length),C=3==c.length?Math.abs(u(c[2])):1,w=g;P<S&&(C*=-1,w=f);var R=c.some(d);y=[];for(var A=S;w(A,P);A+=C){var T;if(h)"\\"===(T=String.fromCharCode(A))&&(T="");else if(T=String(A),R){var O=b-T.length;if(O>0){var I=new Array(O+1).join("0");T=A<0?"-"+I+T.slice(1):I+T}}y.push(T)}}else y=n(c,(function(t){return e(t,!1)}));for(var N=0;N<y.length;N++)for(var k=0;k<_.length;k++){var L=E+y[N]+_[k];(!r||m||L)&&i.push(L)}return i}(function(e){return e.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(h)};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(i).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function p(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function f(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=t(e[o],o);r(i)?n.push.apply(n,i):n.push(i)}return n};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t,r){e instanceof RegExp&&(e=o(e,r)),t instanceof RegExp&&(t=o(t,r));var n=i(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function o(e,t){var r=t.match(e);return r?r[0]:null}function i(e,t,r){var n,o,i,s,a,c=r.indexOf(e),l=r.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(n=[],i=r.length;u>=0&&!a;)u==c?(n.push(u),c=r.indexOf(e,u+1)):1==n.length?a=[n.pop(),l]:((o=n.pop())<i&&(i=o,s=l),l=r.indexOf(t,u+1)),u=c<l&&c>=0?c:l;n.length&&(a=[i,s])}return a}e.exports=n,n.range=i},function(e,t,r){try{var n=r(14);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(155)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){e.exports=g,g.GlobSync=f;var n=r(4),o=r(90),i=r(54),s=(i.Minimatch,r(89).Glob,r(14),r(0)),a=r(41),c=r(55),l=r(91),u=(l.alphasort,l.alphasorti,l.setopts),h=l.ownProp,p=l.childrenIgnored,d=l.isIgnored;function g(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new f(e,t).found}function f(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof f))return new f(e,t);if(u(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}f.prototype._finish=function(){if(a(this instanceof f),this.realpath){var e=this;this.matches.forEach((function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i),n[o.realpathSync(i,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(i)]=!0}}))}l.finish(this)},f.prototype._process=function(e,t,r){a(this instanceof f);for(var n,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,o).join("/")}var s,l=e.slice(o);null===n?s=".":c(n)||c(e.join("/"))?(n&&c(n)||(n="/"+n),s=n):s=n;var u=this._makeAbs(s);p(this,s)||(l[0]===i.GLOBSTAR?this._processGlobStar(n,s,u,l,t,r):this._processReaddir(n,s,u,l,t,r))},f.prototype._processReaddir=function(e,t,r,n,o,i){var a=this._readdir(r,i);if(a){for(var c=n[0],l=!!this.minimatch.negate,u=c._glob,h=this.dot||"."===u.charAt(0),p=[],d=0;d<a.length;d++){if("."!==(m=a[d]).charAt(0)||h)(l&&!e?!m.match(c):m.match(c))&&p.push(m)}var g=p.length;if(0!==g)if(1!==n.length||this.mark||this.stat){n.shift();for(d=0;d<g;d++){var f;m=p[d];f=e?[e,m]:[m],this._process(f.concat(n),o,i)}}else{this.matches[o]||(this.matches[o]=Object.create(null));for(var d=0;d<g;d++){var m=p[d];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(o,m)}}}},f.prototype._emitMatch=function(e,t){if(!d(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},f.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=n.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var o=r&&r.isSymbolicLink();return this.symlinks[e]=o,o||!r||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},f.prototype._readdir=function(e,t){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e);if(h(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},f.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},f.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},f.prototype._processGlobStar=function(e,t,r,n,o,i){var s=this._readdir(r,i);if(s){var a=n.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,o,!1);var u=s.length;if(!this.symlinks[r]||!i)for(var h=0;h<u;h++){if("."!==s[h].charAt(0)||this.dot){var p=c.concat(s[h],a);this._process(p,o,!0);var d=c.concat(s[h],n);this._process(d,o,!0)}}}},f.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&c(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},f.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||"DIR"===o)return o;if(r&&"FILE"===o)return!1}var i=this.statCache[t];if(!i){var s;try{s=n.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{i=n.statSync(t)}catch(e){i=s}else i=s}this.statCache[t]=i;o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,(!r||"FILE"!==o)&&o},f.prototype._mark=function(e){return l.mark(this,e)},f.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},function(e,t,r){var n=r(92),o=Object.create(null),i=r(93);function s(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}e.exports=n((function(e,t){return o[e]?(o[e].push(t),null):(o[e]=[t],function(e){return i((function t(){var r=o[e],n=r.length,i=s(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){t.apply(null,i)}))):delete o[e]}}))}(e))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IOSDebugModeManager=void 0;const n=r(8),o=r(24),i=r(53),s=r(159),a=r(1);a.config({messageFormat:a.MessageFormat.bundle,bundleFormat:a.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\ios\\iOSDebugModeManager.ts"));const c=a.loadMessageBundle(r(0).join(__dirname,"src\\extension\\ios\\iOSDebugModeManager.ts"));class l{constructor(e,t,r){this.logger=n.OutputChannelLogger.getMainChannel(),this.projectRoot=t,this.iosProjectRoot=e,this.simulatorPlist=new s.SimulatorPlist(this.iosProjectRoot,this.projectRoot,r)}setSimulatorRemoteDebuggingSetting(e,t,r){const n=new i.PlistBuddy;return this.findPListFile(t,r).then(t=>(e?n.setPlistProperty(t,l.EXECUTOR_CLASS_SETTING_NAME,l.WEBSOCKET_EXECUTOR_NAME):n.deletePlistProperty(t,l.EXECUTOR_CLASS_SETTING_NAME)).then(()=>n.setPlistBooleanProperty(t,l.REMOTE_DEBUGGING_SETTING_NAME,e)))}getSimulatorRemoteDebuggingSetting(e,t){return this.findPListFile(e,t).then(e=>Promise.all([(new i.PlistBuddy).readPlistProperty(e,l.EXECUTOR_CLASS_SETTING_NAME),(new i.PlistBuddy).readPlistProperty(e,l.REMOTE_DEBUGGING_SETTING_NAME)]).then(([e,t])=>e===l.WEBSOCKET_EXECUTOR_NAME&&"true"===t).catch(()=>!1))}findPListFile(e,t){const r=new o.PromiseUtil,n=c(0,null);return r.retryAsync(()=>this.tryOneAttemptToFindPListFile(e,t),e=>""!==e,l.MAX_RETRIES,l.DELAY_UNTIL_RETRY,n)}tryOneAttemptToFindPListFile(e,t){return this.simulatorPlist.findPlistFile(e,t).catch(e=>(this.logger.debug("Failed one attempt to find plist file: "+e),""))}}t.IOSDebugModeManager=l,l.WEBSOCKET_EXECUTOR_NAME="RCTWebSocketExecutor",l.EXECUTOR_CLASS_SETTING_NAME=":RCTDevMenu:executorClass",l.REMOTE_DEBUGGING_SETTING_NAME=":RCTDevMenu:isDebuggingRemotely",l.MAX_RETRIES=5,l.DELAY_UNTIL_RETRY=2e3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulatorPlist=void 0;const n=r(0),o=r(3),i=r(53),s=r(8),a=r(15),c=r(19),l=r(7),u=r(1);u.config({messageFormat:u.MessageFormat.bundle,bundleFormat:u.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\ios\\simulatorPlist.ts"));const h=u.loadMessageBundle(r(0).join(__dirname,"src\\extension\\ios\\simulatorPlist.ts"));t.SimulatorPlist=class{constructor(e,t,r,{nodeFileSystem:n=new a.FileSystem,plistBuddy:o=new i.PlistBuddy,nodeChildProcess:l=new c.ChildProcess}={}){this.logger=s.OutputChannelLogger.getMainChannel(),this.projectRoot=t,this.iosProjectRoot=e,this.nodeFileSystem=n,this.plistBuddy=o,this.nodeChildProcess=l,this.scheme=r}findPlistFile(e,t){return Promise.all([this.plistBuddy.getBundleId(this.iosProjectRoot,this.projectRoot,!0,e,t,this.scheme),this.nodeChildProcess.exec("xcrun simctl getenv booted HOME").then(e=>e.outcome)]).then(([e,t])=>{const r=n.join(t.toString().trim(),"Containers","Data","Application"),i=n.join("Library","Preferences",e+".plist");return this.nodeFileSystem.readDir(r).then(t=>{this.logger.info(`About to search for plist in base folder: ${r} pathAfter: ${i} in each of the apps: ${t}`);const s=t.map(e=>n.join(r,e,i)).filter(e=>this.nodeFileSystem.existsSync(e));if(0===s.length)throw new Error("Unable to find plist file for "+e);return s.length>1&&(l.TelemetryHelper.sendSimpleEvent("multipleDebugPlistFound"),this.logger.warning(o.ErrorHelper.getWarning(h(0,null)))),s[0]})})}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IOSSimulatorManager=void 0;const o=r(87),i=r(19),s=r(6),a=r(1);a.config({messageFormat:a.MessageFormat.bundle,bundleFormat:a.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\ios\\iOSSimulatorManager.ts"));const c=a.loadMessageBundle(r(0).join(__dirname,"src\\extension\\ios\\iOSSimulatorManager.ts"));class l extends o.VirtualDeviceManager{constructor(){super(),this.childProcess=new i.ChildProcess,this.simulators=[]}findSimulator(e,t=this.lastSelectedSystem,r){const n=(r||this.simulators).find(r=>r.name===e&&(!t||r.system===t));return n||null}getSimulatorById(e,t){const r=(t||this.simulators).find(t=>t.id===e);return r||null}collectSimulators(){return n(this,void 0,void 0,(function*(){const e=[],t=JSON.parse(yield this.childProcess.execToString(l.SIMULATORS_LIST_COMMAND));return Object.keys(t.devices).forEach(r=>{let n=r.split(".").slice(-1)[0];t.devices[r].forEach(t=>{e.push({name:t.name,id:t.udid,system:n,state:t.state})})}),e}))}selectSystem(){return n(this,void 0,void 0,(function*(){const e=this.getSystemsList(),t={ignoreFocusOut:!0,canPickMany:!1,placeHolder:c(0,null)};let r=e[0];return e.length>1&&(r=yield s.window.showQuickPick(e,t)),null==r?void 0:r.toString()}))}startSelection(){return n(this,void 0,void 0,(function*(){this.simulators=yield this.collectSimulators();const e=this.getRunningSimulator(this.simulators);if(e)return e.name;const t=yield this.selectSystem();if(t){this.lastSelectedSystem=t;const e=e=>e.system===this.lastSelectedSystem;return this.selectVirtualDevice(e)}}))}getVirtualDevicesNamesList(e){return n(this,void 0,void 0,(function*(){const t=[];return this.simulators.forEach(r=>{!r.name||e&&!e(r)||t.push(r.name)}),t}))}getSystemsList(){const e=new Set;return this.simulators.forEach(t=>{t.system.indexOf("iOS")>=0&&e.add(t.system)}),Array.from(e)}getRunningSimulator(e){return e.find(e=>"Booted"===e.state)}}t.IOSSimulatorManager=l,l.SIMULATORS_LIST_COMMAND="xcrun simctl list --json devices available"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeContentProvider=void 0;const n=r(162),o=r(1);o.config({messageFormat:o.MessageFormat.bundle,bundleFormat:o.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\qrCodeContentProvider.ts"));const i=o.loadMessageBundle(r(0).join(__dirname,"src\\extension\\qrCodeContentProvider.ts"));t.QRCodeContentProvider=class{constructor(){this.cache={}}provideTextDocumentContent(e){let t=e.toString();if(!this.cache[t]){const e=n.imageSync(t);this.cache[t]="data:image/png;base64,"+e.toString("base64")}return`<!DOCTYPE html>\n        <html>\n        <body>\n            <div style="text-align:center">\n                <h3>\n                    ${i(0,null,t)}\n                <h3>\n                <img src="${this.cache[t]}" />\n            </div>\n        </body>\n        </html>`}}},function(e,t,r){"use strict";var n=r(42).Readable,o=r(163).QR,i=r(167),s=r(170),a=function(){},c={parse_url:!1,ec_level:"M",size:5,margin:4,customize:null},l={parse_url:!1,ec_level:"M",margin:1,size:0};function u(e,t){e="string"==typeof e?{ec_level:e}:e||{};var r={type:String(t||e.type||"png").toLowerCase()},n="png"==r.type?c:l;for(var o in n)r[o]=o in e?e[o]:n[o];return r}e.exports={matrix:o,image:function(e,t){t=u(t);var r=o(e,t.ec_level,t.parse_url),c=new n;switch(c._read=a,t.type){case"svg":case"pdf":case"eps":process.nextTick((function(){s[t.type](r,c,t.margin,t.size)}));break;case"svgpath":process.nextTick((function(){var e=s.svg_object(r,t.margin,t.size);c.push(e.path),c.push(null)}));break;case"png":default:process.nextTick((function(){var e=i.bitmap(r,t.size,t.margin);t.customize&&t.customize(e),i.png(e,c)}))}return c},imageSync:function(e,t){t=u(t);var r,n=o(e,t.ec_level,t.parse_url),a=[];switch(t.type){case"svg":case"pdf":case"eps":s[t.type](n,a,t.margin,t.size),r=a.filter(Boolean).join("");break;case"png":default:var c=i.bitmap(n,t.size,t.margin);t.customize&&t.customize(c),i.png(c,a),r=Buffer.concat(a.filter(Boolean))}return r},svgObject:function(e,t){t=u(t,"svg");var r=o(e,t.ec_level);return s.svg_object(r,t.margin)}}},function(e,t,r){"use strict";var n=r(164),o=r(165),i=r(166);function s(e){return JSON.parse(JSON.stringify(e))}var a=["L","M","Q","H"],c=[[],[26,7,1,10,1,13,1,17,1],[44,10,1,16,1,22,1,28,1],[70,15,1,26,1,36,2,44,2],[100,20,1,36,2,52,2,64,4],[134,26,1,48,2,72,4,88,4],[172,36,2,64,4,96,4,112,4],[196,40,2,72,4,108,6,130,5],[242,48,2,88,4,132,6,156,6],[292,60,2,110,5,160,8,192,8],[346,72,4,130,5,192,8,224,8],[404,80,4,150,5,224,8,264,11],[466,96,4,176,8,260,10,308,11],[532,104,4,198,9,288,12,352,16],[581,120,4,216,9,320,16,384,16],[655,132,6,240,10,360,12,432,18],[733,144,6,280,10,408,17,480,16],[815,168,6,308,11,448,16,532,19],[901,180,6,338,13,504,18,588,21],[991,196,7,364,14,546,21,650,25],[1085,224,8,416,16,600,20,700,25],[1156,224,8,442,17,644,23,750,25],[1258,252,9,476,17,690,23,816,34],[1364,270,9,504,18,750,25,900,30],[1474,300,10,560,20,810,27,960,32],[1588,312,12,588,21,870,29,1050,35],[1706,336,12,644,23,952,34,1110,37],[1828,360,12,700,25,1020,34,1200,40],[1921,390,13,728,26,1050,35,1260,42],[2051,420,14,784,28,1140,38,1350,45],[2185,450,15,812,29,1200,40,1440,48],[2323,480,16,868,31,1290,43,1530,51],[2465,510,17,924,33,1350,45,1620,54],[2611,540,18,980,35,1440,48,1710,57],[2761,570,19,1036,37,1530,51,1800,60],[2876,570,19,1064,38,1590,53,1890,63],[3034,600,20,1120,40,1680,56,1980,66],[3196,630,21,1204,43,1770,59,2100,70],[3362,660,22,1260,45,1860,62,2220,74],[3532,720,24,1316,47,1950,65,2310,77],[3706,750,25,1372,49,2040,68,2430,81]];function l(e,t){var r,n=1;for(e.data1?r=Math.ceil(e.data1.length/8):n=10;n<10;n++){if((o=c[n][t]).data_len>=r)return s(o)}for(e.data10?r=Math.ceil(e.data10.length/8):n=27;n<27;n++){if((o=c[n][t]).data_len>=r)return s(o)}for(r=Math.ceil(e.data27.length/8);n<41;n++){var o;if((o=c[n][t]).data_len>=r)return s(o)}throw new Error("Too much data")}function u(e,t){var r=new Buffer(t.data_len);r.fill(0);for(var n=(e=t.version<10?e.data1:t.version<27?e.data10:e.data27).length,i=0;i<n;i+=8){for(var s=0,a=0;a<8;a++)s=s<<1|(e[i+a]?1:0);r[i/8]=s}var c=236;for(i=Math.ceil((n+4)/8);i<r.length;i++)r[i]=c,c=236==c?17:236;var l=0;return t.blocks=t.blocks.map((function(e){var n=r.slice(l,l+e);return l+=e,t.ec.push(o(n,t.ec_len)),n})),t}c=c.map((function(e,t){if(!t)return{};for(var r={},n=1;n<8;n+=2){for(var o=e[0]-e[n],i=e[n+1],s=a[n/2|0],c={version:t,ec_level:s,data_len:o,ec_len:e[n]/i,blocks:[],ec:[]},l=i,u=o;l>0;l--){var h=u/l|0;c.blocks.push(h),u-=h}r[s]=c}return r})),e.exports={QR:function(e,t,r){t=a.indexOf(t)>-1?t:"M";var o=n(e,r),s=u(o,l(o,t));return i.getMatrix(s)},getTemplate:l,fillTemplate:u}},function(e,t,r){"use strict";function n(e,t,r){for(var n=1<<t-1;n;n>>>=1)e.push(n&r?1:0)}var o=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=r;return t}("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");function i(e,t){var r,s=typeof e;if("string"==s||"number"==s)r=""+e,e=new Buffer(r);else if(Buffer.isBuffer(e))r=e.toString();else{if(!Array.isArray(e))throw new Error("Bad data");r=(e=new Buffer(e)).toString()}if(/^[0-9]+$/.test(r)){if(e.length>7089)throw new Error("Too much data");return function(e){for(var t=e.length,r=[],o=0;o<t;o+=3){var i=e.substr(o,3);n(r,Math.ceil(10*i.length/3),parseInt(i,10))}var s,a={};return n(s=[0,0,0,1],14,t),a.data27=s.concat(r),t<4096&&(n(s=[0,0,0,1],12,t),a.data10=s.concat(r)),t<1024&&(n(s=[0,0,0,1],10,t),a.data1=s.concat(r)),a}(r)}if(/^[0-9A-Z \$%\*\+\.\/\:\-]+$/.test(r)){if(e.length>4296)throw new Error("Too much data");return function(e){for(var t=e.length,r=[],i=0;i<t;i+=2){var s=6,a=o[e[i]];e[i+1]&&(s=11,a=45*a+o[e[i+1]]),n(r,s,a)}var c,l={};return n(c=[0,0,1,0],13,t),l.data27=c.concat(r),t<2048&&(n(c=[0,0,1,0],11,t),l.data10=c.concat(r)),t<512&&(n(c=[0,0,1,0],9,t),l.data1=c.concat(r)),l}(r)}if(t&&/^https?:/i.test(r))return function(e){var t=e.indexOf("/",8)+1||e.length,r=i(e.slice(0,t).toUpperCase(),!1);if(t>=e.length)return r;var n=i(e.slice(t),!1);return r.data27=r.data27.concat(n.data27),r.data10&&n.data10&&(r.data10=r.data10.concat(n.data10)),r.data1&&n.data1&&(r.data1=r.data1.concat(n.data1)),r}(r);if(e.length>2953)throw new Error("Too much data");return function(e){for(var t=e.length,r=[],o=0;o<t;o++)n(r,8,e[o]);var i,s={};return n(i=[0,1,0,0],16,t),s.data10=s.data27=i.concat(r),t<256&&(n(i=[0,1,0,0],8,t),s.data1=i.concat(r)),s}(e)}e.exports=i},function(e,t,r){"use strict";for(var n=[1],o=[],i=1;i<256;i++){var s=n[i-1]<<1;s>255&&(s^=285),n[i]=s}for(i=0;i<255;i++)o[n[i]]=i;function a(e){for(;e<0;)e+=255;for(;e>255;)e-=255;return n[e]}function c(e){if(e<1||e>255)throw Error("Bad log("+e+")");return o[e]}var l=[[0],[0,0],[0,25,1]];e.exports=function(e,t){e=[].slice.call(e);for(var r=function e(t){if(l[t])return l[t];var r=e(t-1),n=[];n[0]=r[0];for(var o=1;o<=t;o++)n[o]=c(a(r[o])^a(r[o-1]+t-1));return l[t]=n,n}(t),n=0;n<t;n++)e.push(0);for(;e.length>t;)if(e[0]){var o=c(e[0]);for(n=0;n<=t;n++)e[n]=e[n]^a(r[n]+o);e.shift()}else e.shift();return new Buffer(e)}},function(e,t,r){"use strict";function n(e){var t=4*e+17,r=[],n=new Buffer(t);n.fill(0),n=[].slice.call(n);for(var o=0;o<t;o++)r[o]=n.slice();return r}function o(e){for(var t=e.length,r=-3;r<=3;r++)for(var n=-3;n<=3;n++){var o=Math.max(r,n),i=Math.min(r,n),s=2==o&&i>=-2||-2==i&&o<=2?128:129;e[3+r][3+n]=s,e[3+r][t-4+n]=s,e[t-4+r][3+n]=s}for(r=0;r<8;r++)e[7][r]=e[r][7]=e[7][t-r-1]=e[r][t-8]=e[t-8][r]=e[t-1-r][7]=128}function i(e){var t=e.length;if(t>21){var r=t-13,n=Math.round(r/Math.ceil(r/28));n%2&&n++;for(var o=[],i=r+6;i>10;i-=n)o.unshift(i);o.unshift(6);for(var s=0;s<o.length;s++)for(var a=0;a<o.length;a++){var c=o[s],l=o[a];if(!e[c][l])for(var u=-2;u<=2;u++)for(var h=-2;h<=2;h++){var p=Math.max(u,h),d=Math.min(u,h),g=1==p&&d>=-1||-1==d&&p<=1?128:129;e[c+u][l+h]=g}}}for(s=8;s<t-8;s++)e[6][s]=e[s][6]=s%2?128:129}function s(e){for(var t=e.length,r=0;r<8;r++)6!=r&&(e[8][r]=e[r][8]=128),e[8][t-1-r]=128,e[t-1-r][8]=128;if(e[8][8]=128,e[t-8][8]=129,!(t<45))for(r=t-11;r<t-8;r++)for(var n=0;n<6;n++)e[r][n]=e[n][r]=128}var a,c=function(){for(var e=Array(32),t=Array(40),r=0;r<32;r++){for(var n=r<<10,o=5;o>0;o--)n>>>9+o&&(n^=1335<<o-1);e[r]=21522^(n|r<<10)}for(var i=7;i<=40;i++){for(n=i<<12,o=6;o>0;o--)n>>>11+o&&(n^=7973<<o-1);t[i]=n|i<<12}var s={L:1,M:0,Q:3,H:2};return function(r,n,o){var i=r.length,a=e[s[n]<<3|o];function c(e){return a>>e&1?129:128}for(var l=0;l<8;l++)r[8][i-1-l]=c(l),l<6&&(r[l][8]=c(l));for(l=8;l<15;l++)r[i-15+l][8]=c(l),l>8&&(r[8][14-l]=c(l));r[7][8]=c(6),r[8][8]=c(7),r[8][7]=c(8);var u=t[(i-17)/4];if(u)for(l=0;l<6;l++)for(var h=0;h<3;h++)r[i-11+h][l]=r[l][i-11+h]=u>>3*l+h&1?129:128}}(),l=(a=[function(e,t){return(e+t)%2==0},function(e,t){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return(e*t%3+(e+t)%2)%2==0}],function(e,t,r){var n,o,i=e.length,s=-1;n=o=i-1;for(var c=a[r],l=t.blocks[t.blocks.length-1].length,u=0;u<l;u++)for(var h=0;h<t.blocks.length;h++)t.blocks[h].length<=u||p(t.blocks[h][u]);for(l=t.ec_len,u=0;u<l;u++)for(h=0;h<t.ec.length;h++)p(t.ec[h][u]);if(o>-1)do{e[n][o]=c(n,o)?1:0}while(d());function p(t){for(var r=128;r;r>>=1){var i=!!(r&t);c(n,o)&&(i=!i),e[n][o]=i?1:0,d()}}function d(){do{if(o%2^o<6?s<0&&0==n||s>0&&n==i-1?(o--,s=-s):(o++,n+=s):o--,6==o&&o--,o<0)return!1}while(240&e[n][o]);return!0}});function u(e){for(var t=e.length,r=0,n=0;n<t;n++){for(var o=1&e[n][0],i=1,s=1;s<t;s++){(a=1&e[n][s])!=o?(i>=5&&(r+=i-2),o=a,i=1):i++}i>=5&&(r+=i-2)}for(s=0;s<t;s++){for(o=1&e[0][s],i=1,n=1;n<t;n++){var a;(a=1&e[n][s])!=o?(i>=5&&(r+=i-2),o=a,i=1):i++}i>=5&&(r+=i-2)}for(n=0;n<t-1;n++)for(s=0;s<t-1;s++){var c=e[n][s]+e[n][s+1]+e[n+1][s]+e[n+1][s+1]&7;0!=c&&4!=c||(r+=3)}function l(t){return 1&e[n][s+t]}function u(t){return 1&e[n+t][s]}for(n=0;n<t;n++)for(s=0;s<t;s++)s<t-6&&l(0)&&!l(1)&&l(2)&&l(3)&&l(4)&&!l(5)&&l(6)&&(s>=4&&!(l(-4)||l(-3)||l(-2)||l(-1))&&(r+=40),s<t-10&&!(l(7)||l(8)||l(9)||l(10))&&(r+=40)),n<t-6&&u(0)&&!u(1)&&u(2)&&u(3)&&u(4)&&!u(5)&&u(6)&&(n>=4&&!(u(-4)||u(-3)||u(-2)||u(-1))&&(r+=40),n<t-10&&!(u(7)||u(8)||u(9)||u(10))&&(r+=40));var h=0;for(n=0;n<t;n++)for(s=0;s<t;s++)1&e[n][s]&&h++;return r+=10*Math.floor(Math.abs(10-20*h/(t*t)))}e.exports={getMatrix:function(e){var t=n(e.version);o(t),i(t),s(t);for(var r=1/0,a=0,h=0;h<8;h++){l(t,e,h),c(t,e.ec_level,h);var p=u(t);p<r&&(r=p,a=h)}return l(t,e,a),c(t,e.ec_level,a),t.map((function(e){return e.map((function(e){return 1&e}))}))},init:n,fillFinders:o,fillAlignAndTiming:i,fillStub:s,fillReserved:c,fillData:l,calculatePenalty:u}},function(e,t,r){"use strict";var n=r(51),o=r(168),i=new Buffer([137,80,78,71,13,10,26,10]),s=new Buffer([0,0,0,13,73,72,68,82,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0]),a=new Buffer([0,0,0,0,73,68,65,84]),c=new Buffer([0,0,0,0,73,69,78,68,174,66,96,130]);e.exports={bitmap:function(e,t,r){var n=e.length,o=(n+2*r)*t,i=new Buffer((o+1)*o);i.fill(255);for(var s=0;s<o;s++)i[s*(o+1)]=0;for(s=0;s<n;s++)for(var a=0;a<n;a++)if(e[s][a]){var c=((r+s)*(o+1)+(r+a))*t+1;i.fill(0,c,c+t);for(var l=1;l<t;l++)i.copy(i,c+l*(o+1),c,c+t)}return{data:i,size:o}},png:function(e,t){t.push(i);var r=Buffer.concat([s]);r.writeUInt32BE(e.size,8),r.writeUInt32BE(e.size,12),r.writeUInt32BE(o(r.slice(4,-4)),21),t.push(r);var l=Buffer.concat([a,n.deflateSync(e.data,{level:9}),new Buffer(4)]);l.writeUInt32BE(l.length-12,0),l.writeUInt32BE(o(l.slice(4,-4)),l.length-4),t.push(l),t.push(c),t.push(null)}}},function(e,t,r){"use strict";!function(){if("arm"!==process.arch){var t=[];!function(){for(var e=0;e<256;e++){for(var r=e,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r>>>0}}(),e.exports=function(){for(var e=arguments.length,t=-1,r=0;r<e;r++)t=n(t,new Buffer(arguments[r]));return t=(-1^t)>>>0}}else e.exports=r(169);function n(e,r){for(var n=r.length,o=0;o<n;o++)e=t[255&(e^r[o])]^e>>>8;return e}}()},function(e,t,r){"use strict";for(var n=[],o=0;o<256;o++){var i=n[o]=new Buffer(4);i.writeUInt32BE(o,0);for(var s=0;s<8;s++){var a=1&i[0],c=1&i[1],l=1&i[2],u=1&i[3];i[0]=i[0]>>1^(u?237:0),i[1]=i[1]>>1^(u?184:0)^(a?128:0),i[2]=i[2]>>1^(u?131:0)^(c?128:0),i[3]=i[3]>>1^(u?32:0)^(l?128:0)}}function h(e,t){for(var r=t.length,o=0;o<r;o++){var i=n[e[3]^t[o]];e[3]=i[3]^e[2],e[2]=i[2]^e[1],e[1]=i[1]^e[0],e[0]=i[0]}}e.exports=function(){var e=arguments.length,t=new Buffer(4);t.fill(255);for(var r=0;r<e;r++)h(t,new Buffer(arguments[r]));return t[0]=255^t[0],t[1]=255^t[1],t[2]=255^t[2],t[3]=255^t[3],t.readUInt32BE(0)}},function(e,t,r){"use strict";function n(e){for(var t=e.length,r=[],n=-1;n<=t;n++)r[n]=[];var o=[];for(n=0;n<t;n++)for(var i=0;i<t;i++)r[n][i]||(r[n][i]=1,s(n,i)?s(n-1,i)||o.push(a(n,i,"right")):s(n,i-1)&&o.push(a(n,i,"down")));return o;function s(r,n){return!(r<0||n<0||r>=t||n>=t)&&!!e[r][n]}function a(e,t,n){r[e][t]=1;var o=[];o.push(["M",t,e]);var i=e,a=t,c=0;do{switch(n){case"right":r[i][a]=1,s(i,a)?(r[i-1][a]=1,s(i-1,a)?(o.push(["h",c]),c=0,n="up"):(c++,a++)):(o.push(["h",c]),c=0,n="down");break;case"left":r[i-1][a-1]=1,s(i-1,a-1)?(r[i][a-1]=1,s(i,a-1)?(o.push(["h",-c]),c=0,n="down"):(c++,a--)):(o.push(["h",-c]),c=0,n="up");break;case"down":r[i][a-1]=1,s(i,a-1)?(r[i][a]=1,s(i,a)?(o.push(["v",c]),c=0,n="right"):(c++,i++)):(o.push(["v",c]),c=0,n="left");break;case"up":r[i-1][a]=1,s(i-1,a)?(r[i-1][a-1]=1,s(i-1,a-1)?(o.push(["v",-c]),c=0,n="left"):(c++,i--)):(o.push(["v",-c]),c=0,n="right")}}while(i!=e||a!=t);return o}}function o(e,t,r){n(e).forEach((function(e){for(var n="",o=0;o<e.length;o++){var i=e[o];switch(i[0]){case"M":n+="M"+(i[1]+r)+" "+(i[2]+r);break;default:n+=i.join("")}}n+="z",t.push(n)}))}e.exports={svg:function(e,t,r,n){var i=e.length+2*r;if(t.push('<svg xmlns="http://www.w3.org/2000/svg" '),n>0){var s=i*n;t.push('width="'+s+'" height="'+s+'" ')}t.push('viewBox="0 0 '+i+" "+i+'">'),t.push('<path d="'),o(e,t,r),t.push('"/></svg>'),t.push(null)},eps:function(e,t,r){var o=e.length,i=9*(o+2*r);t.push(["%!PS-Adobe-3.0 EPSF-3.0","%%BoundingBox: 0 0 "+i+" "+i,"/h { 0 rlineto } bind def","/v { 0 exch neg rlineto } bind def","/M { neg "+(o+r)+" add moveto } bind def","/z { closepath } bind def","9 9 scale",""].join("\n")),n(e).forEach((function(e){for(var n="",o=0;o<e.length;o++){var i=e[o];switch(i[0]){case"M":n+=i[1]+r+" "+i[2]+" M ";break;default:n+=i[1]+" "+i[0]+" "}}n+="z\n",t.push(n)})),t.push("fill\n%%EOF\n"),t.push(null)},pdf:function(e,t,r){var o=e.length,i=9*(o+2*r),s=["%PDF-1.0\n\n","1 0 obj << /Type /Catalog /Pages 2 0 R >> endobj\n","2 0 obj << /Type /Pages /Count 1 /Kids [ 3 0 R ] >> endobj\n"];s.push("3 0 obj << /Type /Page /Parent 2 0 R /Resources <<>> /Contents 4 0 R /MediaBox [ 0 0 "+i+" "+i+" ] >> endobj\n");var a="9 0 0 9 0 0 cm\n";a+=n(e).map((function(e){for(var t,n,i="",s=0;s<e.length;s++){var a=e[s];switch(a[0]){case"M":i+=(t=a[1]+r)+" "+(n=o-a[2]+r)+" m ";break;case"h":i+=(t+=a[1])+" "+n+" l ";break;case"v":i+=t+" "+(n-=a[1])+" l "}}return i+="h"})).join("\n"),a+="\nf\n",s.push("4 0 obj << /Length "+a.length+" >> stream\n"+a+"endstream\nendobj\n");for(var c="xref\n0 5\n0000000000 65535 f \n",l=1,u=s[0].length;l<5;l++)c+=("0000000000"+u).substr(-10)+" 00000 n \n",u+=s[l].length;s.push(c,"trailer << /Root 1 0 R /Size 5 >>\n","startxref\n"+u+"\n%%EOF\n"),t.push(s.join("")),t.push(null)},svg_object:function(e,t){var r=[];return o(e,r,t),{size:e.length+2*t,path:r.filter(Boolean).join("")}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchJsonCompletionHelper=void 0;const n=r(6),o=r(115);t.LaunchJsonCompletionHelper=class{static getTextForInsertion(e,t,r){const n=JSON.stringify(e);return"AfterItem"===t?"BeforeCursor"===r?n:","+n:"BeforeItem"===t?n+",":n}static getCursorPositionInConfigurationsArray(e,t){if(this.isConfigurationArrayEmpty(e))return"InsideEmptyArray";const r=o.createScanner(e.getText(),!0);r.setPosition(e.offsetAt(t));const n=r.scan();return 5===n||4===n?"AfterItem":1===n?"BeforeItem":void 0}static isCommaImmediatelyBeforeCursor(e,t){const r=e.lineAt(t.line),o=e.getText(new n.Range(r.range.start,t));if(o.trim().endsWith(","))return!0;if(0!==o.trim().length)return!1;let i=t.line-1;for(;i>0;){const t=e.lineAt(i).text;if(t.trim().endsWith(","))return!0;if(0!==t.trim().length)return!1;i-=1}return!1}static isConfigurationArrayEmpty(e){const t=o.parse(e.getText(),[],{allowTrailingComma:!0,disallowComments:!1});return!t||!Array.isArray(t.configurations)||0===t.configurations.length}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;const n=r(20);class o{log(e,t){n.LogHelper.LOG_LEVEL!==n.LogLevel.None&&t>=n.LogHelper.LOG_LEVEL&&(e=o.getFormattedMessage(e,t),console.log(e))}info(e){this.log(e,n.LogLevel.Info)}warning(e){this.log(e,n.LogLevel.Warning)}error(e,t,r=!0){console.error(o.getFormattedMessage(e,n.LogLevel.Error)),r&&t&&t.stack&&console.error("Stack: "+t.stack)}debug(e){this.log(e,n.LogLevel.Debug)}logStream(e,t){t.write(e.toString())}static getFormattedMessage(e,t){return`[${n.LogLevel[t]}] ${e}\n`}}t.ConsoleLogger=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactDirManager=void 0;const n=r(0),o=r(8),i=r(3),s=r(2),a=r(15),c=r(95);t.ReactDirManager=class{constructor(e){this.isDisposed=!1,this.vscodeDirPath=n.join(e||"",".vscode"),this.reactDirPath=n.join(this.vscodeDirPath,".react")}setup(){this.isDisposed=!1;let e=new a.FileSystem;return e.removePathRecursivelyAsync(this.reactDirPath).then(()=>{if(!e.existsSync(this.vscodeDirPath))return e.mkDir(this.vscodeDirPath)}).then(()=>e.mkDir(this.reactDirPath))}dispose(){this.isDisposed=!0,new c.EntryPointHandler(c.ProcessType.Extension,o.OutputChannelLogger.getMainChannel()).runFunction("extension.deleteTemporaryFolder",i.ErrorHelper.getInternalError(s.InternalErrorCode.RNTempFolderDeletionFailed,this.reactDirPath),()=>(new a.FileSystem).removePathRecursivelySync(this.reactDirPath))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeDebugConfigProvider=void 0;const o=r(6),i=r(7),s=r(31),a=r(5),c=r(58),l=r(175),u=r(12),h=r(176),p=r(177),d=r(1);d.config({messageFormat:d.MessageFormat.bundle,bundleFormat:d.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\reactNativeDebugConfigProvider.ts"));const g=d.loadMessageBundle(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\reactNativeDebugConfigProvider.ts"));t.ReactNativeDebugConfigProvider=class{constructor(){this.debugConfigurations={"Debug Android":{name:"Debug Android",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"launch",platform:a.PlatformType.Android},"Run Android":{name:"Run Android",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"launch",platform:a.PlatformType.Android,enableDebug:!1},"Debug iOS":{name:"Debug iOS",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"launch",platform:a.PlatformType.iOS},"Run iOS":{name:"Run iOS",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"launch",platform:a.PlatformType.iOS,enableDebug:!1},"Debug Windows":{name:"Debug Windows",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"launch",platform:a.PlatformType.Windows},"Debug macOS":{name:"Debug macOS",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"launch",platform:a.PlatformType.macOS},"Attach to packager":{name:"Attach to packager",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"attach"},"Debug in Exponent":{name:"Debug in Exponent",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE,request:"launch",platform:a.PlatformType.Exponent},"Debug Android Hermes - Experimental":{name:"Debug Android Hermes - Experimental",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE_DIRECT,request:"launch",platform:a.PlatformType.Android},"Run Android Hermes - Experimental":{name:"Run Android Hermes - Experimental",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE_DIRECT,request:"launch",platform:a.PlatformType.Android,enableDebug:!1},"Attach to the React Native Hermes - Experimental":{name:"Attach to the React Native Hermes - Experimental",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE_DIRECT,request:"attach"},"Attach to the React Native iOS - Experimental":{name:"Attach to the React Native iOS - Experimental",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE_DIRECT,request:"attach",platform:a.PlatformType.iOS,port:c.IWDPHelper.iOS_WEBKIT_DEBUG_PROXY_DEFAULT_PORT},"Debug Direct iOS - Experimental":{name:"Debug Direct iOS - Experimental",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE_DIRECT,request:"launch",platform:a.PlatformType.iOS,port:c.IWDPHelper.iOS_WEBKIT_DEBUG_PROXY_DEFAULT_PORT},"Run Direct iOS - Experimental":{name:"Run Direct iOS - Experimental",cwd:"${workspaceFolder}",type:u.DEBUG_TYPES.REACT_NATIVE_DIRECT,request:"launch",platform:a.PlatformType.iOS,enableDebug:!1}},this.initialPickConfig=[{label:"Debug Android",description:g(0,null)},{label:"Run Android",description:g(1,null)},{label:"Debug iOS",description:g(2,null)},{label:"Run iOS",description:g(3,null)},{label:"Debug Windows",description:g(4,null)},{label:"Debug macOS",description:g(5,null)},{label:"Attach to packager",description:g(6,null)},{label:"Debug in Exponent",description:g(7,null)},{label:"Debug Android Hermes - Experimental",description:g(8,null)},{label:"Attach to the React Native Hermes - Experimental",description:g(9,null)},{label:"Attach to the React Native iOS - Experimental",description:g(10,null)},{label:"Debug Direct iOS - Experimental",description:g(11,null)},{label:"Run Direct iOS - Experimental",description:g(12,null)}],this.sequentialPickConfig=[{label:"Run application",description:g(13,null),type:u.DebugScenarioType.RunApp},{label:"Debug application",description:g(14,null),type:u.DebugScenarioType.DebugApp},{label:"Attach to application",description:g(15,null),type:u.DebugScenarioType.AttachApp}]}provideDebugConfigurations(e,t){return n(this,void 0,void 0,(function*(){return new Promise(e=>{const t=this.prepareDebugConfigPicker(),r=[],n=()=>{let n=i.TelemetryHelper.createTelemetryEvent("chosenDebugConfigurations"),o=t.selectedItems.map(e=>e.label);n.properties.selectedItems=o,s.Telemetry.send(n);const a=this.gatherDebugScenarios(o);r.forEach(e=>e.dispose()),e(a)};r.push(t.onDidAccept(n),t.onDidHide(n),t),t.show()})}))}provideDebugConfigurationSequentially(e,t){return n(this,void 0,void 0,(function*(){const r={config:{},scenarioType:u.DebugScenarioType.DebugApp,folder:e,token:t},n=new h.MultiStepInput;return yield n.run((e,t)=>this.pickDebugConfiguration(e,t),r),0===Object.keys(r.config).length?void 0:(r.config.type===u.DEBUG_TYPES.REACT_NATIVE_DIRECT?r.config.name=l.DebugScenarioNameGenerator.createScenarioName(r.scenarioType,r.config.type,r.config.platform,!0):r.config.name=l.DebugScenarioNameGenerator.createScenarioName(r.scenarioType,r.config.type||u.DEBUG_TYPES.REACT_NATIVE,r.config.platform),r.config)}))}pickDebugConfiguration(e,t){return n(this,void 0,void 0,(function*(){t.config={};const r=yield e.showQuickPick({title:g(16,null),placeholder:"Debug Configuration",activeItem:this.sequentialPickConfig[0],items:this.sequentialPickConfig});if(r){const e=p.ConfigProviderFactory.create(r.type);return e.buildConfiguration.bind(e)}}))}gatherDebugScenarios(e){return e.map(e=>this.debugConfigurations[e])}prepareDebugConfigPicker(){const e=o.window.createQuickPick();return e.canSelectMany=!0,e.ignoreFocusOut=!0,e.title=g(17,null),e.items=this.initialPickConfig,e.selectedItems=[this.initialPickConfig[0]],e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugScenarioNameGenerator=void 0;const n=r(5),o=r(12),i=r(12);t.DebugScenarioNameGenerator=class{static createScenarioName(e,t,r,n=!1){let o=this.createScenarioAccordingToDebugScenarioType(e);return o.platformType=this.getPlatformTypeName(r),t===i.DEBUG_TYPES.REACT_NATIVE?this.configureNotDirectModeScenario(o,e,t,r):this.configureDirectModeScenario(o,e,t,r),n&&(o.experimentalDescription="- Experimental"),this.debugScenarioNameToString(o)}static createScenarioAccordingToDebugScenarioType(e){switch(e){case o.DebugScenarioType.RunApp:return{debugScenarioType:"Run"};case o.DebugScenarioType.DebugApp:return{debugScenarioType:"Debug"};case o.DebugScenarioType.AttachApp:return{debugScenarioType:"Attach to"}}}static configureNotDirectModeScenario(e,t,r,i){t===o.DebugScenarioType.AttachApp&&(e.platformType="packager"),i===n.PlatformType.Exponent&&(e.prePlatformTypeDescription="in")}static configureDirectModeScenario(e,t,r,i){switch(i){case n.PlatformType.Android:t===o.DebugScenarioType.AttachApp?(e.prePlatformTypeDescription="the React Native",e.platformType="Hermes"):e.postPlatformTypeDescription="Hermes";break;case n.PlatformType.iOS:t===o.DebugScenarioType.AttachApp?e.prePlatformTypeDescription="the React Native":e.prePlatformTypeDescription="Direct"}}static getPlatformTypeName(e){switch(e){case n.PlatformType.Android:return"Android";case n.PlatformType.iOS:return"iOS";case n.PlatformType.Exponent:return"Exponent";case n.PlatformType.Windows:return"Windows";case n.PlatformType.WPF:return"WPF";case n.PlatformType.macOS:return"macOS";default:return""}}static debugScenarioNameToString(e){let t=e.debugScenarioType;return e.prePlatformTypeDescription&&(t+=" "+e.prePlatformTypeDescription),e.platformType&&(t+=" "+e.platformType),e.postPlatformTypeDescription&&(t+=" "+e.postPlatformTypeDescription),e.experimentalDescription&&(t+=" "+e.experimentalDescription),t}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepInput=t.InputFlowAction=void 0;const o=r(6);class i{}t.InputFlowAction=i,i.back=new i,i.cancel=new i,i.resume=new i;t.MultiStepInput=class{constructor(){this.steps=[]}run(e,t){return this.stepThrough(e,t)}showQuickPick({title:e,step:t,totalSteps:r,items:s,activeItem:a,placeholder:c,buttons:l,shouldResume:u,matchOnDescription:h,matchOnDetail:p,acceptFilterBoxTextAsSelection:d}){return n(this,void 0,void 0,(function*(){const g=[];try{return yield new Promise((f,m)=>{const v=o.window.createQuickPick();v.title=e,v.step=t,v.totalSteps=r,v.placeholder=c,v.ignoreFocusOut=!0,v.items=s,v.matchOnDescription=h||!1,v.matchOnDetail=p||!1,v.activeItems=a?[a]:[],v.buttons=[...this.steps.length>1?[o.QuickInputButtons.Back]:[],...l||[]],g.push(v.onDidTriggerButton(e=>{e===o.QuickInputButtons.Back?m(i.back):f(e)}),v.onDidChangeSelection(e=>f(e[0])),v.onDidHide(()=>{(()=>n(this,void 0,void 0,(function*(){m(u&&(yield u())?i.resume:i.cancel)})))().catch(m)})),d&&g.push(v.onDidAccept(()=>{f(v.value)})),this.current&&this.current.dispose(),this.current=v,this.current.show()})}finally{g.forEach(e=>e.dispose())}}))}showInputBox({title:e,step:t,totalSteps:r,value:s,prompt:a,validate:c,password:l,buttons:u,shouldResume:h}){return n(this,void 0,void 0,(function*(){const p=[];try{return yield new Promise((d,g)=>{const f=o.window.createInputBox();f.title=e,f.step=t,f.totalSteps=r,f.password=!!l,f.value=s||"",f.prompt=a,f.ignoreFocusOut=!0,f.buttons=[...this.steps.length>1?[o.QuickInputButtons.Back]:[],...u||[]];let m=c("");p.push(f.onDidTriggerButton(e=>{e===o.QuickInputButtons.Back?g(i.back):d(e)}),f.onDidAccept(()=>n(this,void 0,void 0,(function*(){const e=f.value;f.enabled=!1,f.busy=!0,(yield c(e))||d(e),f.enabled=!0,f.busy=!1}))),f.onDidChangeValue(e=>n(this,void 0,void 0,(function*(){const t=c(e);m=t;const r=yield t;t===m&&(f.validationMessage=r)}))),f.onDidHide(()=>{(()=>n(this,void 0,void 0,(function*(){g(h&&(yield h())?i.resume:i.cancel)})))().catch(g)})),this.current&&this.current.dispose(),this.current=f,this.current.show()})}finally{p.forEach(e=>e.dispose())}}))}stepThrough(e,t){return n(this,void 0,void 0,(function*(){let r=e;for(;r;){this.steps.push(r),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{r=yield r(this,t)}catch(e){if(e===i.back)this.steps.pop(),r=this.steps.pop();else if(e===i.resume)r=this.steps.pop();else{if(e!==i.cancel)throw e;r=void 0}}}this.current&&this.current.dispose()}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigProviderFactory=void 0;const n=r(178),o=r(180),i=r(181),s=r(12);t.ConfigProviderFactory=class{static create(e){switch(e){case s.DebugScenarioType.RunApp:return new n.RunConfigProvider;case s.DebugScenarioType.DebugApp:return new o.DebugConfigProvider;case s.DebugScenarioType.AttachApp:return new i.AttachConfigProvider;default:throw new Error(`Couldn't find ${e} config adapter type`)}}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RunConfigProvider=void 0;const o=r(59),i=r(12),s=r(5);class a extends o.BaseConfigProvider{constructor(){super(),this.maxStepCount=2}buildConfiguration(e,t){return n(this,void 0,void 0,(function*(){t.config={};const r={name:"Run application",request:"launch",type:i.DEBUG_TYPES.REACT_NATIVE,cwd:"${workspaceFolder}",enableDebug:!1};return t.scenarioType=i.DebugScenarioType.RunApp,yield this.configurationProviderHelper.selectPlatform(e,r,i.platformTypeRunPickConfig,1,this.maxStepCount),Object.assign(t.config,r),t.config.platform===s.PlatformType.iOS||t.config.platform===s.PlatformType.Android?()=>this.configureApplicationType(e,t.config):void 0}))}configureApplicationType(e,t){return n(this,void 0,void 0,(function*(){yield this.configurationProviderHelper.selectApplicationType(e,t,2,this.maxStepCount)}))}}t.RunConfigProvider=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationProviderHelper=void 0;const o=r(12),i=r(1);i.config({messageFormat:i.MessageFormat.bundle,bundleFormat:i.BundleFormat.standalone})(r(0).join(__dirname,"src\\common\\configurationProviderHelper.ts"));const s=i.loadMessageBundle(r(0).join(__dirname,"src\\common\\configurationProviderHelper.ts"));t.ConfigurationProviderHelper=class{selectPlatform(e,t,r,o,i){return n(this,void 0,void 0,(function*(){let n=yield e.showQuickPick({title:s(0,null),placeholder:s(1,null),step:o,totalSteps:i,items:r,activeItem:r[0]});if(!n)throw new Error("Platform is not selected");return t.platform=n.type,t}))}selectApplicationType(e,t,r,i){return n(this,void 0,void 0,(function*(){let n=yield e.showQuickPick({title:s(2,null),placeholder:s(3,null),step:r,totalSteps:i,items:o.appTypePickConfig,activeItem:o.appTypePickConfig[0]});if(!n)throw new Error("Application type is not selected");return t.type=n.type,t}))}selectExpoHostType(e,t,r,i){return n(this,void 0,void 0,(function*(){let n=yield e.showQuickPick({title:s(4,null),placeholder:s(5,null),step:r,totalSteps:i,items:o.expoHostTypePickConfig,activeItem:o.expoHostTypePickConfig[0]});if(!n)throw new Error("Expo host type is not selected");return t.expoHostType=n.type,t}))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugConfigProvider=void 0;const o=r(59),i=r(12),s=r(5);class a extends o.BaseConfigProvider{constructor(){super(),this.maxStepCount=2}buildConfiguration(e,t){return n(this,void 0,void 0,(function*(){t.config={};const r={name:"Debug application",request:"launch",type:i.DEBUG_TYPES.REACT_NATIVE,cwd:"${workspaceFolder}"};return t.scenarioType=i.DebugScenarioType.DebugApp,yield this.configurationProviderHelper.selectPlatform(e,r,i.platformTypeDebugPickConfig,1,this.maxStepCount),Object.assign(t.config,r),t.config.platform===s.PlatformType.iOS||t.config.platform===s.PlatformType.Android?()=>this.configureApplicationType(e,t.config):t.config.platform===s.PlatformType.Exponent?()=>this.configureExpoHostType(e,t.config):void 0}))}configureApplicationType(e,t){return n(this,void 0,void 0,(function*(){yield this.configurationProviderHelper.selectApplicationType(e,t,2,this.maxStepCount)}))}configureExpoHostType(e,t){return n(this,void 0,void 0,(function*(){yield this.configurationProviderHelper.selectExpoHostType(e,t,2,this.maxStepCount)}))}}t.DebugConfigProvider=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachConfigProvider=void 0;const o=r(59),i=r(12),s=r(5),a=r(58),c=r(37),l=r(1);l.config({messageFormat:l.MessageFormat.bundle,bundleFormat:l.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\configurationProviders\\attachConfigProvider.ts"));const u=l.loadMessageBundle(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\configurationProviders\\attachConfigProvider.ts"));class h extends o.BaseConfigProvider{constructor(){super(),this.defaultAddress="localhost",this.maxStepCount=3}buildConfiguration(e,t){return n(this,void 0,void 0,(function*(){this.maxStepCount=3,t.config={};const r={name:"Attach to application",request:"attach",type:i.DEBUG_TYPES.REACT_NATIVE,cwd:"${workspaceFolder}"};return t.scenarioType=i.DebugScenarioType.AttachApp,yield this.configurationProviderHelper.selectApplicationType(e,r,1,this.maxStepCount),Object.assign(t.config,r),t.config.type===i.DEBUG_TYPES.REACT_NATIVE_DIRECT?(this.maxStepCount++,()=>this.configureDirectPlatform(e,t.config)):()=>this.configureAddress(e,t.config)}))}configureDirectPlatform(e,t){return n(this,void 0,void 0,(function*(){return delete t.platform,yield this.configurationProviderHelper.selectPlatform(e,t,i.platformTypeDirectPickConfig,2,this.maxStepCount),()=>this.configureAddress(e,t)}))}configureAddress(e,t){return n(this,void 0,void 0,(function*(){delete t.address;let r=yield e.showInputBox({title:u(0,null),step:t.type===i.DEBUG_TYPES.REACT_NATIVE_DIRECT?3:2,totalSteps:this.maxStepCount,value:this.defaultAddress,prompt:u(1,null),validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:u(2,null))});return r&&r.trim()!==this.defaultAddress&&(t.address=r.trim()),()=>this.configurePort(e,t)}))}configurePort(e,t){return n(this,void 0,void 0,(function*(){delete t.port;const r=String(t.type===i.DEBUG_TYPES.REACT_NATIVE_DIRECT&&t.platform===s.PlatformType.iOS?a.IWDPHelper.iOS_WEBKIT_DEBUG_PROXY_DEFAULT_PORT:c.Packager.DEFAULT_PORT),n=/^\d+$/;let o,l=yield e.showInputBox({title:u(3,null),step:t.type===i.DEBUG_TYPES.REACT_NATIVE_DIRECT?4:3,totalSteps:this.maxStepCount,value:r,prompt:u(4,null),validate:e=>Promise.resolve(e&&n.test(e.trim())?void 0:u(5,null))});l&&n.test(l.trim())&&(o=parseInt(l,10)),o&&o!==c.Packager.DEFAULT_PORT&&(t.port=o)}))}}t.AttachConfigProvider=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchJsonCompletionProvider=t.JsonLanguages=void 0;const n=r(6),o=r(0),i=r(115),s=r(1);s.config({messageFormat:s.MessageFormat.bundle,bundleFormat:s.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\launchJsonCompletionProvider.ts"));const a=s.loadMessageBundle(r(0).join(__dirname,"src\\extension\\debuggingConfiguration\\launchJsonCompletionProvider.ts"));!function(e){e.json="json",e.jsonWithComments="jsonc"}(t.JsonLanguages||(t.JsonLanguages={}));t.LaunchJsonCompletionProvider=class{constructor(){this.configurationNodeName="configurations"}provideCompletionItems(e,t,r,o){return this.canProvideCompletions(e,t)?[{command:{command:"reactNative.selectAndInsertDebugConfiguration",title:a(0,null),arguments:[e,t,r]},documentation:a(1,null),sortText:"AAAA",preselect:!0,kind:n.CompletionItemKind.Enum,label:"React Native",insertText:new n.SnippetString}]:[]}canProvideCompletions(e,t){if("launch.json"!==o.basename(e.uri.fsPath))return!1;const r=i.getLocation(e.getText(),e.offsetAt(t));return r.path[0]===this.configurationNodeName&&2===r.path.length}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(62);class i{get event(){return this._event||(this._event=(e,t)=>{let r;return this._listener=e,this._this=t,r={dispose:()=>{this._listener=void 0,this._this=void 0}},r}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class s extends n.EventEmitter{constructor(){super(),this._sendMessage=new i,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,r=this._pendingRequests.get(t.request_seq);r&&(this._pendingRequests.delete(t.request_seq),r(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=new Buffer(0),e.on("data",e=>this._handleData(e)),e.on("close",()=>{this._emitEvent(new o.Event("close"))}),e.on("error",e=>{this._emitEvent(new o.Event("error","inStream error: "+(e&&e.message)))}),t.on("error",e=>{this._emitEvent(new o.Event("error","outStream error: "+(e&&e.message)))}),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error("attempt to send more than one response for command "+e.command):this._send("response",e)}sendRequest(e,t,r,n){const i={command:e};if(t&&Object.keys(t).length>0&&(i.arguments=t),this._send("request",i),n){this._pendingRequests.set(i.seq,n);const e=setTimeout(()=>{clearTimeout(e);const t=this._pendingRequests.get(i.seq);t&&(this._pendingRequests.delete(i.seq),t(new o.Response(i,"timeout")))},r)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new o.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(s.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const r=t[e].split(/: +/);"Content-Length"==r[0]&&(this._contentLength=+r[1])}this._rawData=this._rawData.slice(e+s.TWO_CRLF.length);continue}}break}}}s.TWO_CRLF="\r\n\r\n",t.ProtocolServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(96),o=n.logger,i=r(61);class s extends i.DebugSession{constructor(e,t,r){super(t,r),this.obsolete_logFilePath=e,this.on("error",e=>{o.error(e.body)})}start(e,t){super.start(e,t),o.init(e=>this.sendEvent(e),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof n.LogOutputEvent)){let t=e;e instanceof i.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t=Object.assign({},e),t.body=Object.assign({},e.body,{output:"<output not logged>"})),o.verbose("To client: "+JSON.stringify(t))}super.sendEvent(e)}sendRequest(e,t,r,n){o.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${r}`),super.sendRequest(e,t,r,n)}sendResponse(e){o.verbose("To client: "+JSON.stringify(e)),super.sendResponse(e)}dispatchRequest(e){o.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=s},function(e,t,r){var n=r(0),o=r(4),i=parseInt("0777",8);function s(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||o;void 0===c&&(c=i),a||(a=null);var u=r||function(){};e=n.resolve(e),l.mkdir(e,c,(function(r){if(!r)return u(null,a=a||e);switch(r.code){case"ENOENT":if(n.dirname(e)===e)return u(r);s(n.dirname(e),t,(function(r,n){r?u(r,n):s(e,t,u,n)}));break;default:l.stat(e,(function(e,t){e||!t.isDirectory()?u(r,a):u(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var a=r.mode,c=r.fs||o;void 0===a&&(a=i),s||(s=null),t=n.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(o){switch(o.code){case"ENOENT":s=e(n.dirname(t),r,s),e(t,r,s);break;default:var l;try{l=c.statSync(t)}catch(e){throw o}if(!l.isDirectory())throw o}}return s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformResolver=void 0;const n=r(5),o=r(88),i=r(79),s=r(98),a=r(188),c=r(17),l=r(94),u=r(189);t.PlatformResolver=class{resolveMobilePlatform(e,t,r){switch(e){case n.PlatformType.iOS:return new o.IOSPlatform(t,r);case n.PlatformType.Android:return new i.AndroidPlatform(t,r);case n.PlatformType.Exponent:return new l.ExponentPlatform(t,r);case n.PlatformType.Windows:return new s.WindowsPlatform(t,r);case n.PlatformType.WPF:return new a.WpfPlatform(t,r);case n.PlatformType.macOS:return new u.MacOSPlatform(t,r);default:return new c.GeneralMobilePlatform(t,r)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WpfPlatform=void 0;const n=r(10),o=r(0),i=r(17),s=r(5),a=r(7),c=r(13),l=r(98),u=r(1);u.config({messageFormat:u.MessageFormat.bundle,bundleFormat:u.BundleFormat.standalone})(r(0).join(__dirname,"src\\extension\\windows\\wpfPlatform.ts"));const h=u.loadMessageBundle(r(0).join(__dirname,"src\\extension\\windows\\wpfPlatform.ts"));class p extends l.WindowsPlatform{constructor(e,t={}){super(e,t),this.runOptions=e}runApp(e=!0){let t={platform:{value:s.PlatformType.WPF,isPii:!1}};return t=a.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(this.runOptions,this.runOptions.reactNativeVersions,t),a.TelemetryHelper.generate("WpfPlatform.runApp",t,()=>{const t=i.GeneralMobilePlatform.getEnvArgument(process.env,this.runOptions.env,this.runOptions.envFile);if(e&&this.runArguments.push("--proxy"),!n.gt(this.runOptions.reactNativeVersions.reactNativeVersion,p.WPF_SUPPORTED))throw new Error(h(0,null,this.runOptions.reactNativeVersions.reactNativeVersion));n.valid(this.runOptions.reactNativeVersions.reactNativeVersion)&&!n.gte(this.runOptions.reactNativeVersions.reactNativeVersion,p.NO_PACKAGER_VERSION)||this.runArguments.push("--no-packager");const r=new c.CommandExecutor(this.projectPath,this.logger);return new Promise((e,n)=>{const i=this.projectPath.split(o.sep).pop();return r.execute(`cmd /C Taskkill /IM ${i}.exe /F`).finally(()=>{const o=r.spawnReactCommand("run-"+this.platformName,this.runArguments,{env:t});let i=!1,s="";o.stdout.on("data",t=>{s+=t.toString(),!i&&s.indexOf("Starting the app")>-1&&(i=!0,e())}),o.stderr.on("data",e=>{e.toString().trim()&&n(e.toString())}),o.outcome.then(()=>{n()})})})})}}t.WpfPlatform=p,p.WPF_SUPPORTED="0.55.0"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacOSPlatform=void 0;const n=r(10),o=r(17),i=r(5),s=r(40),a=r(7),c=r(13),l=r(2);class u extends o.GeneralMobilePlatform{constructor(e,t={}){super(e,t),this.runOptions=e}runApp(){let e={platform:{value:i.PlatformType.macOS,isPii:!1}};return e=a.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(this.runOptions,this.runOptions.reactNativeVersions,e),a.TelemetryHelper.generate("MacOSPlatform.runApp",e,()=>{const e=o.GeneralMobilePlatform.getEnvArgument(process.env,this.runOptions.env,this.runOptions.envFile);n.valid(this.runOptions.reactNativeVersions.reactNativeVersion)&&!n.gte(this.runOptions.reactNativeVersions.reactNativeVersion,u.NO_PACKAGER_VERSION)||this.runArguments.push("--no-packager");const t=new c.CommandExecutor(this.projectPath,this.logger).spawnReactCommand("run-"+this.platformName,this.runArguments,{env:e});return new s.OutputVerifier(()=>Promise.resolve(u.SUCCESS_PATTERNS),()=>Promise.resolve(u.FAILURE_PATTERNS),this.platformName).process(t)})}prewarmBundleCache(){return this.packager.prewarmBundleCache(i.PlatformType.macOS)}getRunArguments(){let e=[];if(this.runOptions.runArguments&&this.runOptions.runArguments.length>0)e.push(...this.runOptions.runArguments);else{let t=this.runOptions.target===u.simulatorString?"":this.runOptions.target;t&&e.push("--"+t)}return e}}t.MacOSPlatform=u,u.SUCCESS_PATTERNS=["Launching app"],u.FAILURE_PATTERNS=[{pattern:"Unrecognized command 'run-macos'",errorCode:l.InternalErrorCode.ReactNativemacOSIsNotInstalled}]},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeCDPProxy=void 0;const o=r(191),i=r(8),s=r(20),a=r(107);t.ReactNativeCDPProxy=class{constructor(e,t,r=s.LogLevel.None){this.PROXY_LOG_TAGS={DEBUGGER_COMMAND:"Command Debugger To Target",APPLICATION_COMMAND:"Command Target To Debugger",DEBUGGER_REPLY:"Reply From Debugger To Target",APPLICATION_REPLY:"Reply From Target To Debugger"},this.port=t,this.hostAddress=e,this.logger=i.OutputChannelLogger.getChannel("React Native Chrome Proxy",!0,!1,!0),this.logLevel=r,this.browserInspectUri="",this.debuggerEndpointHelper=new a.DebuggerEndpointHelper}initializeServer(e,t,r){return this.logLevel=t,this.CDPMessageHandler=e,this.cancellationToken=r,o.Server.create({port:this.port,host:this.hostAddress}).then(e=>{this.server=e,this.server.onConnection(this.onConnectionHandler.bind(this))})}stopServer(){return n(this,void 0,void 0,(function*(){this.server&&(this.server.dispose(),this.server=null),this.applicationTarget&&(yield this.applicationTarget.close(),this.applicationTarget=null),this.browserInspectUri="",this.cancellationToken=void 0}))}setBrowserInspectUri(e){this.browserInspectUri=e}setApplicationTargetPort(e){this.applicationTargetPort=e}onConnectionHandler([e,t]){var r,i;return n(this,void 0,void 0,(function*(){this.debuggerTarget=e,this.debuggerTarget.pause(),this.browserInspectUri||(this.cancellationToken?this.browserInspectUri=yield this.debuggerEndpointHelper.retryGetWSEndpoint("http://localhost:"+this.applicationTargetPort,90,this.cancellationToken):this.browserInspectUri=yield this.debuggerEndpointHelper.getWSEndpoint("http://localhost:"+this.applicationTargetPort)),this.applicationTarget=new o.Connection(yield o.WebSocketTransport.create(this.browserInspectUri)),this.applicationTarget.onError(this.onApplicationTargetError.bind(this)),this.debuggerTarget.onError(this.onDebuggerTargetError.bind(this)),this.applicationTarget.onCommand(this.handleApplicationTargetCommand.bind(this)),this.debuggerTarget.onCommand(this.handleDebuggerTargetCommand.bind(this)),this.applicationTarget.onReply(this.handleApplicationTargetReply.bind(this)),this.debuggerTarget.onReply(this.handleDebuggerTargetReply.bind(this)),this.applicationTarget.onEnd(this.onApplicationTargetClosed.bind(this)),this.debuggerTarget.onEnd(this.onDebuggerTargetClosed.bind(this)),null===(r=this.CDPMessageHandler)||void 0===r||r.setApplicationTarget(this.applicationTarget),null===(i=this.CDPMessageHandler)||void 0===i||i.setDebuggerTarget(this.debuggerTarget),this.debuggerTarget.unpause()}))}handleDebuggerTargetCommand(e){var t,r;this.logger.logWithCustomTag(this.PROXY_LOG_TAGS.DEBUGGER_COMMAND,JSON.stringify(e,null,2),this.logLevel);const n=this.CDPMessageHandler.processDebuggerCDPMessage(e);n.sendBack?null===(t=this.debuggerTarget)||void 0===t||t.send(n.event):null===(r=this.applicationTarget)||void 0===r||r.send(n.event)}handleApplicationTargetCommand(e){var t,r;this.logger.logWithCustomTag(this.PROXY_LOG_TAGS.APPLICATION_COMMAND,JSON.stringify(e,null,2),this.logLevel);const n=this.CDPMessageHandler.processApplicationCDPMessage(e);n.sendBack?null===(t=this.applicationTarget)||void 0===t||t.send(n.event):null===(r=this.debuggerTarget)||void 0===r||r.send(n.event)}handleDebuggerTargetReply(e){var t,r;this.logger.logWithCustomTag(this.PROXY_LOG_TAGS.DEBUGGER_REPLY,JSON.stringify(e,null,2),this.logLevel);const n=this.CDPMessageHandler.processDebuggerCDPMessage(e);n.sendBack?null===(t=this.debuggerTarget)||void 0===t||t.send(n.event):null===(r=this.applicationTarget)||void 0===r||r.send(n.event)}handleApplicationTargetReply(e){var t,r;this.logger.logWithCustomTag(this.PROXY_LOG_TAGS.APPLICATION_REPLY,JSON.stringify(e,null,2),this.logLevel);const n=this.CDPMessageHandler.processApplicationCDPMessage(e);n.sendBack?null===(t=this.applicationTarget)||void 0===t||t.send(n.event):null===(r=this.debuggerTarget)||void 0===r||r.send(n.event)}onDebuggerTargetError(e){this.logger.error("Error on debugger transport",e)}onApplicationTargetError(e){this.logger.error("Error on application transport",e)}onApplicationTargetClosed(){return n(this,void 0,void 0,(function*(){this.applicationTarget=null}))}onDebuggerTargetClosed(){return n(this,void 0,void 0,(function*(){this.browserInspectUri="",this.CDPMessageHandler.processDebuggerCDPMessage({method:"close"}),this.debuggerTarget=null}))}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(192)),n(r(104)),n(r(105)),n(r(106))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(64),i=r(69),s=r(104),a=r(106),c=r(18);class l{constructor(e,t){this.wss=e,this.httpServer=t,this.connectionEmitter=new i.EventEmitter,this.onConnection=this.connectionEmitter.addListener,this.address=this.httpServer.address(),e.on("connection",(e,t)=>{this.connectionEmitter.emit([new s.Connection(new a.WebSocketTransport(e)),t])})}static create(e={}){return n(this,void 0,void 0,(function*(){const{host:t="127.0.0.1",port:r=0}=e,n=c.createServer((e,o)=>{const i=r||n.address().port;o.write(JSON.stringify({webSocketDebuggerUrl:`ws://${t}:${i}/ws`})),o.end()}),i=new o.Server({server:n});return n.listen(r),new l(i,n)}))}dispose(){this.wss.close(),this.httpServer.close()}}t.Server=l},function(e,t){e.exports=require("tls")},function(e,t,r){"use strict";const n=Symbol("kDone"),o=Symbol("kRun");e.exports=class{constructor(e){this[n]=()=>{this.pending--,this[o]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[o]()}[o](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t,r){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class o extends n{constructor(e,t){super("message",t),this.data=e}}class i extends n{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class s extends n{constructor(e){super("open",e)}}class a extends n{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t,r){if("function"!=typeof t)return;function n(e){t.call(this,new o(e,this))}function c(e,r){t.call(this,new i(e,r,this))}function l(e){t.call(this,new a(e,this))}function u(){t.call(this,new s(this))}const h=r&&r.once?"once":"on";"message"===e?(n._listener=t,this[h](e,n)):"close"===e?(c._listener=t,this[h](e,c)):"error"===e?(l._listener=t,this[h](e,l)):"open"===e?(u._listener=t,this[h](e,u)):this[h](e,t)},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){"use strict";const{Duplex:n}=r(42);function o(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,c);let n=!1;e.once("error",(function(e){n=!0,r(e)})),e.once("close",(function(){n||r(t),process.nextTick(o,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,r,n)}))},c.on("end",i),c.on("error",s),c}},function(e,t,r){"use strict";const n=r(23),{createHash:o}=r(32),{createServer:i,STATUS_CODES:s}=r(18),a=r(43),c=r(99),{format:l,parse:u}=r(103),{GUID:h,kWebSocket:p}=r(26),d=/^[+/0-9A-Za-z]{22}==$/;function g(e){e.emit("close")}function f(){this.destroy()}function m(e,t,r,n){e.writable&&(r=r||s[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${s[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",f),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=i((e,t)=>{const r=s[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(g,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",f);const o=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),i=+e.headers["sec-websocket-version"],s={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!o||!d.test(o)||8!==i&&13!==i||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),s[a.extensionName]=r)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[""+(8===i?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(i,a,c,l)=>{if(!i)return m(t,a||401,c,l);this.completeUpgrade(o,s,e,t,r,n)});if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(o,s,e,t,r,n)}completeUpgrade(e,t,r,n,i,s){if(!n.readable||!n.writable)return n.destroy();if(n[p])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+o("sha1").update(e+h).digest("base64")],d=new c(null);let g=r.headers["sec-websocket-protocol"];if(g&&(g=g.trim().split(/ *, */),g=this.options.handleProtocols?this.options.handleProtocols(g,r):g[0],g&&(u.push("Sec-WebSocket-Protocol: "+g),d.protocol=g)),t[a.extensionName]){const e=t[a.extensionName].params,r=l({[a.extensionName]:[e]});u.push("Sec-WebSocket-Extensions: "+r),d._extensions=t}this.emit("headers",u,r),n.write(u.concat("\r\n").join("\r\n")),n.removeListener("error",f),d.setSocket(n,i,this.options.maxPayload),this.clients&&(this.clients.add(d),d.on("close",()=>this.clients.delete(d))),s(d)}}},function(e,t,r){"use strict";var n=t,o=r(199).Buffer,i=r(16);n.toBuffer=function(e,t,r){var n;if(r=~~r,this.isV4Format(e))n=t||new o(r+4),e.split(/\./g).map((function(e){n[r++]=255&parseInt(e,10)}));else if(this.isV6Format(e)){var i,s=e.split(":",8);for(i=0;i<s.length;i++){var a;this.isV4Format(s[i])&&(a=this.toBuffer(s[i]),s[i]=a.slice(0,2).toString("hex")),a&&++i<8&&s.splice(i,0,a.slice(2,4).toString("hex"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(i=0;i<s.length&&""!==s[i];i++);var c=[i,1];for(i=9-s.length;i>0;i--)c.push("0");s.splice.apply(s,c)}for(n=t||new o(r+16),i=0;i<s.length;i++){var l=parseInt(s[i],16);n[r++]=l>>8&255,n[r++]=255&l}}if(!n)throw Error("Invalid ip address: "+e);return n},n.toString=function(e,t,r){t=~~t;var n=[];if(4===(r=r||e.length-t)){for(var o=0;o<r;o++)n.push(e[t+o]);n=n.join(".")}else if(16===r){for(o=0;o<r;o+=2)n.push(e.readUInt16BE(t+o).toString(16));n=(n=(n=n.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n};var s=/^(\d{1,3}\.){3,3}\d{1,3}$/,a=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function c(e){return e?e.toLowerCase():"ipv4"}n.isV4Format=function(e){return s.test(e)},n.isV6Format=function(e){return a.test(e)},n.fromPrefixLen=function(e,t){var r=4;"ipv6"===(t=e>32?"ipv6":c(t))&&(r=16);for(var i=new o(r),s=0,a=i.length;s<a;++s){var l=8;e<8&&(l=e),e-=l,i[s]=255&~(255>>l)}return n.toString(i)},n.mask=function(e,t){e=n.toBuffer(e),t=n.toBuffer(t);var r=new o(Math.max(e.length,t.length)),i=0;if(e.length===t.length)for(i=0;i<e.length;i++)r[i]=e[i]&t[i];else if(4===t.length)for(i=0;i<t.length;i++)r[i]=e[e.length-4+i]&t[i];else{for(i=0;i<r.length-6;i++)r[i]=0;for(r[10]=255,r[11]=255,i=0;i<e.length;i++)r[i+12]=e[i]&t[i+12];i+=12}for(;i<r.length;i++)r[i]=0;return n.toString(r)},n.cidr=function(e){var t=e.split("/"),r=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(t[1],10));return n.mask(r,o)},n.subnet=function(e,t){for(var r=n.toLong(n.mask(e,t)),o=n.toBuffer(t),i=0,s=0;s<o.length;s++)if(255===o[s])i+=8;else for(var a=255&o[s];a;)a=a<<1&255,i++;var c=Math.pow(2,32-i);return{networkAddress:n.fromLong(r),firstAddress:c<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:c<=2?n.fromLong(r+c-1):n.fromLong(r+c-2),broadcastAddress:n.fromLong(r+c-1),subnetMask:t,subnetMaskLength:i,numHosts:c<=2?c:c-2,length:c,contains:function(e){return r===n.toLong(n.mask(e,t))}}},n.cidrSubnet=function(e){var t=e.split("/"),r=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(t[1],10));return n.subnet(r,o)},n.not=function(e){for(var t=n.toBuffer(e),r=0;r<t.length;r++)t[r]=255^t[r];return n.toString(t)},n.or=function(e,t){if(e=n.toBuffer(e),t=n.toBuffer(t),e.length===t.length){for(var r=0;r<e.length;++r)e[r]|=t[r];return n.toString(e)}var o=e,i=t;t.length>e.length&&(o=t,i=e);var s=o.length-i.length;for(r=s;r<o.length;++r)o[r]|=i[r-s];return n.toString(o)},n.isEqual=function(e,t){if(e=n.toBuffer(e),t=n.toBuffer(t),e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(4===t.length){var o=t;t=e,e=o}for(r=0;r<10;r++)if(0!==t[r])return!1;var i=t.readUInt16BE(10);if(0!==i&&65535!==i)return!1;for(r=0;r<4;r++)if(e[r]!==t[r+12])return!1;return!0},n.isPrivate=function(e){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},n.isPublic=function(e){return!n.isPrivate(e)},n.isLoopback=function(e){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^fe80::1$/.test(e)||/^::1$/.test(e)||/^::$/.test(e)},n.loopback=function(e){if("ipv4"!==(e=c(e))&&"ipv6"!==e)throw new Error("family must be ipv4 or ipv6");return"ipv4"===e?"127.0.0.1":"fe80::1"},n.address=function(e,t){var r,o=i.networkInterfaces();if(t=c(t),e&&"private"!==e&&"public"!==e){var s=o[e].filter((function(e){return e.family.toLowerCase()===t}));if(0===s.length)return;return s[0].address}return(r=Object.keys(o).map((function(r){var i=o[r].filter((function(r){return r.family=r.family.toLowerCase(),r.family===t&&!n.isLoopback(r.address)&&(!e||("public"===e?n.isPrivate(r.address):n.isPublic(r.address)))}));return i.length?i[0].address:void 0})).filter(Boolean)).length?r[0]:n.loopback(t)},n.toLong=function(e){var t=0;return e.split(".").forEach((function(e){t<<=8,t+=parseInt(e)})),t>>>0},n.fromLong=function(e){return(e>>>24)+"."+(e>>16&255)+"."+(e>>8&255)+"."+(255&e)}},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("dns")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchScenariosManager=void 0;const n=r(0),o=r(4),i=r(47);t.LaunchScenariosManager=class{constructor(e){this.pathToLaunchFile=n.resolve(e,".vscode","launch.json")}getLaunchScenarios(){return this.launchScenarios}getFirstScenarioIndexByParams(e){if(this.launchScenarios.configurations)for(let t=0;t<this.launchScenarios.configurations.length;t++){const r=this.launchScenarios.configurations[t];if(e.name===r.name&&e.platform===r.platform&&e.type===r.type&&e.request===r.request)return t}return null}writeLaunchScenarios(e=this.launchScenarios){o.existsSync(this.pathToLaunchFile)&&o.writeFileSync(this.pathToLaunchFile,JSON.stringify(e,null,4))}readLaunchScenarios(){if(o.existsSync(this.pathToLaunchFile)){const e=o.readFileSync(this.pathToLaunchFile,"utf8");this.launchScenarios=JSON.parse(i(e))}}updateLaunchScenario(e,t){this.readLaunchScenarios();let r=this.getFirstScenarioIndexByParams(e);const n=this.getLaunchScenarios();null!==r&&n.configurations&&(Object.assign(n.configurations[r],t),this.writeLaunchScenarios(n))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeSessionManager=void 0;const n=r(6),o=r(63),i=r(12),s=r(203),a=r(229);t.ReactNativeSessionManager=class{constructor(){this.servers=new Map,this.connections=new Map}createDebugAdapterDescriptor(e,t){const r=o.createServer(t=>{let r;r=e.type===i.DEBUG_TYPES.REACT_NATIVE?new s.RNDebugSession(e):new a.DirectDebugSession(e),this.connections.set(e.id,t),r.setRunAsServer(!0),r.start(t,t)});return r.listen(0),this.servers.set(e.id,r),new n.DebugAdapterServer(r.address().port)}terminate(e){this.destroyServer(e.debugSession.id,this.servers.get(e.debugSession.id));let t=this.connections.get(e.debugSession.id);t&&(e.args.forcedStop&&this.destroyConnection(t),this.connections.delete(e.debugSession.id))}dispose(){this.servers.forEach((e,t)=>{this.destroyServer(t,e)}),this.connections.forEach((e,t)=>{this.destroyConnection(e),this.connections.delete(t)})}destroyConnection(e){e.removeAllListeners(),e.on("error",()=>{}),e.destroy()}destroyServer(e,t){t&&(t.close(),this.servers.delete(e))}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RNDebugSession=void 0;const o=r(6),i=r(0),s=r(75),a=r(25),c=r(9),l=r(7),u=r(204),h=r(228),p=r(60),d=r(113),g=r(3),f=r(2),m=r(1);m.config({messageFormat:m.MessageFormat.bundle,bundleFormat:m.BundleFormat.standalone})(r(0).join(__dirname,"src\\debugger\\rnDebugSession.ts"));const v=m.loadMessageBundle(r(0).join(__dirname,"src\\debugger\\rnDebugSession.ts"));class y extends p.DebugSessionBase{constructor(e){super(e),this.terminateCommand="terminate",this.appWorker=null,this.onDidStartDebugSessionHandler=o.debug.onDidStartDebugSession(this.handleStartDebugSession.bind(this)),this.onDidTerminateDebugSessionHandler=o.debug.onDidTerminateDebugSession(this.handleTerminateDebugSession.bind(this))}launchRequest(e,t,r){return n(this,void 0,void 0,(function*(){return new Promise((r,n)=>this.initializeSettings(t).then(()=>{a.logger.log("Launching the application"),a.logger.verbose("Launching the application: "+JSON.stringify(t,null,2)),this.appLauncher.launch(t).then(()=>{t.enableDebug?(t.port=t.port||this.appLauncher.getPackagerPort(t.cwd),this.attachRequest(e,t).then(()=>{r()}).catch(e=>n(e))):(this.sendResponse(e),r())}).catch(e=>{n(g.ErrorHelper.getInternalError(f.InternalErrorCode.ApplicationLaunchFailed,e.message||e))})}).catch(e=>{n(g.ErrorHelper.getInternalError(f.InternalErrorCode.ApplicationLaunchFailed,e.message||e))})).catch(t=>this.showError(t,e))}))}attachRequest(e,t,r){return n(this,void 0,void 0,(function*(){let r={platform:{value:t.platform,isPii:!1}};return this.previousAttachArgs=t,new Promise((e,n)=>this.initializeSettings(t).then(()=>(a.logger.log("Attaching to the application"),a.logger.verbose("Attaching to the application: "+JSON.stringify(t,null,2)),c.ProjectVersionHelper.getReactNativeVersions(t.cwd,c.ProjectVersionHelper.generateAdditionalPackagesToCheckByPlatform(t)))).then(n=>(r=l.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(t,n,r),l.TelemetryHelper.generate("attach",r,r=>(t.port=t.port||this.appLauncher.getPackagerPort(t.cwd),this.appLauncher.getRnCdpProxy().stopServer().then(()=>this.appLauncher.getRnCdpProxy().initializeServer(new h.RnCDPMessageHandler,this.cdpProxyLogLevel)).then(()=>this.appLauncher.getPackager().start()).then(()=>{a.logger.log(v(0,null));const r=i.join(this.projectRootPath,".vscode",".react");return s.sync(r),this.appWorker=new u.MultipleLifetimesAppWorker(t,r,this.projectRootPath,void 0),this.appLauncher.setAppWorker(this.appWorker),this.appWorker.on("connected",r=>{var n;if(this.cancellationTokenSource.token.isCancellationRequested)return null===(n=this.appWorker)||void 0===n?void 0:n.stop();a.logger.log(v(1,null,r)),this.appLauncher.getRnCdpProxy().setApplicationTargetPort(r),this.debugSessionStatus!==p.DebugSessionStatus.ConnectionPending&&(this.debugSessionStatus===p.DebugSessionStatus.FirstConnection?(this.debugSessionStatus=p.DebugSessionStatus.FirstConnectionPending,this.establishDebugSession(t,e)):this.debugSessionStatus===p.DebugSessionStatus.ConnectionAllowed&&this.nodeSession&&(this.debugSessionStatus=p.DebugSessionStatus.ConnectionPending,this.nodeSession.customRequest(this.terminateCommand)))}),this.cancellationTokenSource.token.isCancellationRequested?this.appWorker.stop():this.appWorker.start()}))))).catch(e=>{n(g.ErrorHelper.getInternalError(f.InternalErrorCode.CouldNotAttachToDebugger,e.message||e))})).catch(t=>this.showError(t,e))}))}disconnectRequest(e,t,r){const o=Object.create(null,{disconnectRequest:{get:()=>super.disconnectRequest}});return n(this,void 0,void 0,(function*(){this.appWorker&&this.appWorker.stop(),this.onDidStartDebugSessionHandler.dispose(),this.onDidTerminateDebugSessionHandler.dispose(),o.disconnectRequest.call(this,e,t,r)}))}establishDebugSession(e,t){const r=d.JsDebugConfigAdapter.createDebuggingConfigForPureRN(e,this.appLauncher.getCdpProxyPort(),this.session.id);o.debug.startDebugging(this.appLauncher.getWorkspaceFolder(),r,{parentSession:this.session,consoleMode:o.DebugConsoleMode.MergeWithParent}).then(e=>{if(!e)throw this.debugSessionStatus=p.DebugSessionStatus.ConnectionFailed,this.setConnectionAllowedIfPossible(),this.resetFirstConnectionStatus(),new Error("Cannot start child debug session");this.debugSessionStatus=p.DebugSessionStatus.ConnectionDone,this.setConnectionAllowedIfPossible(),t&&(this.debugSessionStatus=p.DebugSessionStatus.ConnectionAllowed,t())},e=>{throw this.debugSessionStatus=p.DebugSessionStatus.ConnectionFailed,this.setConnectionAllowedIfPossible(),this.resetFirstConnectionStatus(),e})}handleStartDebugSession(e){e.configuration.rnDebugSessionId===this.session.id&&e.type===this.pwaNodeSessionName&&(this.nodeSession=e)}handleTerminateDebugSession(e){e.configuration.rnDebugSessionId===this.session.id&&e.type===this.pwaNodeSessionName&&(this.debugSessionStatus===p.DebugSessionStatus.ConnectionPending?this.establishDebugSession(this.previousAttachArgs):o.commands.executeCommand(this.stopCommand,this.session))}setConnectionAllowedIfPossible(){this.debugSessionStatus!==p.DebugSessionStatus.ConnectionDone&&this.debugSessionStatus!==p.DebugSessionStatus.ConnectionFailed||(this.debugSessionStatus=p.DebugSessionStatus.ConnectionAllowed)}resetFirstConnectionStatus(){this.debugSessionStatus===p.DebugSessionStatus.FirstConnectionPending&&(this.debugSessionStatus=p.DebugSessionStatus.FirstConnection)}}t.RNDebugSession=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleLifetimesAppWorker=void 0;const n=r(0),o=r(64),i=r(23),s=r(108),a=r(3),c=r(25),l=r(85),u=r(205),h=r(109),p=r(56),d=r(1),g=r(2),f=r(15),m=r(24);d.config({messageFormat:d.MessageFormat.bundle,bundleFormat:d.BundleFormat.standalone})(r(0).join(__dirname,"src\\debugger\\appWorker.ts"));const v=d.loadMessageBundle(r(0).join(__dirname,"src\\debugger\\appWorker.ts"));function y(e,t){const r=a.ErrorHelper.getNestedError(e,g.InternalErrorCode.DebuggingWontWorkReloadJSAndReconnect,t);c.logger.error(r.message)}class E extends i.EventEmitter{constructor(e,t,r,{webSocketConstructor:n=(e=>new o(e))}={}){if(super(),this.executionLimiter=new l.ExecutionsLimiter,this.nodeFileSystem=new f.FileSystem,this.packagerAddress=e.address||"localhost",this.packagerPort=e.port,this.packagerRemoteRoot=e.remoteRoot,this.packagerLocalRoot=e.localRoot,this.debuggerWorkerUrlPath=e.debuggerWorkerUrlPath,this.sourcesStoragePath=t,this.projectRootPath=r,!this.sourcesStoragePath)throw a.ErrorHelper.getInternalError(g.InternalErrorCode.SourcesStoragePathIsNullOrEmpty);this.webSocketConstructor=n,this.scriptImporter=new h.ScriptImporter(this.packagerAddress,this.packagerPort,t,this.packagerRemoteRoot,this.packagerLocalRoot)}start(e=!1){const t=a.ErrorHelper.getInternalError(g.InternalErrorCode.CannotAttachToPackagerCheckPackagerRunningOnPort,this.packagerPort);return s.ensurePackagerRunning(this.packagerAddress,this.packagerPort,t).then(()=>e?Promise.resolve():this.downloadAndPatchDebuggerWorker()).then(()=>this.createSocketToApp(e))}stop(){this.socketToApp&&(this.socketToApp.removeAllListeners(),this.socketToApp.close()),this.singleLifetimeWorker&&this.singleLifetimeWorker.stop()}downloadAndPatchDebuggerWorker(){let e=n.resolve(this.sourcesStoragePath,h.ScriptImporter.DEBUGGER_WORKER_FILENAME);return this.scriptImporter.downloadDebuggerWorker(this.sourcesStoragePath,this.projectRootPath,this.debuggerWorkerUrlPath).then(()=>this.nodeFileSystem.readFile(e,"utf8")).then(t=>{const r=p.ReactNativeProjectHelper.isHaulProject(this.projectRootPath),n=[E.WORKER_BOOTSTRAP,E.CONSOLE_TRACE_PATCH,E.PROCESS_TO_STRING_PATCH,r?E.FETCH_STUB:null,t,E.WORKER_DONE].join("\n");return this.nodeFileSystem.writeFile(e,n)})}showDevMenuCommand(){this.singleLifetimeWorker&&this.singleLifetimeWorker.postMessage({method:"vscode_showDevMenu"})}reloadAppCommand(){this.singleLifetimeWorker&&this.singleLifetimeWorker.postMessage({method:"vscode_reloadApp"})}startNewWorkerLifetime(){return this.singleLifetimeWorker=new u.ForkedAppWorker(this.packagerAddress,this.packagerPort,this.sourcesStoragePath,this.projectRootPath,e=>{this.sendMessageToApp(e)},this.packagerRemoteRoot,this.packagerLocalRoot),c.logger.verbose("A new app worker lifetime was created."),this.singleLifetimeWorker.start().then(e=>{this.emit("connected",e)})}createSocketToApp(e=!1){return new Promise((t,r)=>{this.socketToApp=this.webSocketConstructor(this.debuggerProxyUrl()),this.socketToApp.on("open",()=>{this.onSocketOpened()}),this.socketToApp.on("close",()=>{this.executionLimiter.execute("onSocketClose.msg",10,()=>{"Another debugger is already connected"===this.socketToApp._closeMessage&&r(a.ErrorHelper.getInternalError(g.InternalErrorCode.AnotherDebuggerConnectedToPackager)),c.logger.log(v(0,null))}),setTimeout(()=>{this.start(!0)},100)}),this.socketToApp.on("message",e=>this.onMessage(e)),this.socketToApp.on("error",t=>{e&&y(a.ErrorHelper.getInternalError(g.InternalErrorCode.ReconnectionToPackagerFailedCheckForErrorsOrRestartReactNative),t),r(t)}),m.PromiseUtil.delay(300).then(()=>t())})}debuggerProxyUrl(){return`ws://${this.packagerAddress}:${this.packagerPort}/debugger-proxy?role=debugger&name=vscode`}onSocketOpened(){this.executionLimiter.execute("onSocketOpened.msg",10,()=>c.logger.log(v(1,null)))}killWorker(){this.singleLifetimeWorker&&(this.singleLifetimeWorker.stop(),this.singleLifetimeWorker=null)}onMessage(e){try{c.logger.verbose("From RN APP: "+e);let t=JSON.parse(e);"prepareJSRuntime"===t.method?(this.killWorker(),this.gotPrepareJSRuntime(t)):"$disconnected"===t.method?this.killWorker():t.method?this.singleLifetimeWorker&&this.singleLifetimeWorker.postMessage(t):c.logger.verbose("The react-native app sent a message without specifying a method: "+e)}catch(t){y(a.ErrorHelper.getInternalError(g.InternalErrorCode.FailedToProcessMessageFromReactNativeApp,e),t)}}gotPrepareJSRuntime(e){this.startNewWorkerLifetime().then(()=>{this.sendMessageToApp({replyID:parseInt(e.id,10)})},t=>y(a.ErrorHelper.getInternalError(g.InternalErrorCode.FailedToPrepareJSRuntimeEnvironment,e),t))}sendMessageToApp(e){let t="";try{t=JSON.stringify(e),c.logger.verbose("To RN APP: "+t),this.socketToApp.send(t)}catch(r){let n=t||""+e;y(a.ErrorHelper.getInternalError(g.InternalErrorCode.FailedToSendMessageToTheReactNativeApp,n),r)}}}t.MultipleLifetimesAppWorker=E,E.WORKER_BOOTSTRAP="\n// Initialize some variables before react-native code would access them\nvar onmessage=null, self=global;\n// Cache Node's original require as __debug__.require\nglobal.__debug__={require: require};\n// Prevent leaking process.versions from debugger process to\n// worker because pure React Native doesn't do that and some packages as js-md5 rely on this behavior\nObject.defineProperty(process, \"versions\", {\n    value: undefined\n});\n// TODO: Replace by url.fileURLToPath method when Node 10 LTS become deprecated\nfunction fileUrlToPath(url) {\n  if (process.platform === 'win32') {\n      return url.toString().replace('file:///', '');\n  } else {\n    return url.toString().replace('file://', '');\n  }\n}\nfunction getNativeModules() {\n    var NativeModules;\n    try {\n        // This approach is for old RN versions\n        NativeModules = global.require('NativeModules');\n    } catch (err) {\n        // ignore error and try another way for more recent RN versions\n        try {\n            var nativeModuleId;\n            var modules = global.__r.getModules();\n            var ids = Object.keys(modules);\n            for (var i = 0; i < ids.length; i++) {\n              if (modules[ids[i]].verboseName) {\n                 var packagePath = new String(modules[ids[i]].verboseName);\n                 if (packagePath.indexOf('Libraries/BatchedBridge/NativeModules.js') > 0 || packagePath.indexOf('Libraries\\\\BatchedBridge\\\\NativeModules.js') > 0) {\n                   nativeModuleId = parseInt(ids[i], 10);\n                   break;\n                 }\n              }\n            }\n          if (nativeModuleId) {\n            NativeModules = global.__r(nativeModuleId);\n          }\n        }\n        catch (err) {\n            // suppress errors\n        }\n    }\n    return NativeModules;\n}\n// Originally, this was made for iOS only\nvar vscodeHandlers = {\n    'vscode_reloadApp': function () {\n        var NativeModules = getNativeModules();\n        if (NativeModules && NativeModules.DevMenu) {\n            NativeModules.DevMenu.reload();\n        }\n    },\n    'vscode_showDevMenu': function () {\n        var NativeModules = getNativeModules();\n        if (NativeModules && NativeModules.DevMenu) {\n            NativeModules.DevMenu.show();\n        }\n    }\n};\nprocess.on(\"message\", function (message) {\n    if (message.data && vscodeHandlers[message.data.method]) {\n        vscodeHandlers[message.data.method]();\n    } else if(onmessage) {\n        onmessage(message);\n    }\n});\nvar postMessage = function(message){\n    process.send(message);\n};\nif (!self.postMessage) {\n    self.postMessage = postMessage;\n}\nvar importScripts = (function(){\n    var fs=require('fs'), vm=require('vm');\n    return function(scriptUrl){\n        scriptUrl = fileUrlToPath(scriptUrl);\n        var scriptCode = fs.readFileSync(scriptUrl, 'utf8');\n        // Add a 'debugger;' statement to stop code execution\n        // to wait for the sourcemaps to be processed by the debug adapter\n        vm.runInThisContext('debugger;' + scriptCode, {filename: scriptUrl});\n    };\n})();\n",E.CONSOLE_TRACE_PATCH="// Worker is ran as nodejs process, so console.trace() writes to stderr and it leads to error in native app\n// To avoid this console.trace() is overridden to print stacktrace via console.log()\n// Please, see Node JS implementation: https://github.com/nodejs/node/blob/master/lib/internal/console/constructor.js\nconsole.trace = (function() {\n    return function() {\n        try {\n            var err = {\n                name: 'Trace',\n                message: require('util').format.apply(null, arguments)\n                };\n            // Node uses 10, but usually it's not enough for RN app trace\n            Error.stackTraceLimit = 30;\n            Error.captureStackTrace(err, console.trace);\n            console.log(err.stack);\n        } catch (e) {\n            console.error(e);\n        }\n    };\n})();\n",E.PROCESS_TO_STRING_PATCH="// As worker is ran in node, it breaks broadcast-channels package approach of identifying if it’s ran in node:\n// https://github.com/pubkey/broadcast-channel/blob/master/src/util.js#L64\n// To avoid it if process.toString() is called if will return empty string instead of [object process].\nvar nativeObjectToString = Object.prototype.toString;\nObject.prototype.toString = function() {\n    if (this === process) {\n        return '';\n    } else {\n        return nativeObjectToString.call(this);\n    }\n};\n",E.WORKER_DONE="// Notify debugger that we're done with loading\n// and started listening for IPC messages\npostMessage({workerLoaded:true});",E.FETCH_STUB="(function(self) {\n'use strict';\nif (self.fetch) {\n    return;\n}\nself.fetch = fetch;\nfunction fetch(url) {\n    return new Promise((resolve, reject) => {\n        var data = require('fs').readFileSync(fileUrlToPath(url), 'utf8');\n        resolve(\n            {\n                text: function () {\n                    return data;\n                }\n            });\n    });\n}\n})(global);\n"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForkedAppWorker=void 0;const n=r(0),o=r(11),i=r(29),s=r(4),a=r(109),c=r(25),l=r(3),u=r(2),h=r(20),p=r(30);function d(e,t){const r=l.ErrorHelper.getNestedError(e,u.InternalErrorCode.DebuggingWontWorkReloadJSAndReconnect,t);c.logger.error(r.message)}t.ForkedAppWorker=class{constructor(e,t,r,n,o,i,s){this.packagerAddress=e,this.packagerPort=t,this.sourcesStoragePath=r,this.projectRootPath=n,this.postReplyToApp=o,this.packagerRemoteRoot=i,this.packagerLocalRoot=s,this.debuggeeProcess=null,this.scriptImporter=new a.ScriptImporter(this.packagerAddress,this.packagerPort,this.sourcesStoragePath,this.packagerRemoteRoot,this.packagerLocalRoot)}stop(){this.debuggeeProcess&&(c.logger.verbose("About to kill debuggee with pid "+this.debuggeeProcess.pid),this.debuggeeProcess.kill(),this.debuggeeProcess=null)}start(){let e=n.resolve(this.sourcesStoragePath,a.ScriptImporter.DEBUGGER_WORKER_FILENAME);const t=p.generateRandomPortNumber(),r=["--inspect-brk="+t,"--no-deprecation",e];return this.debuggeeProcess=i.spawn("node",r,{stdio:["pipe","pipe","pipe","ipc"]}).on("message",e=>{e&&e.workerLoaded?this.workerLoaded=Promise.resolve():this.postReplyToApp(e)}).on("error",e=>{d(l.ErrorHelper.getInternalError(u.InternalErrorCode.ReactNativeWorkerProcessThrownAnError),e)}),this.logDirectory=h.getLoggingDirectory(),this.logDirectory&&(this.logWriteStream=s.createWriteStream(n.join(this.logDirectory,"nodeProcessLog.txt")),this.logWriteStream.on("error",e=>{c.logger.error(`Error creating log file at path: ${this.logDirectory}. Error: ${e.toString()}\n`)}),this.debuggeeProcess.stdout.pipe(this.logWriteStream),this.debuggeeProcess.stderr.pipe(this.logWriteStream),this.debuggeeProcess.on("close",()=>{this.logWriteStream.end()})),c.logger.verbose(`Spawned debuggee process with pid ${this.debuggeeProcess.pid} listening to ${t}`),Promise.resolve(t)}postMessage(e){return new Promise(e=>{if(this.workerLoaded)e();else{const t=setInterval(()=>{this.workerLoaded&&(clearInterval(t),e())},1e3)}}).then(()=>{const t=this.workerLoaded.then(()=>{if("executeApplicationScript"!==e.method)return this.bundleLoaded?this.bundleLoaded.then(()=>e):e;if(e.url){const t=o.parse(e.url);return t.host=`${this.packagerAddress}:${this.packagerPort}`,e=Object.assign(Object.assign({},e),{url:o.format(t)}),c.logger.verbose("Packager requested runtime to load script from "+e.url),this.scriptImporter.downloadAppScript(e.url,this.projectRootPath).then(t=>(this.bundleLoaded=Promise.resolve(),Object.assign({},e,{url:""+this.pathToFileUrl(t.filepath)})))}throw l.ErrorHelper.getInternalError(u.InternalErrorCode.RNMessageWithMethodExecuteApplicationScriptDoesntHaveURLProperty)});return t.then(e=>{this.debuggeeProcess&&this.debuggeeProcess.send({data:e})},t=>d(l.ErrorHelper.getInternalError(u.InternalErrorCode.CouldntImportScriptAt,e.url),t)),t})}pathToFileUrl(e){return("win32"===process.platform?"file:///":"file://")+e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapUtil=void 0;const n=r(11),o=r(0),i=r(207),s=/^[a-zA-z]{2,}:\/\//;class a{getSourceMapURL(e,t){let r=null,o=this.getSourceMapRelativeUrl(t);if(o){let t=n.parse(o);t.protocol=e.protocol,t.host=e.host,r=n.parse(n.format(t))}return r}updateSourceMapFile(e,t,n,o,a){try{let c=JSON.parse(e);return c.sections&&(c.sections=c.sections.filter(e=>null!=e.map),c=r(222)(c)),c=(new i.SourceMapsCombinator).convert(c),c.sources&&(c.sources=c.sources.map(e=>s.test(e)?e:this.updateSourceMapPath(e,n,o,a))),delete c.sourcesContent,c.sourceRoot="",c.file=t,JSON.stringify(c)}catch(t){return e}}appendSourceMapPaths(e,t){return e+="//# sourceMappingURL="+t}updateScriptPaths(e,t){return e.replace(a.SourceMapURLRegex,"//# sourceMappingURL="+o.basename(t.pathname))}removeSourceURL(e){return e.replace(a.SourceURLRegex,"")}getSourceMapRelativeUrl(e){let t=e.match(a.SourceMapURLGlobalRegex);if(t){const e=t[t.length-1].match(a.SourceMapURLRegex);if(e)return e[2].includes("platform=macos")&&!e[2].includes("http:")&&e[2].startsWith("//")?"http:"+e[2]:e[2]}return null}updateSourceMapPath(e,t,r,n){r&&n&&(r=this.makeUnixStylePath(r),n=this.makeUnixStylePath(n),e=e.replace(r,n));let i=o.relative(t,e);return this.makeUnixStylePath(i)}makeUnixStylePath(e){let t=e.split(o.sep);return o.posix.join.apply(null,t)}}t.SourceMapUtil=a,a.SourceMapURLGlobalRegex=/\/\/(#|@) sourceMappingURL=((?!data:).+?)\s*$/gm,a.SourceMapURLRegex=/\/\/(#|@) sourceMappingURL=((?!data:).+?)\s*$/m,a.SourceURLRegex=/^\/\/[#@] ?sourceURL=(.+)$/m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapsCombinator=void 0;const n=r(4),o=r(0),i=r(208),s=r(215),a=/^(?:[a-z]{2,}:\/\/\/)?[a-z]:/i;function c(e,t){return t.match(a)?n.readFileSync(t):n.readFileSync(`${e}${t}`)}t.SourceMapsCombinator=class{convert(e){const t=e.sources.reduce((e,t)=>{if(t.indexOf("node_modules")>=0)return e;try{let r=this.getSourceMapConsumerFrom(t);r&&(e[t]=r)}finally{return e}},{});if(0===Object.keys(t).length)return e;const r=new i.SourceMapGenerator;return new i.SourceMapConsumer(e).eachMapping(n=>{if(null===n.source)return;let i={generated:{line:n.generatedLine,column:n.generatedColumn},original:{line:n.originalLine,column:n.originalColumn},source:n.source,name:n.name};if(t[n.source]){let r={line:n.originalLine,column:n.originalColumn},s=t[n.source].originalPositionFor(r);if(null===s.source)return;s.source.match(a)||(s.source=o.resolve(e.sourceRoot,o.dirname(n.source),s.source)),i.source=s.source,i.name=s.name||i.name,null!==s.line&&null!==s.column&&(i.original={line:s.line,column:s.column})}try{r.addMapping(i)}catch(e){}}),r.toJSON()}getSourceMapConsumerFrom(e){let t=n.readFileSync(e);return this.readSourcemap(e,t.toString())}readSourcemap(e,t){let r=s.resolveSync(t,e,c.bind(null,function(e){const t=e.match(a);return t?t[0]:""}(e)));return null===r?null:new i.SourceMapConsumer(r.map)}}},function(e,t,r){t.SourceMapGenerator=r(110).SourceMapGenerator,t.SourceMapConsumer=r(211).SourceMapConsumer,t.SourceNode=r(214).SourceNode},function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,r){{var n=r(34);function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){var t,r,o,i,s,a;t=this._last,r=e,o=t.generatedLine,i=r.generatedLine,s=t.generatedColumn,a=r.generatedColumn,i>o||i==o&&a>=s||n.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=o}},function(e,t,r){{var n=r(34),o=r(212),i=r(112).ArraySet,s=r(111),a=r(213).quickSort;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new h(t):new l(t)}function l(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=n.getArg(t,"version"),o=n.getArg(t,"sources"),s=n.getArg(t,"names",[]),a=n.getArg(t,"sourceRoot",null),c=n.getArg(t,"sourcesContent",null),l=n.getArg(t,"mappings"),u=n.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);o=o.map(n.normalize).map((function(e){return a&&n.isAbsolute(a)&&n.isAbsolute(e)?n.relative(a,e):e})),this._names=i.fromArray(s,!0),this._sources=i.fromArray(o,!0),this.sourceRoot=a,this.sourcesContent=c,this._mappings=l,this.file=u}function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=n.getArg(t,"version"),o=n.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new i,this._names=new i;var s={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=n.getArg(e,"offset"),r=n.getArg(t,"line"),o=n.getArg(t,"column");if(r<s.line||r===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new c(n.getArg(e,"map"))}}))}c.fromSourceMap=function(e){return l.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,r){var o,i=t||null;switch(r||c.GENERATED_ORDER){case c.GENERATED_ORDER:o=this._generatedMappings;break;case c.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=n.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},c.prototype.allGeneratedPositionsFor=function(e){var t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(null!=this.sourceRoot&&(r.source=n.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var i=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)i.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var l=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==l;)i.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},t.SourceMapConsumer=c,l.prototype=Object.create(c.prototype),l.prototype.consumer=c,l.fromSourceMap=function(e){var t=Object.create(l.prototype),r=t._names=i.fromArray(e._names.toArray(),!0),o=t._sources=i.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),c=t.__generatedMappings=[],h=t.__originalMappings=[],p=0,d=s.length;p<d;p++){var g=s[p],f=new u;f.generatedLine=g.generatedLine,f.generatedColumn=g.generatedColumn,g.source&&(f.source=o.indexOf(g.source),f.originalLine=g.originalLine,f.originalColumn=g.originalColumn,g.name&&(f.name=r.indexOf(g.name)),h.push(f)),c.push(f)}return a(t.__originalMappings,n.compareByOriginalPositions),t},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?n.join(this.sourceRoot,e):e}),this)}}),l.prototype._parseMappings=function(e,t){for(var r,o,i,c,l,h=1,p=0,d=0,g=0,f=0,m=0,v=e.length,y=0,E={},_={},S=[],P=[];y<v;)if(";"===e.charAt(y))h++,y++,p=0;else if(","===e.charAt(y))y++;else{for((r=new u).generatedLine=h,c=y;c<v&&!this._charIsMappingSeparator(e,c);c++);if(i=E[o=e.slice(y,c)])y+=o.length;else{for(i=[];y<c;)s.decode(e,y,_),l=_.value,y=_.rest,i.push(l);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");E[o]=i}r.generatedColumn=p+i[0],p=r.generatedColumn,i.length>1&&(r.source=f+i[1],f+=i[1],r.originalLine=d+i[2],d=r.originalLine,r.originalLine+=1,r.originalColumn=g+i[3],g=r.originalColumn,i.length>4&&(r.name=m+i[4],m+=i[4])),P.push(r),"number"==typeof r.originalLine&&S.push(r)}a(P,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=P,a(S,n.compareByOriginalPositions),this.__originalMappings=S},l.prototype._findMapping=function(e,t,r,n,i,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return o.search(e,t,i,s)},l.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===t.generatedLine){var i=n.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=n.join(this.sourceRoot,i)));var s=n.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:n.getArg(o,"originalLine",null),column:n.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},l.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=n.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=n.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!r.path||"/"==r.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(e){var t=n.getArg(e,"source");if(null!=this.sourceRoot&&(t=n.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var r={source:t=this._sources.indexOf(t),originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")},o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===r.source)return{line:n.getArg(i,"generatedLine",null),column:n.getArg(i,"generatedColumn",null),lastColumn:n.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=l,h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=o.search(t,this._sections,(function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn})),i=this._sections[r];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer.sources.indexOf(n.getArg(e,"source"))){var o=r.consumer.generatedPositionFor(e);if(o)return{line:o.line+(r.generatedOffset.generatedLine-1),column:o.column+(r.generatedOffset.generatedLine===o.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var o=this._sections[r],i=o.consumer._generatedMappings,s=0;s<i.length;s++){var c=i[s],l=o.consumer._sources.at(c.source);null!==o.consumer.sourceRoot&&(l=n.join(o.consumer.sourceRoot,l)),this._sources.add(l),l=this._sources.indexOf(l);var u=o.consumer._names.at(c.name);this._names.add(u),u=this._names.indexOf(u);var h={source:l,generatedLine:c.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(o.generatedOffset.generatedLine===c.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:u};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),a(this.__originalMappings,n.compareByOriginalPositions)},t.IndexedSourceMapConsumer=h}},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,n,o){if(0===r.length)return-1;var i=function e(r,n,o,i,s,a){var c=Math.floor((n-r)/2)+r,l=s(o,i[c],!0);return 0===l?c:l>0?n-c>1?e(c,n,o,i,s,a):a==t.LEAST_UPPER_BOUND?n<i.length?n:-1:c:c-r>1?e(r,c,o,i,s,a):a==t.LEAST_UPPER_BOUND?c:r<0?-1:r}(-1,r.length,e,r,n,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===n(r[i],r[i-1],!0);)--i;return i}},function(e,t){{function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t,o,i){if(o<i){var s=o-1;r(e,(u=o,h=i,Math.round(u+Math.random()*(h-u))),i);for(var a=e[i],c=o;c<i;c++)t(e[c],a)<=0&&r(e,s+=1,c);r(e,s+1,c);var l=s+1;n(e,t,o,l-1),n(e,t,l+1,i)}var u,h}t.quickSort=function(e,t){n(e,t,0,e.length-1)}}},function(e,t,r){{var n=r(110).SourceMapGenerator,o=r(34),i=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,r,n,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==o?null:o,this[s]=!0,null!=n&&this.add(n)}a.fromStringWithSourceMap=function(e,t,r){var n=new a,s=e.split(i),c=function(){return s.shift()+(s.shift()||"")},l=1,u=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(l<e.generatedLine)){var t=(r=s[0]).substr(0,e.generatedColumn-u);return s[0]=r.substr(e.generatedColumn-u),u=e.generatedColumn,p(h,t),void(h=e)}p(h,c()),l++,u=0}for(;l<e.generatedLine;)n.add(c()),l++;if(u<e.generatedColumn){var r=s[0];n.add(r.substr(0,e.generatedColumn)),s[0]=r.substr(e.generatedColumn),u=e.generatedColumn}h=e}),this),s.length>0&&(h&&p(h,c()),n.add(s.join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=r&&(e=o.join(r,e)),n.setSourceContent(e,i))})),n;function p(e,t){if(null===e||void 0===e.source)n.add(t);else{var i=r?o.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,i,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(o.fromSetString(n[t]),this.sourceContents[n[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),o=!1,i=null,s=null,a=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(i===n.source&&s===n.line&&a===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),i=n.source,s=n.line,a=n.column,c=n.name,o=!0):o&&(r.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var l=0,u=e.length;l<u;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===u?(i=null,o=!1):o&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},t.SourceNode=a}},function(e,t,r){var n=r(216),o=r(217),i=r(218),s=r(220),a=r(221);function c(e,t,r){setImmediate((function(){e(t,r)}))}function l(e,t){try{return JSON.parse(e.replace(/^\)\]\}'/,""))}catch(e){throw e.sourceMapData=t,e}}function u(e,t,r){var n=i(t);try{return String(e(n))}catch(e){throw e.sourceMapData=r,e}}function h(e,t,r,n){var o;try{o=m(e,t)}catch(e){return c(n,e)}if(!o||o.map)return c(n,null,o);r(i(o.url),(function(e,t){if(e)return e.sourceMapData=o,n(e);o.map=String(t);try{o.map=l(o.map,o)}catch(e){return n(e)}n(null,o)}))}function p(e,t,r){var n=m(e,t);return!n||n.map||(n.map=u(r,n.url,n),n.map=l(n.map,n)),n}var d=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,g=/^(?:application|text)\/json$/;function f(e){if("undefined"==typeof TextDecoder||"undefined"==typeof Uint8Array)return a(e);var t=function(e){for(var t=a(e),r=t.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=t.charCodeAt(o);return n}(e);return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function m(e,t){t=s(t);var r=n.getFrom(e);if(!r)return null;var i=r.match(d);if(i){var a=i[1]||"text/plain",c=i[2]||"",u=i[3]||"",h={sourceMappingURL:r,url:null,sourcesRelativeTo:t,map:u};if(!g.test(a)){var p=new Error("Unuseful data uri mime type: "+a);throw p.sourceMapData=h,p}try{h.map=l(";base64"===c?f(u):decodeURIComponent(u),h)}catch(p){throw p.sourceMapData=h,p}return h}var m=o(t,r);return{sourceMappingURL:r,url:m,sourcesRelativeTo:m,map:null}}function v(e,t,r,n,o){"function"==typeof n&&(o=n,n={});var s=e.sources?e.sources.length:0,a={sourcesResolved:[],sourcesContent:[]};if(0!==s){var l=function(){0===--s&&o(null,a)};_(e,t,n,(function(e,t,n){if(a.sourcesResolved[n]=e,"string"==typeof t)a.sourcesContent[n]=t,c(l,null);else{var o=i(e);r(o,(function(e,t){a.sourcesContent[n]=e||String(t),l()}))}}))}else c(o,null,a)}function y(e,t,r,n){var o={sourcesResolved:[],sourcesContent:[]};return e.sources&&0!==e.sources.length?(_(e,t,n,(function(e,t,n){if(o.sourcesResolved[n]=e,null!==r)if("string"==typeof t)o.sourcesContent[n]=t;else{var s=i(e);try{o.sourcesContent[n]=String(r(s))}catch(e){o.sourcesContent[n]=e}}})),o):o}var E=/\/?$/;function _(e,t,r,n){var i;r=r||{},t=s(t);for(var a=0,c=e.sources.length;a<c;a++)i=null,"string"==typeof r.sourceRoot?i=r.sourceRoot:"string"==typeof e.sourceRoot&&!1!==r.sourceRoot&&(i=e.sourceRoot),n(null===i||""===i?o(t,e.sources[a]):o(t,i.replace(E,"/"),e.sources[a]),(e.sourcesContent||[])[a],a)}e.exports={resolveSourceMap:h,resolveSourceMapSync:p,resolveSources:v,resolveSourcesSync:y,resolve:function(e,t,r,n,o){if("function"==typeof n&&(o=n,n={}),null===e){var s={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null},a=i(t);r(a,(function(e,t){if(e)return e.sourceMapData=s,o(e);s.map=String(t);try{s.map=l(s.map,s)}catch(e){return o(e)}c(s)}))}else h(e,t,r,(function(e,t){return e?o(e):t?void c(t):o(null,null)}));function c(e){v(e.map,e.sourcesRelativeTo,r,n,(function(t,r){if(t)return o(t);e.sourcesResolved=r.sourcesResolved,e.sourcesContent=r.sourcesContent,o(null,e)}))}},resolveSync:function(e,t,r,n){var o;if(null===e){(o={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null}).map=u(r,t,o),o.map=l(o.map,o)}else if(!(o=p(e,t,r)))return null;var i=y(o.map,o.sourcesRelativeTo,r,n);return o.sourcesResolved=i.sourcesResolved,o.sourcesContent=i.sourcesContent,o},parseMapToJSON:l}},function(e,t,r){var n,o;void 0===(o="function"==typeof(n=function(){var e=/[#@] sourceMappingURL=([^\s'"]*)/,t=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+e.source+")\\s*\\*/|//(?:"+e.source+"))\\s*");return{regex:t,_innerRegex:e,getFrom:function(e){var r=e.match(t);return r?r[1]||r[2]||"":null},existsIn:function(e){return t.test(e)},removeFrom:function(e){return e.replace(t,"")},insertBefore:function(e,r){var n=e.match(t);return n?e.slice(0,n.index)+r+e.slice(n.index):e+r}}})?n.call(t,r,t,e):n)||(e.exports=o)},function(e,t,r){var n=r(11);e.exports=function(){return Array.prototype.reduce.call(arguments,(function(e,t){return n.resolve(e,t)}))}},function(e,t,r){var n=r(219);e.exports=function(e){return n(e.replace(/\+/g,"%2B"))}},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function s(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=s(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),a=0;a<i.length;a++){var c=i[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,r){var n=r(0);e.exports=function(e){return"\\"===n.sep?e.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):e}},function(e,t,r){"use strict";function n(e){return Buffer.from(e,"base64").toString("binary")}e.exports=n.atob=n},function(e,t,r){WebInspector=r(223),SourceMap=r(224),e.exports=function(e){var t=new WebInspector.SourceMap(e.file,e),r=new SourceMap.SourceMapGenerator;return r._file=e.file,t.sources().forEach((function(e){var n=t.sourceContent(e);r.setSourceContent(e,n)})),t._mappings.forEach((function(e){if(!(e.length<5)){var t={source:e[2],original:{line:e[3]+1,column:e[4]},generated:{line:e[0]+1,column:e[1]}};r.addMapping(t)}})),r.toJSON()}},function(e,t,r){(function(e){function t(){this.version,this.file,this.sources,this.sections,this.mappings,this.sourceRoot}WebInspector={},e&&e.exports&&(e.exports=WebInspector),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(e,t){return t=t||0,this.lastIndexOf(e,t)===t}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var r=this.toString();(void 0===t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}}),WebInspector.ParsedURL=function(e){this.isValid=!1,this.url=e,this.scheme="",this.host="",this.port="",this.path="",this.queryParams="",this.fragment="",this.folderPathComponents="",this.lastPathComponent="";var t=e.match(/^([A-Za-z][A-Za-z0-9+.-]*):\/\/([^\s\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i);if(t)this.isValid=!0,this.scheme=t[1].toLowerCase(),this.host=t[2],this.port=t[3],this.path=t[4]||"/",this.fragment=t[5];else{if(this.url.startsWith("data:"))return void(this.scheme="data");if("about:blank"===this.url)return void(this.scheme="about");this.path=this.url}var r=this.path,n=r.indexOf("?");-1!==n&&(this.queryParams=r.substring(n+1),r=r.substring(0,n));var o=r.lastIndexOf("/");-1!==o?(this.folderPathComponents=r.substring(0,o),this.lastPathComponent=r.substring(o+1)):this.lastPathComponent=r},WebInspector.ParsedURL._decodeIfPossible=function(e){var t=e;try{t=decodeURI(e)}catch(e){}return t},WebInspector.ParsedURL.splitURLIntoPathComponents=function(e){var t,r,n,o=WebInspector.ParsedURL._decodeIfPossible(e),i=new WebInspector.ParsedURL(o);i.isValid?(t=i.scheme+"://"+i.host,i.port&&(t+=":"+i.port),r=i.folderPathComponents,n=i.lastPathComponent,i.queryParams&&(n+="?"+i.queryParams)):(t="",r="",n=e);for(var s=[t],a=r.split("/"),c=1;c<a.length;++c)a[c]&&s.push(a[c]);return s.push(n),s},WebInspector.ParsedURL.completeURL=function(e,t){if(!t)return e;var r=t.trim();if(r.startsWith("data:")||r.startsWith("blob:")||r.startsWith("javascript:"))return t;var n=r.asParsedURL();if(n&&n.scheme)return r;var o=e.asParsedURL();if(o){if(o.isDataURL())return t;var i=t,s=i.indexOf("?"),a="";if(-1!==s)a=i.substring(s),i=i.substring(0,s);else{var c=i.indexOf("#");-1!==c&&(a=i.substring(c),i=i.substring(0,c))}if(!i){var l=o.path;if("?"===a.charAt(0)){var u=o.path.indexOf("?");-1!==u&&(l=l.substring(0,u))}return o.scheme+"://"+o.host+(o.port?":"+o.port:"")+l+a}if("/"!==i.charAt(0)){var h=o.path,p=h.indexOf("?");-1!==p&&(h=h.substring(0,p)),i=(h=h.substring(0,h.lastIndexOf("/"))+"/")+i}else if(i.length>1&&"/"===i.charAt(1))return o.scheme+":"+i+a;return o.scheme+"://"+o.host+(o.port?":"+o.port:"")+normalizePath(i)+a}return null},WebInspector.ParsedURL.prototype={get displayName(){return this._displayName?this._displayName:this.isDataURL()?this.dataURLDisplayName():this.isAboutBlank()?this.url:(this._displayName=this.lastPathComponent,this._displayName||(this._displayName=(this.host||"")+"/"),"/"===this._displayName&&(this._displayName=this.url),this._displayName)},dataURLDisplayName:function(){return this._dataURLDisplayName?this._dataURLDisplayName:this.isDataURL()?(this._dataURLDisplayName=this.url.trimEnd(20),this._dataURLDisplayName):""},isAboutBlank:function(){return"about:blank"===this.url},isDataURL:function(){return"data"===this.scheme}},WebInspector.ParsedURL.splitLineAndColumn=function(e){var t,r,n=/:(\d+)(:(\d+))?$/.exec(e);return n?(t=parseInt(n[1],10),t=isNaN(t)?void 0:t-1,"string"==typeof n[3]&&(r=parseInt(n[3],10),r=isNaN(r)?void 0:r-1),{url:e.substring(0,e.length-n[0].length),lineNumber:t,columnNumber:r}):null},String.prototype.asParsedURL=function(){var e=new WebInspector.ParsedURL(this.toString());return e.isValid?e:null},t.Section=function(){this.map,this.offset},t.Offset=function(){this.line,this.column},WebInspector.SourceMap=function(e,t){if(!WebInspector.SourceMap.prototype._base64Map){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";WebInspector.SourceMap.prototype._base64Map={};for(var r=0;r<e.length;++r)WebInspector.SourceMap.prototype._base64Map[e.charAt(r)]=r}this._sourceMappingURL=e,this._reverseMappingsBySourceURL={},this._mappings=[],this._sources={},this._sourceContentByURL={},this._parseMappingPayload(t)},WebInspector.SourceMap.load=function(e,t,r){var n=WebInspector.resourceTreeModel;function o(){NetworkAgent.loadResourceForFrontend(n.mainFrame.id,e,{},i)}function i(n,o,i,s){if(n||!s||o>=400)r(null);else{")]}"===s.slice(0,3)&&(s=s.substring(s.indexOf("\n")));try{var a=JSON.parse(s),c=e.startsWith("data:")?t:e;r(new WebInspector.SourceMap(c,a))}catch(e){console.error(e.message),r(null)}}}n.cachedResourcesLoaded()?o():n.addEventListener(WebInspector.ResourceTreeModel.EventTypes.CachedResourcesLoaded,(function e(){n.removeEventListener(WebInspector.ResourceTreeModel.EventTypes.CachedResourcesLoaded,e),o()}))},WebInspector.SourceMap.prototype={url:function(){return this._sourceMappingURL},sources:function(){return Object.keys(this._sources)},sourceContent:function(e){return this._sourceContentByURL[e]},sourceContentProvider:function(e,t){var r=this.sourceContent(e);return r?new WebInspector.StaticContentProvider(t,r):new WebInspector.CompilerSourceMappingContentProvider(e,t)},_parseMappingPayload:function(e){e.sections?this._parseSections(e.sections):this._parseMap(e,0,0)},_parseSections:function(e){for(var t=0;t<e.length;++t){var r=e[t];this._parseMap(r.map,r.offset.line,r.offset.column)}},findEntry:function(e,t){for(var r=0,n=this._mappings.length;n>1;){var o=n>>1,i=r+o,s=this._mappings[i];e<s[0]||e===s[0]&&t<s[1]?n=o:(r=i,n-=o)}var a=this._mappings[r];return!r&&a&&(e<a[0]||e===a[0]&&t<a[1])?null:a},findEntryReversed:function(e,t,r){for(var n=this._reverseMappingsBySourceURL[e],o="number"==typeof r?Math.min(t+r+1,n.length):n.length;t<o;++t){var i=n[t];if(i)return i}return null},_parseMap:function(e,t,r){for(var n=0,o=0,i=0,s=[],a={},c=0;c<e.sources.length;++c){var l=e.sources[c],u=e.sourceRoot||"";u&&!u.endsWith("/")&&(u+="/");var h=u+l,p=WebInspector.ParsedURL.completeURL(this._sourceMappingURL,h)||h;a[l]=p,s.push(p),this._sources[p]=!0,e.sourcesContent&&e.sourcesContent[c]&&(this._sourceContentByURL[p]=e.sourcesContent[c])}for(var d=new WebInspector.SourceMap.StringCharIterator(e.mappings),g=s[n];;){if(","===d.peek())d.next();else{for(;";"===d.peek();)t+=1,r=0,d.next();if(!d.hasNext())break}if(r+=this._decodeVLQ(d),d.hasNext()&&!this._isSeparator(d.peek())){var f=this._decodeVLQ(d);f&&(g=s[n+=f]),o+=this._decodeVLQ(d),i+=this._decodeVLQ(d),this._isSeparator(d.peek())||this._decodeVLQ(d),this._mappings.push([t,r,g,o,i])}else this._mappings.push([t,r])}for(c=0;c<this._mappings.length;++c){var m=this._mappings[c];if(p=m[2]){this._reverseMappingsBySourceURL[p]||(this._reverseMappingsBySourceURL[p]=[]);var v=this._reverseMappingsBySourceURL[p],y=m[3];v[y]||(v[y]=[m[0],m[1]])}}},_isSeparator:function(e){return","===e||";"===e},_decodeVLQ:function(e){var t=0,r=0;do{var n=this._base64Map[e.next()];t+=(n&this._VLQ_BASE_MASK)<<r,r+=this._VLQ_BASE_SHIFT}while(n&this._VLQ_CONTINUATION_MASK);var o=1&t;return t>>=1,o?-t:t},_VLQ_BASE_SHIFT:5,_VLQ_BASE_MASK:31,_VLQ_CONTINUATION_MASK:32},WebInspector.SourceMap.StringCharIterator=function(e){this._string=e,this._position=0},WebInspector.SourceMap.StringCharIterator.prototype={next:function(){return this._string.charAt(this._position++)},peek:function(){return this._string.charAt(this._position)},hasNext:function(){return this._position<this._string.length}}}).call(this,r(45)(e))},function(e,t,r){t.SourceMapGenerator=r(225).SourceMapGenerator,t.SourceMapConsumer=r(226).SourceMapConsumer,t.SourceNode=r(227).SourceNode},function(e,t,r){(function(e){if("function"!=typeof t)var t=r(65)(e,r(66));t((function(e,t,r){var n=e("./base64-vlq"),o=e("./util"),i=e("./array-set").ArraySet,s=e("./mapping-list").MappingList;function a(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=o.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&r.setSourceContent(t,n)})),r},a.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),r=o.getArg(e,"original",null),n=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null==n||this._sources.has(n)||this._sources.add(n),null==i||this._names.has(i)||this._names.add(i),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},a.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=o.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[o.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var s=this._sourceRoot;null!=s&&(n=o.relative(s,n));var a=new i,c=new i;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=r&&(t.source=o.join(r,t.source)),null!=s&&(t.source=o.relative(s,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var l=t.source;null==l||a.has(l)||a.add(l);var u=t.name;null==u||c.has(u)||c.add(u)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=o.join(r,t)),null!=s&&(t=o.relative(s,t)),this.setSourceContent(t,n))}),this)},a.prototype._validateMapping=function(e,t,r,n){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},a.prototype._serializeMappings=function(){for(var e,t=0,r=1,i=0,s=0,a=0,c=0,l="",u=this._mappings.toArray(),h=0,p=u.length;h<p;h++){if((e=u[h]).generatedLine!==r)for(t=0;e.generatedLine!==r;)l+=";",r++;else if(h>0){if(!o.compareByGeneratedPositions(e,u[h-1]))continue;l+=","}l+=n.encode(e.generatedColumn-t),t=e.generatedColumn,null!=e.source&&(l+=n.encode(this._sources.indexOf(e.source)-c),c=this._sources.indexOf(e.source),l+=n.encode(e.originalLine-1-s),s=e.originalLine-1,l+=n.encode(e.originalColumn-i),i=e.originalColumn,null!=e.name&&(l+=n.encode(this._names.indexOf(e.name)-a),a=this._names.indexOf(e.name)))}return l},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var r=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=a}))}).call(this,r(45)(e))},function(e,t,r){(function(e){if("function"!=typeof t)var t=r(65)(e,r(66));t((function(e,t,r){var n=e("./util"),o=e("./binary-search"),i=e("./array-set").ArraySet,s=e("./base64-vlq");function a(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=n.getArg(t,"version"),o=n.getArg(t,"sources"),s=n.getArg(t,"names",[]),a=n.getArg(t,"sourceRoot",null),c=n.getArg(t,"sourcesContent",null),l=n.getArg(t,"mappings"),u=n.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);o=o.map(n.normalize),this._names=i.fromArray(s,!0),this._sources=i.fromArray(o,!0),this.sourceRoot=a,this.sourcesContent=c,this._mappings=l,this.file=u}a.fromSourceMap=function(e){var t=Object.create(a.prototype);return t._names=i.fromArray(e._names.toArray(),!0),t._sources=i.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.toArray().slice(),t.__originalMappings=e._mappings.toArray().slice().sort(n.compareByOriginalPositions),t},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?n.join(this.sourceRoot,e):e}),this)}}),a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),a.prototype._nextCharIsMappingSeparator=function(e){var t=e.charAt(0);return";"===t||","===t},a.prototype._parseMappings=function(e,t){for(var r,o=1,i=0,a=0,c=0,l=0,u=0,h=e,p={};h.length>0;)if(";"===h.charAt(0))o++,h=h.slice(1),i=0;else if(","===h.charAt(0))h=h.slice(1);else{if((r={}).generatedLine=o,s.decode(h,p),r.generatedColumn=i+p.value,i=r.generatedColumn,(h=p.rest).length>0&&!this._nextCharIsMappingSeparator(h)){if(s.decode(h,p),r.source=this._sources.at(l+p.value),l+=p.value,0===(h=p.rest).length||this._nextCharIsMappingSeparator(h))throw new Error("Found a source, but no line and column");if(s.decode(h,p),r.originalLine=a+p.value,a=r.originalLine,r.originalLine+=1,0===(h=p.rest).length||this._nextCharIsMappingSeparator(h))throw new Error("Found a source and line, but no column");s.decode(h,p),r.originalColumn=c+p.value,c=r.originalColumn,(h=p.rest).length>0&&!this._nextCharIsMappingSeparator(h)&&(s.decode(h,p),r.name=this._names.at(u+p.value),u+=p.value,h=p.rest)}this.__generatedMappings.push(r),"number"==typeof r.originalLine&&this.__originalMappings.push(r)}this.__generatedMappings.sort(n.compareByGeneratedPositions),this.__originalMappings.sort(n.compareByOriginalPositions)},a.prototype._findMapping=function(e,t,r,n,i){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return o.search(e,t,i)},a.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositions);if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===t.generatedLine){var i=n.getArg(o,"source",null);return null!=i&&null!=this.sourceRoot&&(i=n.join(this.sourceRoot,i)),{source:i,line:n.getArg(o,"originalLine",null),column:n.getArg(o,"originalColumn",null),name:n.getArg(o,"name",null)}}}return{source:null,line:null,column:null,name:null}},a.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=n.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(null!=this.sourceRoot&&(t=n.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){var t={source:n.getArg(e,"source"),originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")};null!=this.sourceRoot&&(t.source=n.relative(this.sourceRoot,t.source));var r=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions);if(r>=0){var o=this._originalMappings[r];return{line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},a.prototype.allGeneratedPositionsFor=function(e){var t={source:n.getArg(e,"source"),originalLine:n.getArg(e,"line"),originalColumn:1/0};null!=this.sourceRoot&&(t.source=n.relative(this.sourceRoot,t.source));var r=[],o=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions);if(o>=0)for(var i=this._originalMappings[o];i&&i.originalLine===t.originalLine;)r.push({line:n.getArg(i,"generatedLine",null),column:n.getArg(i,"generatedColumn",null),lastColumn:n.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[--o];return r.reverse()},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.prototype.eachMapping=function(e,t,r){var o,i=t||null;switch(r||a.GENERATED_ORDER){case a.GENERATED_ORDER:o=this._generatedMappings;break;case a.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map((function(e){var t=e.source;return null!=t&&null!=s&&(t=n.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}})).forEach(e,i)},t.SourceMapConsumer=a}))}).call(this,r(45)(e))},function(e,t,r){(function(e){if("function"!=typeof t)var t=r(65)(e,r(66));t((function(e,t,r){var n=e("./source-map-generator").SourceMapGenerator,o=e("./util"),i=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,r,n,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==o?null:o,this[s]=!0,null!=n&&this.add(n)}a.fromStringWithSourceMap=function(e,t,r){var n=new a,s=e.split(i),c=function(){return s.shift()+(s.shift()||"")},l=1,u=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(l<e.generatedLine)){t=(r=s[0]).substr(0,e.generatedColumn-u);return s[0]=r.substr(e.generatedColumn-u),u=e.generatedColumn,p(h,t),void(h=e)}var t="";p(h,c()),l++,u=0}for(;l<e.generatedLine;)n.add(c()),l++;if(u<e.generatedColumn){var r=s[0];n.add(r.substr(0,e.generatedColumn)),s[0]=r.substr(e.generatedColumn),u=e.generatedColumn}h=e}),this),s.length>0&&(h&&p(h,c()),n.add(s.join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=r&&(e=o.join(r,e)),n.setSourceContent(e,i))})),n;function p(e,t){if(null===e||void 0===e.source)n.add(t);else{var i=r?o.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,i,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(o.fromSetString(n[t]),this.sourceContents[n[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),o=!1,i=null,s=null,a=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(i===n.source&&s===n.line&&a===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),i=n.source,s=n.line,a=n.column,c=n.name,o=!0):o&&(r.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var l=0,u=e.length;l<u;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===u?(i=null,o=!1):o&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},t.SourceNode=a}))}).call(this,r(45)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RnCDPMessageHandler=void 0;const n=r(67),o=r(68);class i extends o.BaseCDPMessageHandler{constructor(){super(),this.firstStop=!0}processDebuggerCDPMessage(e){return e.method===n.CDP_API_NAMES.CLOSE&&this.handleDebuggerDisconnect(),{event:e,sendBack:!1}}processApplicationCDPMessage(e){return e.method===n.CDP_API_NAMES.DEBUGGER_PAUSED&&this.firstStop&&(e.params=this.handleAppBundleFirstPauseEvent(e)),{event:e,sendBack:!1}}handleAppBundleFirstPauseEvent(e){let t=e.params;return t.reason&&"other"===t.reason&&(this.firstStop=!1,t.reason="Break on start"),t}handleDebuggerDisconnect(){this.firstStop=!0}}t.RnCDPMessageHandler=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DirectDebugSession=void 0;const o=r(6),i=r(9),s=r(25),a=r(7),c=r(230),l=r(60),u=r(113),h=r(107),p=r(3),d=r(2),g=r(1),f=r(231),m=r(5),v=r(58);g.config({messageFormat:g.MessageFormat.bundle,bundleFormat:g.BundleFormat.standalone})(r(0).join(__dirname,"src\\debugger\\direct\\directDebugSession.ts"));const y=g.loadMessageBundle(r(0).join(__dirname,"src\\debugger\\direct\\directDebugSession.ts"));class E extends l.DebugSessionBase{constructor(e){super(e),this.debuggerEndpointHelper=new h.DebuggerEndpointHelper,this.iOSWKDebugProxyHelper=new v.IWDPHelper,this.onDidTerminateDebugSessionHandler=o.debug.onDidTerminateDebugSession(this.handleTerminateDebugSession.bind(this))}launchRequest(e,t,r){return n(this,void 0,void 0,(function*(){let r={platform:{value:t.platform,isPii:!1},isDirect:{value:!0,isPii:!1}};return new Promise((n,o)=>this.initializeSettings(t).then(()=>(s.logger.log("Launching the application"),s.logger.verbose("Launching the application: "+JSON.stringify(t,null,2)),i.ProjectVersionHelper.getReactNativeVersions(t.cwd,i.ProjectVersionHelper.generateAdditionalPackagesToCheckByPlatform(t)))).then(i=>(r=a.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(t,i,r),a.TelemetryHelper.generate("launch",r,r=>this.appLauncher.launch(t).then(()=>{t.enableDebug?(t.port=t.port||this.appLauncher.getPackagerPort(t.cwd),this.attachRequest(e,t).then(()=>{n()}).catch(e=>o(e))):(this.sendResponse(e),n())})))).catch(e=>{o(p.ErrorHelper.getInternalError(d.InternalErrorCode.ApplicationLaunchFailed,e.message||e))})).catch(t=>this.showError(t,e))}))}attachRequest(e,t,r){return n(this,void 0,void 0,(function*(){let r={platform:{value:t.platform,isPii:!1},isDirect:{value:!0,isPii:!1}};return t.webkitRangeMin=t.webkitRangeMin||9223,t.webkitRangeMax=t.webkitRangeMax||9322,this.previousAttachArgs=t,new Promise((e,n)=>this.initializeSettings(t).then(()=>(s.logger.log("Attaching to the application"),s.logger.verbose("Attaching to the application: "+JSON.stringify(t,null,2)),i.ProjectVersionHelper.getReactNativeVersions(t.cwd,i.ProjectVersionHelper.generateAdditionalPackagesToCheckByPlatform(t)))).then(o=>(r=a.TelemetryHelper.addPlatformPropertiesToTelemetryProperties(t,o,r),a.TelemetryHelper.generate("attach",r,r=>(t.port=t.platform===m.PlatformType.iOS?t.port||v.IWDPHelper.iOS_WEBKIT_DEBUG_PROXY_DEFAULT_PORT:t.port||this.appLauncher.getPackagerPort(t.cwd),s.logger.log(`Connecting to ${t.port} port`),this.appLauncher.getRnCdpProxy().stopServer().then(()=>this.appLauncher.getRnCdpProxy().initializeServer(t.platform===m.PlatformType.iOS?new f.IOSDirectCDPMessageHandler:new c.HermesCDPMessageHandler,this.cdpProxyLogLevel)).then(()=>t.platform===m.PlatformType.iOS?this.iOSWKDebugProxyHelper.startiOSWebkitDebugProxy(t.port,t.webkitRangeMin,t.webkitRangeMax).then(()=>this.iOSWKDebugProxyHelper.getSimulatorProxyPort(t)).then(e=>{t.port=e.targetPort}):Promise.resolve()).then(()=>this.appLauncher.getPackager().start()).then(()=>this.debuggerEndpointHelper.retryGetWSEndpoint("http://localhost:"+t.port,90,this.cancellationTokenSource.token)).then(r=>{this.appLauncher.getRnCdpProxy().setBrowserInspectUri(r),this.establishDebugSession(t,e)}).catch(e=>n(e)))))).catch(e=>{n(p.ErrorHelper.getInternalError(d.InternalErrorCode.CouldNotAttachToDebugger,e.message||e))})).catch(t=>this.showError(t,e))}))}disconnectRequest(e,t,r){const o=Object.create(null,{disconnectRequest:{get:()=>super.disconnectRequest}});return n(this,void 0,void 0,(function*(){this.iOSWKDebugProxyHelper.cleanUp(),this.onDidTerminateDebugSessionHandler.dispose(),o.disconnectRequest.call(this,e,t,r)}))}establishDebugSession(e,t){const r=u.JsDebugConfigAdapter.createDebuggingConfigForRNHermes(e,this.appLauncher.getCdpProxyPort(),this.session.id);o.debug.startDebugging(this.appLauncher.getWorkspaceFolder(),r,{parentSession:this.session,consoleMode:o.DebugConsoleMode.MergeWithParent}).then(e=>{if(!e)throw new Error(y(0,null));t&&t()},e=>{throw e})}handleTerminateDebugSession(e){e.configuration.rnDebugSessionId===this.session.id&&e.type===this.pwaNodeSessionName&&o.commands.executeCommand(this.stopCommand,this.session)}}t.DirectDebugSession=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HermesCDPMessageHandler=void 0;const n=r(67),o=r(68);class i extends o.BaseCDPMessageHandler{constructor(){super(...arguments),this.HERMES_NATIVE_FUNCTION_NAME="(native)",this.HERMES_NATIVE_FUNCTION_SCRIPT_ID="4294967295",this.ARRAY_REQUEST_PHRASE_MARKER="Object.getOwnPropertyDescriptor"}processDebuggerCDPMessage(e){let t=!1;return e.method===n.CDP_API_NAMES.DEBUGGER_SET_BREAKPOINT?e=this.handleBreakpointSetting(e):e.method===n.CDP_API_NAMES.RUNTIME_CALL_FUNCTION_ON&&e.params.functionDeclaration.includes(this.ARRAY_REQUEST_PHRASE_MARKER)&&(e=this.handleCallFunctionOnEvent(e),t=!0),{event:e,sendBack:t}}processApplicationCDPMessage(e){return e.method===n.CDP_API_NAMES.DEBUGGER_PAUSED?e=this.handlePausedEvent(e):e.result&&e.result.result&&(e=this.handleFunctionTypeResult(e)),{event:e,sendBack:!1}}handleCallFunctionOnEvent(e){return{result:{result:{objectId:e.params.objectId}},id:e.id}}handleFunctionTypeResult(e){if(Array.isArray(e.result.result)){let t=e.result.result;t.forEach(e=>{e.value&&"function"===e.value.type&&!e.value.description&&(e.value.description="function() { … }")}),e.result.result=t}return e}handlePausedEvent(e){let t=e.params.callFrames;return t=t.filter(e=>e.functionName!==this.HERMES_NATIVE_FUNCTION_NAME&&e.location.scriptId!==this.HERMES_NATIVE_FUNCTION_SCRIPT_ID),e.params.callFrames=t,e}handleBreakpointSetting(e){return e.params&&delete e.params.location.columnNumber,e}}t.HermesCDPMessageHandler=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IOSDirectCDPMessageHandler=void 0;const n=r(68),o=r(67);class i extends n.BaseCDPMessageHandler{constructor(){super(),this.isBackcompatConfigured=!1}processDebuggerCDPMessage(e){return this.isBackcompatConfigured||e.method!==o.CDP_API_NAMES.RUNTIME_ENABLE||this.configureTargetForIWDPCommunication(),{event:e,sendBack:!1}}processApplicationCDPMessage(e){return e.method===o.CDP_API_NAMES.CONSOLE_MESSAGE_ADDED&&(e=this.processDeprecatedConsoleMessage(e)),e.result&&e.result.properties&&(e.result={result:e.result.properties}),{event:e,sendBack:!1}}processDeprecatedConsoleMessage(e){return{method:o.CDP_API_NAMES.RUNTIME_CONSOLE_API_CALLED,params:{type:e.params.message.type,timestamp:e.params.message.timestamp,args:e.params.message.parameters||[{type:"string",value:e.params.message.text}],stackTrace:{callFrames:e.params.message.stack||e.params.message.stackTrace},executionContextId:1}}}configureTargetForIWDPCommunication(){var e,t;this.isBackcompatConfigured=!0;try{null===(e=this.applicationTarget)||void 0===e||e.api.Console.enable({}),null===(t=this.applicationTarget)||void 0===t||t.api.Debugger.setBreakpointsActive({active:!0})}catch(e){}}}t.IOSDirectCDPMessageHandler=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionConfigManager=void 0;const n=r(233);class o{}t.ExtensionConfigManager=o,o.configName="reactNativeToolsConfig",o.config=new n(o.configName)},function(e,t,r){"use strict";const n=r(0),o=r(16),i=r(234),s=r(239),a=r(240),c=r(241),l=r(246),u=r(248),h=a.config||n.join(o.tmpdir(),u()),p={mode:448},d={mode:384};e.exports=class{constructor(e,t,r={}){const o=r.globalConfigPath?n.join(e,"config.json"):n.join("configstore",e+".json");this.path=r.configPath||n.join(h,o),t&&(this.all={...t,...this.all})}get all(){try{return JSON.parse(i.readFileSync(this.path,"utf8"))}catch(e){if("ENOENT"===e.code)return{};if("EACCES"===e.code&&(e.message=e.message+"\nYou don't have access to this file.\n"),"SyntaxError"===e.name)return c.sync(this.path,"",d),{};throw e}}set all(e){try{s.sync(n.dirname(this.path),p),c.sync(this.path,JSON.stringify(e,void 0,"\t"),d)}catch(e){throw"EACCES"===e.code&&(e.message=e.message+"\nYou don't have access to this file.\n"),e}}get size(){return Object.keys(this.all||{}).length}get(e){return l.get(this.all,e)}set(e,t){const r=this.all;if(1===arguments.length)for(const t of Object.keys(e))l.set(r,t,e[t]);else l.set(r,e,t);this.all=r}has(e){return l.has(this.all,e)}delete(e){const t=this.all;l.delete(t,e),this.all=t}clear(){this.all={}}}},function(e,t,r){var n,o,i=r(4),s=r(235),a=r(237),c=r(238),l=r(14);function u(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",o="___graceful-fs.previous");var h=function(){};if(l.debuglog?h=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!i[n]){var p=global[n]||[];u(i,p),i.close=function(e){function t(t,r){return e.call(i,t,(function(e){e||f(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,o,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),f()}return Object.defineProperty(t,o,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(i[n]),r(41).equal(i[n].length,0)}))}function d(e){s(e),e.gracefulify=d,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){"function"==typeof r&&(n=r,r=null);return function e(r,n,o){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof o&&o.apply(this,arguments),f()):g([e,[r,n,o]])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){"function"==typeof n&&(o=n,n=null);return function e(t,n,o,i){return r(t,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof i&&i.apply(this,arguments),f()):g([e,[t,n,o,i]])}))}(e,t,n,o)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,o){"function"==typeof r&&(o=r,r=null);return function e(t,r,o,i){return n(t,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof i&&i.apply(this,arguments),f()):g([e,[t,r,o,i]])}))}(e,t,r,o)});var o=e.readdir;function i(t){return o.apply(e,t)}if(e.readdir=function(e,t,r){var n=[e];"function"!=typeof t?n.push(t):r=t;return n.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof r&&r.apply(this,arguments),f()):g([i,[n]])})),i(n)},"v0.8"===process.version.substr(0,4)){var c=a(e);m=c.ReadStream,v=c.WriteStream}var l=e.ReadStream;l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var e=this;E(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var u=e.WriteStream;u&&(v.prototype=Object.create(u.prototype),v.prototype.open=function(){var e=this;E(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return v},set:function(e){v=e},enumerable:!0,configurable:!0});var h=m;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=v;function m(e,t){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function v(e,t){return this instanceof v?(u.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var y=e.open;function E(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,o){return y(t,r,n,(function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),f()):g([e,[t,r,n,o]])}))}(e,t,r,n)}return e.open=E,e}function g(e){h("ENQUEUE",e[0].name,e[1]),i[n].push(e)}function f(){var e=i[n].shift();e&&(h("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}global[n]||u(global,i[n]),e.exports=d(c(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=d(i),i.__patched=!0)},function(e,t,r){var n=r(236),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){i=null,a.call(process,e)},e.exports=function(e){n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,o){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?o&&o(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){o&&o(t||e)}))}))}))},e.lchmodSync=function(t,r){var o,i=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{o=e.fchmodSync(i,r),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}}(e);e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,r,o,i){e.open(t,n.O_SYMLINK,(function(t,n){t?i&&i(t):e.futimes(n,r,o,(function(t){e.close(n,(function(e){i&&i(t||e)}))}))}))},e.lutimesSync=function(t,r,o){var i,s=e.openSync(t,n.O_SYMLINK),a=!0;try{i=e.futimesSync(s,r,o),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}):(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e);e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=o(e.chmodSync),e.fchmodSync=o(e.fchmodSync),e.lchmodSync=o(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){});"win32"===s&&(e.rename=(t=e.rename,function(r,n,o){var i=Date.now(),s=0;t(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-i<6e4)return setTimeout((function(){e.stat(n,(function(e,i){e&&"ENOENT"===e.code?t(r,n,a):o(c)}))}),s),void(s<100&&(s+=10));o&&o(c)}))}));var t;function r(t){return t?function(r,n,o){return t.call(e,r,n,(function(e){u(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function o(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!u(e))throw e}}:t}function i(t){return t?function(r,n,o,i){return t.call(e,r,n,o,(function(e){u(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function a(t){return t?function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!u(e))throw e}}:t}function c(t){return t?function(r,n,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof n&&(o=n,n=null),n?t.call(e,r,n,i):t.call(e,r,i)}:t}function l(t){return t?function(r,n){var o=n?t.call(e,r,n):t.call(e,r);return o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296),o}:t}function u(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=function(t){function r(r,n,o,i,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,h,p){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,n,o,i,s,c);a.apply(this,arguments)}}return t.call(e,r,n,o,i,s,c)}return r.__proto__=t,r}(e.read),e.readSync=(h=e.readSync,function(t,r,n,o,i){for(var s=0;;)try{return h.call(e,t,r,n,o,i)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}});var h}},function(e,t){e.exports=require("constants")},function(e,t,r){var n=r(42).Stream;e.exports=function(e){return{ReadStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),a=0,c=s.length;a<c;a++){var l=s[a];this[l]=o[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){i._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()}))},WriteStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,a=i.length;s<a;s++){var c=i[s];this[c]=o[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,r){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})),t}},function(e,t,r){"use strict";const n=r(4),o=r(0),{promisify:i}=r(14),s=r(10).satisfies(process.version,">=10.12.0"),a=e=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(o.parse(e).root,""))){const t=new Error("Path contains invalid characters: "+e);throw t.code="EINVAL",t}}},c=e=>({...{mode:511,fs:n},...e}),l=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};e.exports=async(e,t)=>{a(e),t=c(t);const r=i(t.fs.mkdir),u=i(t.fs.stat);if(s&&t.fs.mkdir===n.mkdir){const n=o.resolve(e);return await r(n,{mode:t.mode,recursive:!0}),n}const h=async e=>{try{return await r(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(o.dirname(e)===e)throw l(e);if(t.message.includes("null bytes"))throw t;return await h(o.dirname(e)),h(e)}try{if(!(await u(e)).isDirectory())throw new Error("The path is not a directory")}catch(e){throw t}return e}};return h(o.resolve(e))},e.exports.sync=(e,t)=>{if(a(e),t=c(t),s&&t.fs.mkdirSync===n.mkdirSync){const r=o.resolve(e);return n.mkdirSync(r,{mode:t.mode,recursive:!0}),r}const r=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(n){if("EPERM"===n.code)throw n;if("ENOENT"===n.code){if(o.dirname(e)===e)throw l(e);if(n.message.includes("null bytes"))throw n;return r(o.dirname(e)),r(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw n}}return e};return r(o.resolve(e))}},function(e,t,r){"use strict";const n=r(16),o=r(0),i=n.homedir(),{env:s}=process;t.data=s.XDG_DATA_HOME||(i?o.join(i,".local","share"):void 0),t.config=s.XDG_CONFIG_HOME||(i?o.join(i,".config"):void 0),t.cache=s.XDG_CACHE_HOME||(i?o.join(i,".cache"):void 0),t.runtime=s.XDG_RUNTIME_DIR||void 0,t.dataDirs=(s.XDG_DATA_DIRS||"/usr/local/share/:/usr/share/").split(":"),t.data&&t.dataDirs.unshift(t.data),t.configDirs=(s.XDG_CONFIG_DIRS||"/etc/xdg").split(":"),t.config&&t.configDirs.unshift(t.config)},function(e,t,r){"use strict";e.exports=function(e,t,r,o){r instanceof Function&&(o=r,r={});const h=async function(e,t,r={}){"string"==typeof r&&(r={encoding:r});let o,h;const p=i(g(()=>h)),m=s.resolve(e);try{await function(e){return new Promise(t=>{u[e]||(u[e]=[]),u[e].push(t),1===u[e].length&&t()})}(m);const i=await l(n.realpath)(e).catch(()=>e);if(h=d(i),!r.mode||!r.chown){const e=await l(n.stat)(i).catch(()=>{});e&&(null==r.mode&&(r.mode=e.mode),null==r.chown&&process.getuid&&(r.chown={uid:e.uid,gid:e.gid}))}o=await l(n.open)(h,"w",r.mode),r.tmpfileCreated&&await r.tmpfileCreated(h),a(t)&&(t=c(t)),Buffer.isBuffer(t)?await l(n.write)(o,t,0,t.length,0):null!=t&&await l(n.write)(o,String(t),0,String(r.encoding||"utf8")),!1!==r.fsync&&await l(n.fsync)(o),await l(n.close)(o),o=null,r.chown&&await l(n.chown)(h,r.chown.uid,r.chown.gid).catch(e=>{if(!f(e))throw e}),r.mode&&await l(n.chmod)(h,r.mode).catch(e=>{if(!f(e))throw e}),await l(n.rename)(h,i)}finally{o&&await l(n.close)(o).catch(()=>{}),p(),await l(n.unlink)(h).catch(()=>{}),u[m].shift(),u[m].length>0?u[m][0]():delete u[m]}}(e,t,r);o&&h.then(o,o);return h},e.exports.sync=function(e,t,r){"string"==typeof r?r={encoding:r}:r||(r={});try{e=n.realpathSync(e)}catch(e){}const o=d(e);if(!r.mode||!r.chown)try{const t=n.statSync(e);(r=Object.assign({},r)).mode||(r.mode=t.mode),!r.chown&&process.getuid&&(r.chown={uid:t.uid,gid:t.gid})}catch(e){}let s;const l=g(o),u=i(l);let h=!0;try{if(s=n.openSync(o,"w",r.mode||438),r.tmpfileCreated&&r.tmpfileCreated(o),a(t)&&(t=c(t)),Buffer.isBuffer(t)?n.writeSync(s,t,0,t.length,0):null!=t&&n.writeSync(s,String(t),0,String(r.encoding||"utf8")),!1!==r.fsync&&n.fsyncSync(s),n.closeSync(s),s=null,r.chown)try{n.chownSync(o,r.chown.uid,r.chown.gid)}catch(e){if(!f(e))throw e}if(r.mode)try{n.chmodSync(o,r.mode)}catch(e){if(!f(e))throw e}n.renameSync(o,e),h=!1}finally{if(s)try{n.closeSync(s)}catch(e){}u(),h&&l()}},e.exports._getTmpname=d,e.exports._cleanupOnExit=g;const n=r(4),o=r(242),i=r(243),s=r(0),a=r(114),c=r(245),{promisify:l}=r(14),u={},h=function(){try{return r(!function(){var e=new Error("Cannot find module 'worker_threads'");throw e.code="MODULE_NOT_FOUND",e}()).threadId}catch(e){return 0}}();let p=0;function d(e){return e+"."+o(__filename).hash(String(process.pid)).hash(String(h)).hash(String(++p)).result()}function g(e){return()=>{try{n.unlinkSync("function"==typeof e?e():e)}catch(e){}}}function f(e){if("ENOSYS"===e.code)return!0;return!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}},function(e,t,r){
/**
 * @preserve
 * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
 *
 * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
 * @see http://github.com/homebrewing/brauhaus-diff
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 */
!function(){var t;function r(e,n){var o=this instanceof r?this:t;if(o.reset(n),"string"==typeof e&&e.length>0&&o.hash(e),o!==this)return o}r.prototype.hash=function(e){var t,r,n,o,i;switch(i=e.length,this.len+=i,r=this.k1,n=0,this.rem){case 0:r^=i>n?65535&e.charCodeAt(n++):0;case 1:r^=i>n?(65535&e.charCodeAt(n++))<<8:0;case 2:r^=i>n?(65535&e.charCodeAt(n++))<<16:0;case 3:r^=i>n?(255&e.charCodeAt(n))<<24:0,r^=i>n?(65280&e.charCodeAt(n++))>>8:0}if(this.rem=i+this.rem&3,(i-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=r=13715*(r=(r=11601*r+3432906752*(65535&r)&4294967295)<<15|r>>>17)+461832192*(65535&r)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(n>=i);)r=65535&e.charCodeAt(n++)^(65535&e.charCodeAt(n++))<<8^(65535&e.charCodeAt(n++))<<16,r^=(255&(o=e.charCodeAt(n++)))<<24^(65280&o)>>8;switch(r=0,this.rem){case 3:r^=(65535&e.charCodeAt(n+2))<<16;case 2:r^=(65535&e.charCodeAt(n+1))<<8;case 1:r^=65535&e.charCodeAt(n)}this.h1=t}return this.k1=r,this},r.prototype.result=function(){var e,t;return e=this.k1,t=this.h1,e>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},r.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new r,e.exports=r}()},function(e,t,r){var n,o=r(41),i=r(244),s=/^win/i.test(process.platform),a=r(23);function c(){h&&(h=!1,i.forEach((function(e){try{process.removeListener(e,u[e])}catch(e){}})),process.emit=f,process.reallyExit=d,n.count-=1)}function l(e,t,r){n.emitted[e]||(n.emitted[e]=!0,n.emit(e,t,r))}"function"!=typeof a&&(a=a.EventEmitter),process.__signal_exit_emitter__?n=process.__signal_exit_emitter__:((n=process.__signal_exit_emitter__=new a).count=0,n.emitted={}),n.infinite||(n.setMaxListeners(1/0),n.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===h&&p();var r="exit";t&&t.alwaysLast&&(r="afterexit");return n.on(r,e),function(){n.removeListener(r,e),0===n.listeners("exit").length&&0===n.listeners("afterexit").length&&c()}},e.exports.unload=c;var u={};i.forEach((function(e){u[e]=function(){process.listeners(e).length===n.count&&(c(),l("exit",null,e),l("afterexit",null,e),s&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),e.exports.signals=function(){return i},e.exports.load=p;var h=!1;function p(){h||(h=!0,n.count+=1,i=i.filter((function(e){try{return process.on(e,u[e]),!0}catch(e){return!1}})),process.emit=m,process.reallyExit=g)}var d=process.reallyExit;function g(e){process.exitCode=e||0,l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),d.call(process,process.exitCode)}var f=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=f.apply(this,arguments);return l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),r}return f.apply(this,arguments)}},function(e,t){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},function(e,t,r){var n=r(114).strict;e.exports=function(e){if(n(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return Buffer.from(e)}},function(e,t,r){"use strict";const n=r(247),o=["__proto__","prototype","constructor"];function i(e){const t=e.split("."),r=[];for(let e=0;e<t.length;e++){let n=t[e];for(;"\\"===n[n.length-1]&&void 0!==t[e+1];)n=n.slice(0,-1)+".",n+=t[++e];r.push(n)}return r.some(e=>o.includes(e))?[]:r}e.exports={get(e,t,r){if(!n(e)||"string"!=typeof t)return void 0===r?e:r;const o=i(t);if(0!==o.length){for(let t=0;t<o.length;t++){if(!Object.prototype.propertyIsEnumerable.call(e,o[t]))return r;if(null==(e=e[o[t]])){if(t!==o.length-1)return r;break}}return e}},set(e,t,r){if(!n(e)||"string"!=typeof t)return e;const o=e,s=i(t);for(let t=0;t<s.length;t++){const o=s[t];n(e[o])||(e[o]={}),t===s.length-1&&(e[o]=r),e=e[o]}return o},delete(e,t){if(!n(e)||"string"!=typeof t)return;const r=i(t);for(let t=0;t<r.length;t++){const o=r[t];if(t===r.length-1)return void delete e[o];if(e=e[o],!n(e))return}},has(e,t){if(!n(e)||"string"!=typeof t)return!1;const r=i(t);if(0===r.length)return!1;for(let t=0;t<r.length;t++){if(!n(e))return!1;if(!(r[t]in e))return!1;e=e[r[t]]}return!0}}},function(e,t,r){"use strict";e.exports=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)}},function(e,t,r){"use strict";const n=r(249);e.exports=()=>n(32)},function(e,t,r){"use strict";const n=r(32);e.exports=e=>{if(!Number.isFinite(e))throw new TypeError("Expected a finite number");return n.randomBytes(Math.ceil(e/2)).toString("hex").slice(0,e)}}]);