{"version":3,"sources":[".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/index.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/services/fileSystemIdManager.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/services/reporter.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/services/telemetryServiceBuilder.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/services/telemetryServiceImpl.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/utils/events.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/utils/extensions.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/utils/logger.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/utils/segmentInitializer.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/utils/telemetryEventQueue.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/utils/uuid.js",".././node_modules/@redhat-developer/vscode-redhat-telemetry/lib/vsc-commons.js",".././node_modules/@segment/loosely-validate-event/index.js",".././node_modules/analytics-node/index.js",".././node_modules/analytics-node/node_modules/uuid/lib/bytesToUuid.js",".././node_modules/analytics-node/node_modules/uuid/lib/rng.js",".././node_modules/analytics-node/node_modules/uuid/v4.js",".././node_modules/axios-retry/index.js",".././node_modules/axios-retry/lib/index.js",".././node_modules/axios/index.js",".././node_modules/axios/lib/adapters/http.js",".././node_modules/axios/lib/adapters/xhr.js",".././node_modules/axios/lib/axios.js",".././node_modules/axios/lib/cancel/Cancel.js",".././node_modules/axios/lib/cancel/CancelToken.js",".././node_modules/axios/lib/cancel/isCancel.js",".././node_modules/axios/lib/core/Axios.js",".././node_modules/axios/lib/core/InterceptorManager.js",".././node_modules/axios/lib/core/buildFullPath.js",".././node_modules/axios/lib/core/createError.js",".././node_modules/axios/lib/core/dispatchRequest.js",".././node_modules/axios/lib/core/enhanceError.js",".././node_modules/axios/lib/core/mergeConfig.js",".././node_modules/axios/lib/core/settle.js",".././node_modules/axios/lib/core/transformData.js",".././node_modules/axios/lib/defaults.js",".././node_modules/axios/lib/helpers/bind.js",".././node_modules/axios/lib/helpers/buildURL.js",".././node_modules/axios/lib/helpers/combineURLs.js",".././node_modules/axios/lib/helpers/cookies.js",".././node_modules/axios/lib/helpers/isAbsoluteURL.js",".././node_modules/axios/lib/helpers/isAxiosError.js",".././node_modules/axios/lib/helpers/isURLSameOrigin.js",".././node_modules/axios/lib/helpers/normalizeHeaderName.js",".././node_modules/axios/lib/helpers/parseHeaders.js",".././node_modules/axios/lib/helpers/spread.js",".././node_modules/axios/lib/utils.js",".././node_modules/balanced-match/index.js",".././node_modules/brace-expansion/index.js",".././node_modules/charenc/charenc.js",".././node_modules/component-type/index.js",".././node_modules/concat-map/index.js",".././node_modules/crypt/crypt.js",".././node_modules/debug/src/browser.js",".././node_modules/debug/src/debug.js",".././node_modules/debug/src/index.js",".././node_modules/debug/src/node.js",".././node_modules/expand-home-dir/index.js",".././node_modules/find-java-home/dist/index.js",".././node_modules/follow-redirects/debug.js",".././node_modules/follow-redirects/index.js",".././node_modules/fs.realpath/index.js",".././node_modules/fs.realpath/old.js",".././node_modules/glob/common.js",".././node_modules/glob/glob.js",".././node_modules/glob/sync.js",".././node_modules/inflight/inflight.js",".././node_modules/inherits/inherits.js",".././node_modules/inherits/inherits_browser.js",".././node_modules/is-buffer/index.js",".././node_modules/is-retry-allowed/index.js",".././node_modules/join-component/index.js",".././node_modules/lodash.isstring/index.js",".././node_modules/md5/md5.js",".././node_modules/minimatch/minimatch.js",".././node_modules/ms/index.js",".././node_modules/once/once.js",".././node_modules/path-is-absolute/index.js",".././node_modules/remove-trailing-slash/index.js",".././node_modules/semver/semver.js",".././src/definitions/constants.ts",".././src/extension.ts",".././src/languageServer/javaServerStarter.ts",".././src/languageServer/plugin.ts",".././src/languageServer/requirements.ts",".././src/lsp-commands.ts",".././src/util/javaServerMode.ts",".././src/yaml/YamlConstants.ts",".././src/yaml/YamlSchema.ts",".././node_modules/uuid/dist/esm-node/rng.js",".././node_modules/uuid/dist/esm-node/regex.js",".././node_modules/uuid/dist/esm-node/validate.js",".././node_modules/uuid/dist/esm-node/stringify.js",".././node_modules/uuid/dist/esm-node/v1.js",".././node_modules/uuid/dist/esm-node/parse.js",".././node_modules/uuid/dist/esm-node/v35.js",".././node_modules/uuid/dist/esm-node/md5.js",".././node_modules/uuid/dist/esm-node/v3.js",".././node_modules/uuid/dist/esm-node/v4.js",".././node_modules/uuid/dist/esm-node/v5.js",".././node_modules/uuid/dist/esm-node/sha1.js",".././node_modules/uuid/dist/esm-node/nil.js",".././node_modules/uuid/dist/esm-node/version.js",".././node_modules/vscode-jsonrpc/lib/cancellation.js",".././node_modules/vscode-jsonrpc/lib/events.js",".././node_modules/vscode-jsonrpc/lib/is.js",".././node_modules/vscode-jsonrpc/lib/linkedMap.js",".././node_modules/vscode-jsonrpc/lib/main.js",".././node_modules/vscode-jsonrpc/lib/messageReader.js",".././node_modules/vscode-jsonrpc/lib/messageWriter.js",".././node_modules/vscode-jsonrpc/lib/messages.js",".././node_modules/vscode-jsonrpc/lib/pipeSupport.js",".././node_modules/vscode-jsonrpc/lib/socketSupport.js",".././node_modules/vscode-languageclient/lib/client.js",".././node_modules/vscode-languageclient/lib/codeConverter.js",".././node_modules/vscode-languageclient/lib/colorProvider.js",".././node_modules/vscode-languageclient/lib/configuration.js",".././node_modules/vscode-languageclient/lib/declaration.js",".././node_modules/vscode-languageclient/lib/foldingRange.js",".././node_modules/vscode-languageclient/lib/implementation.js",".././node_modules/vscode-languageclient/lib/main.js",".././node_modules/vscode-languageclient/lib/protocolCodeLens.js",".././node_modules/vscode-languageclient/lib/protocolCompletionItem.js",".././node_modules/vscode-languageclient/lib/protocolConverter.js",".././node_modules/vscode-languageclient/lib/protocolDocumentLink.js",".././node_modules/vscode-languageclient/lib/typeDefinition.js",".././node_modules/vscode-languageclient/lib/utils/async.js",".././node_modules/vscode-languageclient/lib/utils/is.js",".././node_modules/vscode-languageclient/lib/utils/processes.js",".././node_modules/vscode-languageclient/lib/utils/uuid.js",".././node_modules/vscode-languageclient/lib/workspaceFolders.js",".././node_modules/vscode-languageserver-protocol/lib/main.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.colorProvider.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.configuration.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.declaration.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.foldingRange.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.implementation.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.typeDefinition.js",".././node_modules/vscode-languageserver-protocol/lib/protocol.workspaceFolders.js",".././node_modules/vscode-languageserver-protocol/lib/utils/is.js",".././node_modules/vscode-languageserver-types/lib/esm/main.js",".././node_modules/which/which.js",".././node_modules/winreg/lib/registry.js",".././node_modules/wrappy/wrappy.js","../external \"assert\"","../external \"child_process\"","../external \"crypto\"","../external \"events\"","../external \"fs\"","../external \"http\"","../external \"https\"","../external \"net\"","../external \"os\"","../external \"path\"","../external \"stream\"","../external \"tty\"","../external \"url\"","../external \"util\"","../external \"vscode\"","../external \"zlib\"","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/startup"],"names":["Object","defineProperty","exports","value","TelemetryServiceBuilder","getTelemetryService","getRedHatUUID","vsc_commons_1","enumerable","get","telemetryServiceBuilder_1","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","FileSystemIdManager","uuid_1","UUID","Reporter","events_1","logger_1","analytics","idManager","environment","event","_a","_b","_c","enhance","payload","userId","name","properties","measures","traits","context","type","Logger","log","JSON","stringify","identify","track","page","flush","reporter_1","telemetryServiceImpl_1","telemetryEventQueue_1","segmentInitializer_1","fileSystemIdManager_1","extensions_1","packageJson","settings","validate","SegmentInitializer","initialize","extension","getExtensionId","version","application","platform","reporter","queue","isTelemetryConfigured","undefined","TelemetryEventQueue","TelemetryServiceImpl","Error","startTime","getCurrentTimeInSeconds","isTelemetryEnabled","flushQueue","sendEvent","addEvent","send","session_duration","report","_d","eventsToFlush","events","length","shift","emptyQueue","now","Date","Math","floor","sanitize","sanitized","p","sanitizedProperty","replace","naivePattern","username","extension_name","extension_version","app_name","app_version","uiKind","app_kind","remote","app_remote","timezone","os_name","os_version","os_distribution","distribution","locale","ip","app","os","location","country","publisher","doLog","process","env","VSCODE_REDHAT_TELEMETRY_DEBUG","s","console","__importDefault","mod","__esModule","analytics_node_1","IS_DEBUG","args","execArgv","some","arg","test","DEFAULT_SEGMENT_KEY","getSegmentKey","extensionId","keyKey","clientSegmentKey","error","clientPackageJson","segmentWriteKey","defaultPackageJson","default","flushAt","flushInterval","MAX_QUEUE_SIZE","push","__createBinding","create","o","m","k","k2","__setModuleDefault","v","__importStar","prototype","hasOwnProperty","call","fs","path","REDHAT_ANONYMOUS_UUID","redhatDir","homedir","join","redhatUUIDFilePath","existsSync","contents","readFileSync","encoding","trim","v4","mkdirSync","writeFileSync","message","generateUUID","source","v5","vscode","REDHAT_UUID","vscodeCommonsAPI","ensureVSCodeCommonsActive","vscodeCommons","extensions","getExtension","isActive","activate","assert","module","validateGenericEvent","anonymousId","validateTrackEvent","groupId","validateGroupEvent","validateScreenEvent","previousId","validateAliasEvent","genericValidationRules","category","integrations","timestamp","json","key","Buffer","byteLength","val","rule","a","removeSlash","looselyValidate","axios","axiosRetry","ms","uuid","md5","isString","setImmediate","global","nextTick","bind","noop","writeKey","options","host","timeout","max","flushed","configurable","writable","enable","axiosClient","retries","retryCount","retryCondition","_isErrorRetryable","retryDelay","exponentialDelay","callback","_validate","enqueue","assign","library","_metadata","nodeVersion","versions","node","messageId","timer","setTimeout","clearTimeout","items","splice","callbacks","map","item","data","batch","sentAt","err","forEach","headers","window","req","method","url","auth","catch","response","statusText","isNetworkError","status","byteToHex","i","toString","substr","buf","offset","bth","crypto","randomBytes","rng","bytesToUuid","Array","rnds","random","ii","obj","_isRetryAllowed2","namespace","Boolean","code","SAFE_HTTP_METHODS","IDEMPOTENT_HTTP_METHODS","concat","isRetryableError","isIdempotentRequestError","config","indexOf","isNetworkOrIdempotentRequestError","noDelay","getCurrentState","currentState","defaultOptions","interceptors","request","use","lastRequestTime","_getRequestOptions","getRequestOptions","_getRequestOptions$re","_getRequestOptions$re2","_getRequestOptions$re3","_getRequestOptions$sh","shouldResetTimeout","delay","defaults","agent","httpAgent","httpsAgent","fixConfig","lastRequestDuration","transformRequest","isSafeRequestError","retryNumber","arguments","pow","randomSum","utils","settle","buildFullPath","buildURL","http","https","httpFollow","httpsFollow","zlib","pkg","createError","enhanceError","isHttps","setProxy","proxy","hostname","port","base64","from","password","beforeRedirect","redirection","href","resolvePromise","rejectPromise","isStream","isBuffer","isArrayBuffer","Uint8Array","fullPath","baseURL","parsed","parse","protocol","urlAuth","split","Authorization","isHttpsRequest","params","paramsSerializer","toUpperCase","agents","socketPath","transport","proxyEnv","slice","proxyUrl","parsedProxyUrl","noProxyEnv","no_proxy","NO_PROXY","shouldProxy","proxyElement","proxyUrlAuth","isHttpsProxy","maxRedirects","maxBodyLength","res","aborted","stream","lastRequest","statusCode","decompress","pipe","createUnzip","statusMessage","responseType","responseBuffer","on","chunk","maxContentLength","destroy","responseData","responseEncoding","stripBOM","abort","cancelToken","promise","cancel","end","cookies","parseHeaders","isURLSameOrigin","requestData","requestHeaders","isFormData","XMLHttpRequest","unescape","encodeURIComponent","btoa","open","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseText","onabort","onerror","ontimeout","timeoutErrorMessage","isStandardBrowserEnv","xsrfValue","withCredentials","xsrfCookieName","read","xsrfHeaderName","toLowerCase","setRequestHeader","isUndefined","onDownloadProgress","addEventListener","onUploadProgress","upload","Axios","mergeConfig","createInstance","defaultConfig","instance","extend","instanceConfig","Cancel","CancelToken","isCancel","all","promises","spread","isAxiosError","__CANCEL__","executor","TypeError","token","reason","throwIfRequested","c","InterceptorManager","dispatchRequest","chain","interceptor","unshift","getUri","handlers","eject","id","fn","h","isAbsoluteURL","combineURLs","requestedURL","transformData","throwIfCancellationRequested","merge","common","adapter","transformResponse","toJSON","description","number","fileName","lineNumber","columnNumber","stack","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","isPlainObject","isArray","mergeDeepProperties","prop","axiosKeys","otherKeys","keys","filter","validateStatus","fns","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","encode","serializedParams","parts","isDate","toISOString","hashmarkIndex","relativeURL","write","expires","domain","secure","cookie","isNumber","toGMTString","document","match","RegExp","decodeURIComponent","remove","originURL","msie","navigator","userAgent","urlParsingNode","createElement","resolveURL","setAttribute","search","hash","pathname","charAt","requestURL","normalizedName","ignoreDuplicateOf","line","arr","getPrototypeOf","isFunction","l","constructor","FormData","ArrayBuffer","isView","URLSearchParams","product","assignValue","b","str","content","charCodeAt","balanced","maybeMatch","r","range","start","pre","body","post","reg","begs","beg","left","right","ai","bi","pop","concatMap","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","numeric","parseInt","parseCommaParts","postParts","embrace","isPadded","el","lte","y","gte","isTop","expansions","n","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","x","width","incr","abs","pad","String","fromCharCode","need","z","j","expansion","charenc","utf8","stringToBytes","bin","bytesToString","bytes","escape","nodeType","_isBuffer","valueOf","xs","base64map","crypt","rotl","rotr","endian","Number","bytesToWords","words","wordsToBytes","bytesToHex","hex","hexToBytes","bytesToBase64","triplet","base64ToBytes","imod4","load","storage","debug","DEBUG","Function","formatArgs","useColors","humanize","diff","color","index","lastC","save","namespaces","removeItem","documentElement","style","WebkitAppearance","firebug","exception","table","$1","chrome","local","localStorage","localstorage","colors","formatters","prevTime","createDebug","enabled","self","curr","prev","coerce","format","formatter","logFn","selectColor","init","disable","names","skips","len","tty","util","inspectOpts","prefix","toUTCString","isatty","fd","reduce","substring","_","DEBUG_FD","deprecate","stdout","stderr","binding","guessHandleType","WriteStream","_type","_handle","unref","SyncWriteStream","autoClose","Socket","readable","_isStdio","createWritableStdioStream","inspect","O","__generator","f","t","g","label","sent","trys","ops","verb","Symbol","iterator","op","cp","which_1","winreg_1","child_process_1","isWindows","jdkRegistryKeyPaths","jreRegistryKeyPaths","findJavaHomePromise","allowJre","JAVA_FILENAME","regs","javaHome","registry","JAVA_HOME","dir","javaFilename","statSync","isDirectory","findInRegistry","findInPath","proposed","execSync","ex","findLinkedFile","dirname","macUtility","cwd","keyPaths","regArchs","_i","regArchs_1","arch","keyPaths_1","keyPath","keysFoundSegments","keysFound","sortedKeysFound","sortedKeysFound_1","promisifyFindPossibleRegKey","sort","aVer","parseFloat","home","regArch","hive","HKLM","file","lstatSync","isSymbolicLink","readlinkSync","optionsOrCb","optional","cb","error_1","URL","Writable","eventHandlers","arg1","arg2","arg3","_redirectable","emit","RedirectionError","createErrorType","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","wrap","protocols","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","defineProperties","input","urlStr","urlToOptions","equal","wrappedRequest","urlObject","startsWith","removeMatchingHeaders","regex","lastValue","header","defaultMessage","CustomError","captureStackTrace","_currentRequest","removeAllListeners","currentRequest","setHeader","removeHeader","msecs","startTimer","_timeout","clearTimer","removeListener","socket","once","property","searchPos","_currentUrl","_isRedirect","buffers","writeNext","finished","trackRedirects","followRedirects","previousHostName","redirectUrl","redirectUrlParts","responseDetails","cause","responseUrl","redirects","realpath","sync","realpathSync","monkeypatch","unmonkeypatch","origRealpath","origRealpathSync","ok","old","newError","er","syscall","cache","pathModule","NODE_DEBUG","normalize","nextPartRe","splitRootRe","pos","current","base","previous","original","seenLinks","knownHard","exec","lastIndex","resolvedLink","stat","linkTarget","dev","ino","backtrace","missingCallback","throwDeprecation","noDeprecation","msg","traceDeprecation","trace","rethrow","maybeCallback","lstat","LOOP","gotResolvedLink","gotStat","gotTarget","readlink","ownProp","field","alphasort","alphasorti","setopts","pattern","matchBase","noglobstar","silent","strict","realpathCache","follow","dot","mark","nodir","nounique","nonull","nosort","nocase","noprocess","absolute","maxLength","Infinity","statCache","symlinks","ignore","ignoreMap","setupIgnores","changedCwd","root","cwdAbs","isAbsolute","makeAbs","nomount","nonegate","nocomment","minimatch","Minimatch","finish","nou","matches","literal","globSet","_mark","notDir","isIgnored","found","isDir","slash","mabs","childrenIgnored","gmatcher","localeCompare","gpattern","matcher","glob","rp","inherits","EE","globSync","inflight","Glob","GlobSync","_didRealPath","set","_processing","_emitQueue","_processQueue","paused","_process","_finish","hasMagic","options_","origin","add","_didRealpath","_realpath","_realpathSet","matchset","_makeAbs","real","pause","resume","eq","_emitMatch","pq","inGlobStar","_processSimple","remain","GLOBSTAR","_processGlobStar","_processReaddir","_readdir","entries","_processReaddir2","pn","negate","rawGlob","_glob","dotOk","matchedEntries","st","_readdirInGlobStar","lstatcb","isSym","readdir","_readdirError","_readdirEntries","readdirCb","_processGlobStar2","remainWithoutGlobStar","gspref","noGlobStar","instead","below","_stat","exists","_processSimple2","trail","needDir","statcb","_stat2","newPattern","readdirSync","wrappy","reqs","array","RES","cbs","makeres","ctor","superCtor","super_","TempCtor","readFloatLE","isSlowBuffer","WHITELIST","BLACKLIST","sep","objectToString","isObjectLike","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","_blocksize","_digestsize","digestbytes","asBytes","asString","plTypes","close","qmark","star","reSpecials","slashSplit","ext","regexp","comment","empty","make","braceExpand","nobrace","list","def","orig","_made","parseNegate","globParts","si","negateOffset","isSub","stateChar","re","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","clearStateChar","noext","reStart","pl","reEnd","cs","sp","SUBPARSE","tail","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","flags","regExp","_src","makeRe","twoStar","mm","partial","filename","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","plural","ceil","isNaN","long","round","fmtShort","called","onceStrict","onceError","proto","posix","win32","device","isUnc","expr","SemVer","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","raw","major","minor","patch","prerelease","num","build","valid","clean","compare","other","compareMain","comparePre","compareIdentifiers","inc","release","identifier","version1","version2","v1","v2","defaultResult","anum","bnum","gt","lt","neq","cmp","Comparator","comp","semver","ANY","operator","rcompareIdentifiers","compareLoose","rcompare","rsort","Range","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","every","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","maxSV","rangeObj","minSatisfying","min","minSV","minVersion","minver","compver","validRange","ltr","gtr","r1","r2","MicroProfileLS","PROJECT_INFO_REQUEST","PROPERTY_DEFINITION_REQUEST","JSON_SCHEMA_FOR_PROJECT_INFO_REQUEST","JAVA_CODEACTION_REQUEST","JAVA_CODELENS_REQUEST","JAVA_COMPLETION_REQUEST","JAVA_DEFINITION_REQUEST","JAVA_DIAGNOSTICS_REQUEST","JAVA_HOVER_REQUEST","JAVA_FILE_INFO_REQUEST","JAVA_PROJECT_LABELS_REQUEST","PROPERTIES_CHANGED_NOTIFICATION","Commands","RELOAD_WINDOW","languageClient","telemetryService","sendStartupEvent","yamlSchemaCache","registerYamlSchemaSupport","bindRequest","onRequest","commands","executeCommand","waitForStandardMode","microprofileContributions","collectMicroProfileJavaExtensions","requirements","resolveRequirements","clientOptions","documentSelector","getDocumentSelector","initializationOptions","getVSCodeMicroProfileSettings","extendedClientCapabilities","commandsKind","valueSet","CommandKind","COMMAND_CONFIGURATION_UPDATE","COMMAND_OPEN_URI","synchronize","configurationSection","middleware","workspace","didChangeConfiguration","sendNotification","DidChangeConfigurationNotification","serverOptions","prepareExecutable","microProfileContributions","jarPaths","contribution","jarExtensions","getMicroProfileJarExtensions","LanguageClient","subscriptions","onDidChange","handleExtensionChange","onReady","language","microprofile","getConfiguration","connectToLS","registerCommand","evict","showErrorMessage","selection","openUrl","registerConfigurationUpdateCommand","registerOpenURICommand","registerVSCodeCommands","stop","parseVMargs","vmargsLine","vmargs","microprofileJavaExtensions","executable","stdio","command","java_home","SUSPEND_SERVER","watchParentProcess","serverHome","__dirname","mpJavaExtensionsClasspath","classpathSeperator","prepareParams","existingExtensions","contributesSection","packageJSON","contributes","microprofileSection","setJarExtensionsIfExists","extensionPath","setDocumentSelectorIfExists","section","microprofileJavaExtensionPath","selector","documentFilter","oldExtensions","Set","newExtensions","hasChanged","size","newExtension","oldExtension","isDeepStrictEqual","appName","action","showWarningMessage","expandHomeDir","findJavaHome","parseMajorVersion","javaVersion","openJDKDownload","jdkUrl","Uri","replaceClose","execFile","checkJavaVersion","java_version","ConfigurationItemEditType","resolveConfigurationItemEdit","configItemEdit","editType","Add","configArray","includes","update","ConfigurationTarget","Workspace","addToPreferenceArray","Delete","Update","COMMAND_REFERENCES","COMMAND_IMPLEMENTATIONS","uri","ServerMode","vscodeJava","api","serverMode","HYBRID","onDidServerModeChange","mode","STANDARD","LIGHTWEIGHT","showInformationMessage","answer","MICROPROFILE_SCHEMA","MICROPROFILE_SCHEMA_PREFIX","VSCODE_YAML_EXTENSION_ID","VSCODE_YAML_DISPLAY_NAME","VSCODE_YAML_NOT_INSTALLED_MESSAGE","VSCODE_YAML_LOW_VERSION_MESSAGE","VSCODE_YAML_NO_REGISTRATION_MESSAGE","VSCODE_YAML_INSTALL_SUCCESS","MicroProfilePropertiesScopeEnum","YamlSchemaCache","Map","_languageClient","applicationYamlUri","yamlSchema","jsonSchema","scopes","sendRequest","projectURIs","projectURI","delete","listener","requestYamlSchemaUriCallback","resource","visibleTextEditors","find","editor","endsWith","requestYamlSchemaContentCallback","parsedUri","getSchema","isEditorApplicationYaml","currentFileName","createInstallListener","onDidChangeActiveTextEditor","change","askInstallVSCodeYaml","INSTALL","RELOAD","withProgress","ProgressLocation","Notification","title","installVSCodeYaml","dispose","yamlPlugin","isApplicationYamlOpened","activeTextEditor","registerContributor","activateYamlExtension","rnds8Pool","poolPtr","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","seedBytes","nsecs","dt","tl","tmh","hashfunc","DNS","v35","digest","Is","CancellationToken","None","freeze","isCancellationRequested","onCancellationRequested","Event","Cancelled","is","candidate","boolean","shortcutEvent","handle","MutableToken","_isCancelled","_emitter","fire","Emitter","CancellationTokenSource","_token","Disposable","func","_disposable","CallbackList","bucket","_callbacks","_contexts","foundCallbackWithDifferentContext","contexts","_event","thisArgs","disposables","onFirstListenerAdd","isEmpty","_noop","onLastListenerRemove","invoke","string","stringArray","elem","Touch","First","Last","LinkedMap","_map","_head","_tail","_size","clear","has","touch","addItemLast","addItemFirst","callbackfn","__export","messages_1","RequestType","RequestType0","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","ResponseError","ErrorCodes","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","messageReader_1","MessageReader","StreamMessageReader","IPCMessageReader","SocketMessageReader","messageWriter_1","MessageWriter","StreamMessageWriter","IPCMessageWriter","SocketMessageWriter","cancellation_1","linkedMap_1","CancelNotification","Trace","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionState","NullLogger","warn","info","fromString","Off","Messages","Verbose","Text","ConnectionError","super","setPrototypeOf","_createMessageConnection","messageReader","messageWriter","logger","strategy","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","starRequestHandler","starNotificationHandler","tracer","requestHandlers","notificationHandlers","messageQueue","responsePromises","requestTokens","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","disposeEmitter","createRequestQueueKey","cancelUndispatched","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","isRequestMessage","requestMessage","reply","resultOrError","jsonrpc","toJson","traceSendingResponse","replyError","logLSPMessage","traceReceivedRequest","requestHandler","element","handler","cancellationSource","tokenKey","handlerResult","numberOfParams","InternalError","replySuccess","MethodNotFound","handleRequest","isNotificationMessage","notificationHandler","traceReceivedNotification","handleNotification","isResponseMessage","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","addMessageToQueue","lspMessage","isLSPMessage","throwIfClosedOrDisposed","undefinedToNull","param","computeMessageParams","connection","messageParams","notificationMessage","traceSendingNotification","onNotification","throwIfNotListening","last","traceSendingRequest","MessageWriteError","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","listen","AlreadyListening","throwIfListening","verbose","ConnectionStrategy","createMessageConnection","output","isMessageWriter","DefaultSize","CR","LF","MessageBuffer","allocUnsafe","toAppend","bufferLen","copy","newSize","nextStart","onPartialMessage","AbstractMessageReader","partialMessageEmitter","asError","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimer","onData","fireError","fireClose","append","tryReadHeaders","contentLength","tryReadContent","setPartialMessageTimer","clearPartialMessageTimer","firePartialMessage","waitingTime","eventEmitter","ContentLength","CRLF","AbstractMessageWriter","count","errorCount","sending","doWriteMessage","handleError","ParseError","InvalidRequest","InvalidParams","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","RequestCancelled","MessageReadError","AbstractMessageType","_method","_numberOfParams","path_1","os_1","crypto_1","net_1","generateRandomPipeName","randomSuffix","tmpdir","createClientPipeTransport","pipeName","connectResolve","connected","_reject","server","createServer","onConnected","createServerPipeTransport","createConnection","createClientSocketTransport","createServerSocketTransport","vscode_1","vscode_languageserver_protocol_1","c2p","p2c","async_1","ConsoleLogger","ErrorAction","CloseAction","RevealOutputChannelOn","State","ClientState","DefaultErrorHandler","restarts","_error","Continue","Shutdown","Restart","DoNotRestart","SupportedSymbolKinds","SymbolKind","File","Module","Namespace","Package","Class","Method","Property","Field","Constructor","Enum","Interface","Variable","Constant","Key","Null","EnumMember","Struct","Operator","TypeParameter","SupportedCompletionItemKinds","CompletionItemKind","Unit","Value","Keyword","Snippet","Color","Reference","Folder","ensure","DynamicFeature","register","unregister","messages","DocumentNotifiactions","_client","_middleware","_createParams","_selectorFilter","_selectors","selectors","textDocument","languages","registerOptions","_listener","values","notificationSent","_data","DidOpenTextDocumentFeature","client","_syncedDocuments","onDidOpenTextDocument","DidOpenTextDocumentNotification","didOpen","code2ProtocolConverter","asOpenTextDocumentParams","textDocumentFilter","capabilities","dynamicRegistration","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","generateUuid","textDocuments","DidCloseTextDocumentFeature","onDidCloseTextDocument","DidCloseTextDocumentNotification","didClose","asCloseTextDocumentParams","DidChangeTextDocumentFeature","_changeData","_forcingDelivery","DidChangeTextDocumentNotification","TextDocumentSyncKind","syncKind","onDidChangeTextDocument","contentChanges","changeData","Incremental","asChangeTextDocumentParams","didChange","Full","_changeDelayer","forceDelivery","delayer","trigger","Delayer","WillSaveFeature","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveWaitUntilFeature","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","edits","vEdits","protocol2CodeConverter","asTextEdits","waitUntil","DidSaveTextDocumentFeature","onDidSaveTextDocument","DidSaveTextDocumentNotification","didSave","asSaveTextDocumentParams","_includeText","includeText","FileSystemWatcherFeature","_notifyFileEvent","_watchers","DidChangeWatchedFilesNotification","_capabilities","_documentSelector","watchers","disposeables","watcher","globPattern","watchCreate","watchChange","watchDelete","kind","WatchKind","Create","Change","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","listeners","onDidCreate","asUri","FileChangeType","Created","Changed","onDidDelete","Deleted","disposable","TextDocumentFeature","_providers","provider","registerLanguageProvider","CompletionItemFeature","CompletionRequest","capabilites","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","documentationFormat","MarkupKind","Markdown","PlainText","deprecatedSupport","preselectSupport","completionItemKind","completionProvider","triggerCharacters","provideCompletionItems","position","asCompletionParams","asCompletionResult","logFailedRequest","resolveCompletionItem","CompletionResolveRequest","asCompletionItem","registerCompletionItemProvider","provideCompletionItem","resolveProvider","HoverFeature","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asTextDocumentPositionParams","asHover","registerHoverProvider","SignatureHelpFeature","SignatureHelpRequest","signatureInformation","parameterInformation","labelOffsetSupport","signatureHelpProvider","providerSignatureHelp","asSignatureHelp","registerSignatureHelpProvider","provideSignatureHelp","DefinitionFeature","DefinitionRequest","definitionSupport","linkSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","ReferencesFeature","ReferencesRequest","referencesProvider","providerReferences","asReferenceParams","asReferences","registerReferenceProvider","provideReferences","DocumentHighlightFeature","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentSymbolFeature","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","documentSymbolProvider","provideDocumentSymbols","asDocumentSymbolParams","DocumentSymbol","asDocumentSymbols","asSymbolInformations","registerDocumentSymbolProvider","WorkspaceSymbolFeature","WorkspaceSymbolRequest","workspaceSymbolProvider","provideWorkspaceSymbols","query","registerWorkspaceSymbolProvider","CodeActionFeature","CodeActionRequest","cap","codeActionLiteralSupport","codeActionKind","CodeActionKind","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","codeActionProvider","codeActionKinds","provideCodeActions","asTextDocumentIdentifier","asRange","asCodeActionContext","Command","asCommand","asCodeAction","registerCodeActionsProvider","providedCodeActionKinds","asCodeActionKinds","CodeLensFeature","CodeLensRequest","codeLensProvider","provideCodeLenses","asCodeLensParams","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","asCodeLens","registerCodeLensProvider","DocumentFormattingFeature","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","DocumentRangeFormattingFeature","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingFeature","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","moreTriggerCharacter","provideOnTypeFormattingEdits","ch","asPosition","registerOnTypeFormattingEditProvider","firstTriggerCharacter","RenameFeature","RenameRequest","rename","prepareSupport","renameProvider","prepareProvider","provideRenameEdits","newName","asWorkspaceEdit","prepareRename","PrepareRenameRequest","placeholder","registerRenameProvider","DocumentLinkFeature","DocumentLinkRequest","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","asDocumentLink","registerDocumentLinkProvider","ConfigurationFeature","_listeners","onDidChangeConfiguration","sections","affectsConfiguration","extractSettingsInformation","getMiddleware","ensurePath","workspaceFolder","ExecuteCommandFeature","_commands","ExecuteCommandRequest","executeCommandProvider","MessageTransports","reader","writer","OnReady","_resolve","_used","BaseLanguageClient","_features","_method2Message","_dynamicFeatures","_id","_name","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationFailedHandler","errorHandler","uriConverters","Initial","_connectionPromise","_resolvedConnection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_diagnostics","_fileEvents","_fileEventDelayer","_onReady","_onReadyCallbacks","_onStop","_telemetryEmitter","_stateChangeEmitter","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","_state","oldState","getPublicState","newState","Running","Starting","Stopped","isConnectionActive","forceDocumentSync","createOutputChannel","_trace","resolveConnection","responseError","appendLine","toLocaleTimeString","data2String","Info","show","Warn","Stopping","isUsed","createDiagnosticCollection","onLogMessage","MessageType","Warning","onShowMessage","ShowMessageRequest","messageFunc","actions","onTelemetry","StartFailed","needsStop","refreshTrace","initOption","rootPath","fsPath","_clientGetRootPath","initParams","processId","pid","rootUri","computeClientCapabilities","workspaceFolders","fillInitializeParams","textDocumentSync","onDiagnostics","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","folders","folder","cleanUp","shutdown","exit","channel","diagnostics","didChangeWatchedFiles","changes","asDiagnostics","setDiagnostics","handleConnectionError","handleConnectionClosed","createMessageTransports","transports","createProtocolConnection","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","LogMessageNotification","ShowMessageNotification","TelemetryEventNotification","didOpenTextDocument","didChangeTextDocument","didCloseTextDocument","didSaveTextDocument","PublishDiagnosticsNotification","closed","traceConfig","_connection","fileEvents","registerRaw","features","feature","registerFeature","notifyFileEvent","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Rename","failureHandling","FailureHandlingKind","TextOnlyTransactional","relatedInformation","fillClientCapabilities","registration","registrations","unregistration","unregisterations","edit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","uriConverter","_uriConverter","asVersionedTextDocumentIdentifier","asTextDocumentSaveReason","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","asTriggerKind","triggerKind","CompletionTriggerKind","TriggerCharacter","TriggerForIncompleteCompletions","Invoked","asWorkerPosition","character","asDiagnosticSeverity","DiagnosticSeverity","Information","Hint","asDiagnostic","Diagnostic","severity","asTextEdit","newText","languageId","text","getText","isTextDocument","isTextDocumentChangeEvent","rangeLength","includeContent","triggerCharacter","protocolItem","detail","documentation","asDocumentation","filterText","InsertTextFormat","textEdit","insertText","SnippetString","insertTextFormat","fromEdit","fillPrimaryInsertText","originalItemKind","sortText","additionalTextEdits","commitCharacters","preselect","deprecated","includeDeclaration","CodeActionContext","only","CodeLens","tabSize","insertSpaces","DocumentLink","client_1","ColorProviderFeature","DocumentColorRequest","colorProvider","implCapabilities","provideColorPresentations","requestParams","ColorPresentationRequest","asColorPresentations","provideDocumentColors","asColorInformations","registerColorProvider","red","green","blue","alpha","colorInformation","ci","ColorInformation","asColor","colorPresentations","presentation","ColorPresentation","configuration","ConfigurationRequest","scopeUri","lastIndexOf","DeclarationFeature","DeclarationRequest","declarationSupport","declarationProvider","declCapabilities","provideDeclaration","asDeclarationResult","registerDeclarationProvider","FoldingRangeFeature","FoldingRangeRequest","capability","rangeLimit","lineFoldingOnly","foldingRangeProvider","provideFoldingRanges","asFoldingRanges","registerFoldingRangeProvider","FoldingRangeKind","Comment","Imports","Region","foldingRanges","FoldingRange","startLine","endLine","asFoldingRangeKind","ImplementationFeature","ImplementationRequest","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","colorProvider_1","configuration_1","implementation_1","typeDefinition_1","workspaceFolders_1","foldingRange_1","declaration_1","processes_1","Executable","TransportKind","Transport","NodeModule","StreamInfo","ChildProcessInfo","ProposedFeatures","isSocket","detached","arg4","arg5","forceDebug","_serverOptions","_forceDebug","checkVersion","codeVersion","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","kill","terminate","stdin","runDebug","run","v8debug","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","runtime","ipc","fork","execOptions","getEnvironment","serverProcess","spawn","registerFeatures","createAll","TypeDefinitionFeature","WorkspaceFoldersFeature","_mainGetRootPath","stats","SettingMonitor","_setting","primary","rest","needsStart","ProtocolCodeLens","ProtocolCompletionItem","CompletionItem","ls","CodeBlock","diagnostic","asDiagnosticRelatedInformation","information","DiagnosticRelatedInformation","asLocation","Position","MarkdownString","asCompletionInsertText","itemKind","TextEdit","asSignatureInformations","asSignatureInformation","SignatureInformation","parameters","asParameterInformations","asParameterInformation","ParameterInformation","Location","asLocationLink","targetUri","targetRange","targetSelectionRange","originSelectionRange","asLocationResult","LocationLink","asDocumentHighlight","DocumentHighlight","asDocumentHighlightKind","DocumentHighlightKind","Read","Write","asSymbolKind","asSymbolInformation","SymbolInformation","containerName","asDocumentSymbol","selectionRange","children","child","kindMapping","asCodeActionKind","Empty","part","WorkspaceEdit","CreateFile","createFile","RenameFile","renameFile","oldUri","newUri","DeleteFile","deleteFile","asColorInformation","asColorPresentation","asFoldingRange","hover","Hover","appendCodeblock","appendMarkdown","appendText","asHoverContent","CompletionList","isIncomplete","SignatureHelp","activeSignature","activeParameter","signatures","asCommands","CodeAction","ProtocolDocumentLink","TypeDefinitionRequest","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","defaultDelay","completionPromise","onSuccess","task","cancelTimeout","typedArray","check","thenable","isMacintosh","isLinux","execFileSync","cmd","spawnSync","ValueUUID","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","_chars","_UUIDPattern","isUUID","access","DidChangeWorkspaceFoldersNotification","asProtocol","WorkspaceFoldersRequest","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","added","removed","vscode_jsonrpc_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","DocumentFilter","Abort","Transactional","Undo","InitializeError","unknownProtocolVersion","Log","objectLiteral","one","two","three","four","defined","startCharacter","endCharacter","insert","del","VersionedTextDocumentIdentifier","overwrite","ignoreIfExists","recursive","ignoreIfNotExists","TextDocumentIdentifier","TextDocumentItem","MarkupContent","MarkedString","TextEditChangeImpl","WorkspaceChange","_this","_textEditChanges","_workspaceEdit","textEditChange","getTextEditChange","textDocumentEdit","checkDocumentChanges","fromPlainText","plainText","FormattingOptions","commandOrEdit","TextDocument","EOL","mergeSort","leftIdx","rightIdx","FullTextDocument","lineCount","positionAt","offsetAt","applyEdits","sortedEdits","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","mid","lineOffset","nextLineOffset","which","pathEnv","PATH","COLON","pathExt","PATHEXT","ll","cur","isExe","uid","gid","F","E","getgid","getuid","absUnix","HKCU","HKCR","HKCC","HIVES","REG_SZ","REG_MULTI_SZ","REG_EXPAND_SZ","REG_DWORD","REG_QWORD","REG_BINARY","REG_NONE","REG_TYPES","KEY_PATTERN","PATH_PATTERN","ITEM_PATTERN","ProcessUncleanExitError","__defineGetter__","captureOutput","mkErrorMsg","registryCommand","pushArch","archString","convertArchString","getRegExePath","windir","RegistryItem","_host","_hive","_key","_arch","Registry","HKU","DEFAULT_VALUE","proc","lines","erase","keyExists","valueExists","wrapper","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","toStringTag","__webpack_exports__"],"mappings":"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","file":"extension.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryServiceBuilder = exports.getTelemetryService = exports.getRedHatUUID = void 0;\nconst vsc_commons_1 = require(\"./vsc-commons\");\nObject.defineProperty(exports, \"getRedHatUUID\", { enumerable: true, get: function () { return vsc_commons_1.getRedHatUUID; } });\nObject.defineProperty(exports, \"getTelemetryService\", { enumerable: true, get: function () { return vsc_commons_1.getTelemetryService; } });\nconst telemetryServiceBuilder_1 = require(\"./services/telemetryServiceBuilder\");\nObject.defineProperty(exports, \"TelemetryServiceBuilder\", { enumerable: true, get: function () { return telemetryServiceBuilder_1.TelemetryServiceBuilder; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemIdManager = void 0;\nconst uuid_1 = require(\"../utils/uuid\");\n/**\n * Service providing the Red Hat anonymous user id, read/stored from the `~/.redhat/anonymousId` file.\n */\nclass FileSystemIdManager {\n    getRedHatUUID() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return uuid_1.UUID.getRedHatUUID();\n        });\n    }\n}\nexports.FileSystemIdManager = FileSystemIdManager;\n//# sourceMappingURL=fileSystemIdManager.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Reporter = void 0;\nconst events_1 = require(\"../utils/events\");\nconst logger_1 = require(\"../utils/logger\");\n/**\n * Sends Telemetry events to a segment.io backend\n */\nclass Reporter {\n    constructor(analytics, idManager, environment) {\n        this.analytics = analytics;\n        this.idManager = idManager;\n        this.environment = environment;\n    }\n    report(event) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.analytics) {\n                event = events_1.enhance(event, this.environment);\n                let payload = {\n                    userId: yield this.idManager.getRedHatUUID(),\n                    event: event.name,\n                    properties: event.properties,\n                    measures: event.measures,\n                    traits: event.traits,\n                    context: event.context\n                };\n                const type = (event.type) ? event.type : 'track';\n                logger_1.Logger.log(`Sending ${type} event with\\n${JSON.stringify(payload)}`);\n                switch (type) {\n                    case 'identify':\n                        (_a = this.analytics) === null || _a === void 0 ? void 0 : _a.identify(payload);\n                        break;\n                    case 'track':\n                        (_b = this.analytics) === null || _b === void 0 ? void 0 : _b.track(payload);\n                        break;\n                    case 'page':\n                        (_c = this.analytics) === null || _c === void 0 ? void 0 : _c.page(payload);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        });\n    }\n    flush() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            (_a = this.analytics) === null || _a === void 0 ? void 0 : _a.flush();\n        });\n    }\n}\nexports.Reporter = Reporter;\n//# sourceMappingURL=reporter.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryServiceBuilder = void 0;\nconst reporter_1 = require(\"./reporter\");\nconst telemetryServiceImpl_1 = require(\"./telemetryServiceImpl\");\nconst telemetryEventQueue_1 = require(\"../utils/telemetryEventQueue\");\nconst segmentInitializer_1 = require(\"../utils/segmentInitializer\");\nconst fileSystemIdManager_1 = require(\"./fileSystemIdManager\");\nconst extensions_1 = require(\"../utils/extensions\");\n/**\n * `TelemetryService` builder\n */\nclass TelemetryServiceBuilder {\n    constructor(packageJson) {\n        this.packageJson = packageJson;\n    }\n    setPackageJson(packageJson) {\n        this.packageJson = packageJson;\n        return this;\n    }\n    setSettings(settings) {\n        this.settings = settings;\n        return this;\n    }\n    setIdManager(idManager) {\n        this.idManager = idManager;\n        return this;\n    }\n    setEnvironment(environment) {\n        this.environment = environment;\n        return this;\n    }\n    build() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.validate();\n            const analytics = segmentInitializer_1.SegmentInitializer.initialize(this.packageJson);\n            if (!this.idManager) {\n                this.idManager = new fileSystemIdManager_1.FileSystemIdManager();\n            }\n            if (!this.environment) {\n                this.environment = {\n                    extension: {\n                        name: extensions_1.getExtensionId(this.packageJson),\n                        version: this.packageJson.version\n                    },\n                    application: {\n                        name: 'Unknown',\n                        version: '-'\n                    },\n                    platform: {\n                        name: 'Unknown',\n                        version: '-'\n                    }\n                };\n            }\n            const reporter = new reporter_1.Reporter(analytics, this.idManager, this.environment);\n            const queue = this.settings.isTelemetryConfigured()\n                ? undefined\n                : new telemetryEventQueue_1.TelemetryEventQueue();\n            return new telemetryServiceImpl_1.TelemetryServiceImpl(reporter, queue, this.settings);\n        });\n    }\n    validate() {\n        if (!this.packageJson) {\n            throw new Error('packageJson is not set');\n        }\n        if (!this.environment) {\n            throw new Error('Environment is not set');\n        }\n    }\n}\nexports.TelemetryServiceBuilder = TelemetryServiceBuilder;\n//# sourceMappingURL=telemetryServiceBuilder.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryServiceImpl = void 0;\nconst logger_1 = require(\"../utils/logger\");\n/**\n * Implementation of a `TelemetryService`\n */\nclass TelemetryServiceImpl {\n    constructor(reporter, queue, settings) {\n        this.reporter = reporter;\n        this.queue = queue;\n        this.settings = settings;\n        this.startTime = this.getCurrentTimeInSeconds();\n    }\n    /*\n      Collects telemetry data and pushes to a queue when not opted in\n      and to segment when user has opted for telemetry\n    */\n    send(event) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            logger_1.Logger.log(`Event received: ${event.name}`);\n            if (this.settings.isTelemetryEnabled()) {\n                // flush whatever was in the queue, however it's unlikely there's anything left at this point.\n                this.flushQueue();\n                this.sendEvent(event);\n            }\n            else if (!this.settings.isTelemetryConfigured()) {\n                // Still waiting for opt-in?, then queue events\n                (_a = this.queue) === null || _a === void 0 ? void 0 : _a.addEvent(event);\n            }\n        });\n    }\n    sendStartupEvent() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.startTime = this.getCurrentTimeInSeconds();\n            return this.send({ name: 'startup' });\n        });\n    }\n    sendShutdownEvent() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.send({ name: 'shutdown', properties: {\n                    //Sends session duration in seconds\n                    session_duration: this.getCurrentTimeInSeconds() - this.startTime\n                } });\n        });\n    }\n    sendEvent(event) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.reporter.report(event);\n        });\n    }\n    flushQueue() {\n        var _a, _b, _c, _d;\n        return __awaiter(this, void 0, void 0, function* () {\n            const eventsToFlush = (_a = this.queue) === null || _a === void 0 ? void 0 : _a.events;\n            if (eventsToFlush && this.settings.isTelemetryEnabled()) {\n                while (eventsToFlush.length > 0) {\n                    const event = (_c = (_b = this.queue) === null || _b === void 0 ? void 0 : _b.events) === null || _c === void 0 ? void 0 : _c.shift();\n                    if (event) {\n                        this.sendEvent(event);\n                    }\n                }\n            }\n            // No matter what, we need to empty the queue if it exists\n            (_d = this.queue) === null || _d === void 0 ? void 0 : _d.emptyQueue();\n        });\n    }\n    dispose() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            (_a = this.queue) === null || _a === void 0 ? void 0 : _a.emptyQueue();\n            return this.reporter.flush();\n        });\n    }\n    getCurrentTimeInSeconds() {\n        const now = Date.now();\n        return Math.floor(now / 1000);\n    }\n}\nexports.TelemetryServiceImpl = TelemetryServiceImpl;\n//# sourceMappingURL=telemetryServiceImpl.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.enhance = void 0;\n/**\n * Enhances a `TelemetryEvent` by injecting environmental data to its properties and context\n *\n * See segment.com fields: https://segment.com/docs/connections/spec/common/#integrations\n * {\n  \"anonymousId\": \"507f191e810c19729de860ea\",\n  \"context\": {\n    \"active\": true,\n    \"app\": {\n      \"name\": \"InitechGlobal\",\n      \"version\": \"545\",\n      \"build\": \"3.0.1.545\",\n      \"namespace\": \"com.production.segment\"\n    },\n    \"campaign\": {\n      \"name\": \"TPS Innovation Newsletter\",\n      \"source\": \"Newsletter\",\n      \"medium\": \"email\",\n      \"term\": \"tps reports\",\n      \"content\": \"image link\"\n    },\n    \"device\": {\n      \"id\": \"B5372DB0-C21E-11E4-8DFC-AA07A5B093DB\",\n      \"advertisingId\": \"7A3CBEA0-BDF5-11E4-8DFC-AA07A5B093DB\",\n      \"adTrackingEnabled\": true,\n      \"manufacturer\": \"Apple\",\n      \"model\": \"iPhone7,2\",\n      \"name\": \"maguro\",\n      \"type\": \"ios\",\n      \"token\": \"ff15bc0c20c4aa6cd50854ff165fd265c838e5405bfeb9571066395b8c9da449\"\n    },\n    \"ip\": \"8.8.8.8\",\n    \"library\": {\n      \"name\": \"analytics.js\",\n      \"version\": \"2.11.1\"\n    },\n    \"locale\": \"en-US\",\n    \"location\": {\n      \"city\": \"San Francisco\",\n      \"country\": \"United States\",\n      \"latitude\": 40.2964197,\n      \"longitude\": -76.9411617,\n      \"speed\": 0\n    },\n    \"network\": {\n      \"bluetooth\": false,\n      \"carrier\": \"T-Mobile US\",\n      \"cellular\": true,\n      \"wifi\": false\n    },\n    \"os\": {\n      \"name\": \"iPhone OS\",\n      \"version\": \"8.1.3\"\n    },\n    \"page\": {\n      \"path\": \"/academy/\",\n      \"referrer\": \"\",\n      \"search\": \"\",\n      \"title\": \"Analytics Academy\",\n      \"url\": \"https://segment.com/academy/\"\n    },\n    \"referrer\": {\n      \"id\": \"ABCD582CDEFFFF01919\",\n      \"type\": \"dataxu\"\n    },\n    \"screen\": {\n      \"width\": 320,\n      \"height\": 568,\n      \"density\": 2\n    },\n    \"groupId\": \"12345\",\n    \"timezone\": \"Europe/Amsterdam\",\n    \"userAgent\": \"Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1\"\n  },\n  \"integrations\": {\n    \"All\": true,\n    \"Mixpanel\": false,\n    \"Salesforce\": false\n  },\n  \"messageId\": \"022bb90c-bbac-11e4-8dfc-aa07a5b093db\",\n  \"receivedAt\": \"2015-12-10T04:08:31.909Z\",\n  \"sentAt\": \"2015-12-10T04:08:31.581Z\",\n  \"timestamp\": \"2015-12-10T04:08:31.905Z\",\n  \"type\": \"track\",\n  \"userId\": \"97980cfea0067\",\n  \"version\": 2\n}\n *\n * @param event the event to enhance\n * @param environment the environment data to inject the event with\n */\nfunction enhance(event, environment) {\n    //Inject Client name and version,  Extension id and version, and timezone to the event properties\n    const properties = event.properties ? sanitize(event.properties, environment) : {};\n    if (!(event.type) || event.type == 'track') {\n        properties.extension_name = environment.extension.name;\n        properties.extension_version = environment.extension.version;\n        properties.app_name = environment.application.name;\n        properties.app_version = environment.application.version;\n        if (environment.application.uiKind) {\n            properties.app_kind = environment.application.uiKind;\n        }\n        if (environment.application.remote !== undefined) {\n            properties.app_remote = environment.application.remote;\n        }\n    }\n    const traits = event.traits ? sanitize(event.traits, environment) : {};\n    if (event.type == 'identify') {\n        //All those traits should be handled by Woopra in the context block, but are not. Meh.\n        traits.timezone = environment.timezone;\n        traits.os_name = environment.platform.name;\n        traits.os_version = environment.platform.version;\n        traits.os_distribution = environment.platform.distribution;\n        traits.locale = environment.locale;\n    }\n    //Inject Plateform specific data in segment's context, so it can be recognized by the end destination\n    // XXX Currently, Woopra ignores app, os, locale and timezone\n    const context = event.context ? event.context : {};\n    context.ip = '0.0.0.0';\n    context.app = {\n        name: environment.application.name,\n        version: environment.application.version\n    };\n    context.os = {\n        name: environment.platform.name,\n        version: environment.platform.version,\n    };\n    context.locale = environment.locale;\n    context.location = {\n        // This is inacurate in some cases (user uses a different locale than from his actual country), \n        // but still provides an interesting metric in most cases. \n        country: environment.country\n    };\n    context.timezone = environment.timezone;\n    const enhancedEvent = {\n        name: event.name,\n        type: event.type,\n        properties: properties,\n        measures: event.measures,\n        traits: traits,\n        context: context\n    };\n    return enhancedEvent;\n}\nexports.enhance = enhance;\nfunction sanitize(properties, environment) {\n    const sanitized = {};\n    for (const p in properties) {\n        const rawProperty = properties[p];\n        let sanitizedProperty = stripPaths(rawProperty);\n        if (environment.username) {\n            sanitizedProperty = sanitizedProperty.replace(environment.username, '_username_');\n        }\n        sanitized[p] = sanitizedProperty;\n    }\n    return sanitized;\n}\n// Extremely naive regexp to capture anything that looks like a path\n// It will certainly either be too aggressive or insufficient, depending \n// on the case. eg. doesn't handle paths containing spaces properly \nconst naivePattern = /(([a-zA-Z](:)\\\\[^\\s]*)|([^\\s]*\\/[^\\s]*))/g;\nfunction stripPaths(rawProperty) {\n    return rawProperty.replace(naivePattern, 'anonymized/path');\n}\n//# sourceMappingURL=events.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getExtensionId = void 0;\nfunction getExtensionId(packageJson) {\n    return `${packageJson.publisher}.${packageJson.name}`;\n}\nexports.getExtensionId = getExtensionId;\n//# sourceMappingURL=extensions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Logger = exports.doLog = void 0;\nexports.doLog = (typeof process !== 'undefined') ? process.env.VSCODE_REDHAT_TELEMETRY_DEBUG === 'true' : false;\n// This exists only for testing purposes. Could delete later.\nvar Logger;\n(function (Logger) {\n    function log(s) {\n        if (exports.doLog) {\n            console.log('vscode-redhat-telemetry: ' + s);\n        }\n    }\n    Logger.log = log;\n})(Logger = exports.Logger || (exports.Logger = {}));\n//# sourceMappingURL=logger.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SegmentInitializer = void 0;\nconst logger_1 = require(\"./logger\");\nconst analytics_node_1 = __importDefault(require(\"analytics-node\"));\nconst extensions_1 = require(\"./extensions\");\nconst IS_DEBUG = startedInDebugMode();\nlet DEFAULT_SEGMENT_KEY;\nvar SegmentInitializer;\n(function (SegmentInitializer) {\n    function initialize(clientPackageJson) {\n        let segmentWriteKey = getSegmentKey(clientPackageJson);\n        if (!segmentWriteKey) {\n            //Using the default key\n            if (!DEFAULT_SEGMENT_KEY) {\n                const defaultPackageJson = require('../../package.json');\n                DEFAULT_SEGMENT_KEY = getSegmentKey(defaultPackageJson);\n            }\n            segmentWriteKey = DEFAULT_SEGMENT_KEY;\n        }\n        if (segmentWriteKey) {\n            /*\n              flushAt: Number ->  The number of messages to enqueue before flushing.\n              flushInterval: Number ->    The number of milliseconds to wait before flushing the queue automatically.\n              ref: https://segment.com/docs/connections/sources/catalog/libraries/server/node/#configuration\n              */\n            let analytics = new analytics_node_1.default(segmentWriteKey, {\n                flushAt: 10,\n                flushInterval: 10000,\n            });\n            return analytics;\n        }\n        else {\n            logger_1.Logger.log('Missing segmentWriteKey from package.json OR package.json in vscode-commons');\n            return undefined;\n        }\n    }\n    SegmentInitializer.initialize = initialize;\n})(SegmentInitializer = exports.SegmentInitializer || (exports.SegmentInitializer = {}));\nfunction startedInDebugMode() {\n    const args = process.execArgv;\n    return hasDebugFlag(args);\n}\n// exported for tests\nfunction hasDebugFlag(args) {\n    return args\n        // See https://nodejs.org/en/docs/guides/debugging-getting-started/\n        && args.some(arg => /^--inspect/.test(arg) || /^--debug/.test(arg));\n}\nfunction getSegmentKey(packageJson) {\n    const extensionId = extensions_1.getExtensionId(packageJson);\n    let keyKey = 'segmentWriteKeyDebug';\n    try {\n        let clientSegmentKey = undefined;\n        if (IS_DEBUG) {\n            clientSegmentKey = packageJson[keyKey];\n        }\n        else {\n            keyKey = 'segmentWriteKey';\n            clientSegmentKey = packageJson[keyKey];\n        }\n        if (clientSegmentKey) {\n            logger_1.Logger.log(`'${extensionId}' ${keyKey} : ${clientSegmentKey}`);\n        }\n        return clientSegmentKey;\n    }\n    catch (error) {\n        logger_1.Logger.log(`Unable to get '${extensionId}' ${keyKey}: ${error}`);\n    }\n    return undefined;\n}\n//# sourceMappingURL=segmentInitializer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryEventQueue = exports.MAX_QUEUE_SIZE = void 0;\nexports.MAX_QUEUE_SIZE = 35;\nclass TelemetryEventQueue {\n    constructor() {\n        this.events = [];\n    }\n    /*\n      shift() should work fine until we choose to have high MAX_QUEUE_SIZE\n     */\n    addEvent(e) {\n        var _a, _b;\n        if (((_a = this.events) === null || _a === void 0 ? void 0 : _a.length) === exports.MAX_QUEUE_SIZE) {\n            this.events.shift();\n        }\n        (_b = this.events) === null || _b === void 0 ? void 0 : _b.push(e);\n    }\n    emptyQueue() {\n        this.events = undefined;\n    }\n}\nexports.TelemetryEventQueue = TelemetryEventQueue;\n//# sourceMappingURL=telemetryEventQueue.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UUID = void 0;\nconst os = __importStar(require(\"os\"));\nconst fs = __importStar(require(\"fs\"));\nconst path = __importStar(require(\"path\"));\nconst uuid_1 = require(\"uuid\");\nconst logger_1 = require(\"./logger\");\nlet REDHAT_ANONYMOUS_UUID;\nconst REDHAT_NAMESPACE_UUID = '44662bc6-c388-4e0e-a652-53bda6f35923';\nvar UUID;\n(function (UUID) {\n    function getRedHatUUID(redhatDir) {\n        if (REDHAT_ANONYMOUS_UUID) {\n            return REDHAT_ANONYMOUS_UUID;\n        }\n        const homedir = os.homedir();\n        if (!redhatDir) {\n            redhatDir = path.join(homedir, '.redhat');\n        }\n        const redhatUUIDFilePath = path.join(redhatDir, 'anonymousId');\n        try {\n            if (fs.existsSync(redhatUUIDFilePath)) {\n                const contents = fs.readFileSync(redhatUUIDFilePath, { encoding: 'utf8' });\n                if (contents) {\n                    REDHAT_ANONYMOUS_UUID = contents.trim();\n                }\n            }\n            if (REDHAT_ANONYMOUS_UUID) {\n                logger_1.Logger.log(`loaded Red Hat UUID: ${REDHAT_ANONYMOUS_UUID}`);\n            }\n            else {\n                logger_1.Logger.log('No Red Hat UUID found');\n                REDHAT_ANONYMOUS_UUID = uuid_1.v4();\n                if (!fs.existsSync(redhatDir)) {\n                    fs.mkdirSync(redhatDir);\n                }\n                fs.writeFileSync(redhatUUIDFilePath, REDHAT_ANONYMOUS_UUID, { encoding: 'utf8' });\n                logger_1.Logger.log(`Written Red Hat UUID: ${REDHAT_ANONYMOUS_UUID} to ${redhatUUIDFilePath}`);\n            }\n        }\n        catch (e) {\n            logger_1.Logger.log('Failed to access Red Hat UUID: ' + e.message);\n        }\n        return REDHAT_ANONYMOUS_UUID;\n    }\n    UUID.getRedHatUUID = getRedHatUUID;\n    function generateUUID(source) {\n        return uuid_1.v5(source, REDHAT_NAMESPACE_UUID);\n    }\n    UUID.generateUUID = generateUUID;\n})(UUID = exports.UUID || (exports.UUID = {}));\n//# sourceMappingURL=uuid.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTelemetryService = exports.getRedHatUUID = void 0;\nconst vscode = __importStar(require(\"vscode\"));\nconst logger_1 = require(\"./utils/logger\");\nlet REDHAT_UUID;\nlet vscodeCommonsAPI;\nfunction getRedHatUUID() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!REDHAT_UUID) {\n            yield ensureVSCodeCommonsActive();\n            REDHAT_UUID = yield (vscodeCommonsAPI === null || vscodeCommonsAPI === void 0 ? void 0 : vscodeCommonsAPI.getRedHatUUID());\n        }\n        return REDHAT_UUID;\n    });\n}\nexports.getRedHatUUID = getRedHatUUID;\nfunction getTelemetryService(extensionId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!extensionId) {\n            throw new Error(`clientExtensionId was not set!`);\n        }\n        yield ensureVSCodeCommonsActive();\n        return vscodeCommonsAPI === null || vscodeCommonsAPI === void 0 ? void 0 : vscodeCommonsAPI.getTelemetryService(extensionId);\n    });\n}\nexports.getTelemetryService = getTelemetryService;\nfunction ensureVSCodeCommonsActive() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (vscodeCommonsAPI) {\n            return;\n        }\n        const vscodeCommons = vscode.extensions.getExtension(\"redhat.vscode-commons\");\n        if (vscodeCommons && !vscodeCommons.isActive) {\n            yield vscodeCommons.activate().then(function () {\n                logger_1.Logger.log('redhat.vscode-commons activated');\n            }, function () {\n                logger_1.Logger.log('redhat.vscode-commons activation failed');\n            });\n        }\n        vscodeCommonsAPI = vscodeCommons === null || vscodeCommons === void 0 ? void 0 : vscodeCommons.exports;\n    });\n}\n//# sourceMappingURL=vsc-commons.js.map","var type = require('component-type')\nvar join = require('join-component')\nvar assert = require('assert')\n\n// Segment messages can be a maximum of 32kb.\nvar MAX_SIZE = 32 << 10\n\nmodule.exports = looselyValidateEvent\n\n/**\n * Validate an event.\n */\n\nfunction looselyValidateEvent (event, type) {\n  validateGenericEvent(event)\n  type = type || event.type\n  assert(type, 'You must pass an event type.')\n  switch (type) {\n    case 'track':\n      return validateTrackEvent(event)\n    case 'group':\n      return validateGroupEvent(event)\n    case 'identify':\n      return validateIdentifyEvent(event)\n    case 'page':\n      return validatePageEvent(event)\n    case 'screen':\n      return validateScreenEvent(event)\n    case 'alias':\n      return validateAliasEvent(event)\n    default:\n      assert(0, 'Invalid event type: \"' + type + '\"')\n  }\n}\n\n/**\n * Validate a \"track\" event.\n */\n\nfunction validateTrackEvent (event) {\n  assert(event.anonymousId || event.userId, 'You must pass either an \"anonymousId\" or a \"userId\".')\n  assert(event.event, 'You must pass an \"event\".')\n}\n\n/**\n * Validate a \"group\" event.\n */\n\nfunction validateGroupEvent (event) {\n  assert(event.anonymousId || event.userId, 'You must pass either an \"anonymousId\" or a \"userId\".')\n  assert(event.groupId, 'You must pass a \"groupId\".')\n}\n\n/**\n * Validate a \"identify\" event.\n */\n\nfunction validateIdentifyEvent (event) {\n  assert(event.anonymousId || event.userId, 'You must pass either an \"anonymousId\" or a \"userId\".')\n}\n\n/**\n * Validate a \"page\" event.\n */\n\nfunction validatePageEvent (event) {\n  assert(event.anonymousId || event.userId, 'You must pass either an \"anonymousId\" or a \"userId\".')\n}\n\n/**\n * Validate a \"screen\" event.\n */\n\nfunction validateScreenEvent (event) {\n  assert(event.anonymousId || event.userId, 'You must pass either an \"anonymousId\" or a \"userId\".')\n}\n\n/**\n * Validate an \"alias\" event.\n */\n\nfunction validateAliasEvent (event) {\n  assert(event.userId, 'You must pass a \"userId\".')\n  assert(event.previousId, 'You must pass a \"previousId\".')\n}\n\n/**\n * Validation rules.\n */\n\nvar genericValidationRules = {\n  anonymousId: [ 'string', 'number' ],\n  category: 'string',\n  context: 'object',\n  event: 'string',\n  groupId: [ 'string', 'number' ],\n  integrations: 'object',\n  name: 'string',\n  previousId: [ 'string', 'number' ],\n  timestamp: 'date',\n  userId: [ 'string', 'number' ],\n  type: 'string'\n}\n\n/**\n * Validate an event object.\n */\n\nfunction validateGenericEvent (event) {\n  assert(type(event) === 'object', 'You must pass a message object.')\n  var json = JSON.stringify(event)\n  // Strings are variable byte encoded, so json.length is not sufficient.\n  assert(Buffer.byteLength(json, 'utf8') < MAX_SIZE, 'Your message must be < 32kb.')\n\n  for (var key in genericValidationRules) {\n    var val = event[key]\n    if (!val) continue\n    var rule = genericValidationRules[key]\n    if (type(rule) !== 'array') {\n      rule = [ rule ]\n    }\n    var a = rule[0] === 'object' ? 'an' : 'a'\n    assert(\n      rule.some(function (e) { return type(val) === e }),\n      '\"' + key + '\" must be ' + a + ' ' + join(rule, 'or') + '.'\n    )\n  }\n}\n","'use strict'\n\nconst assert = require('assert')\nconst removeSlash = require('remove-trailing-slash')\nconst looselyValidate = require('@segment/loosely-validate-event')\nconst axios = require('axios')\nconst axiosRetry = require('axios-retry')\nconst ms = require('ms')\nconst uuid = require('uuid/v4')\nconst md5 = require('md5')\nconst version = require('./package.json').version\nconst isString = require('lodash.isstring')\n\nconst setImmediate = global.setImmediate || process.nextTick.bind(process)\nconst noop = () => {}\n\nclass Analytics {\n  /**\n   * Initialize a new `Analytics` with your Segment project's `writeKey` and an\n   * optional dictionary of `options`.\n   *\n   * @param {String} writeKey\n   * @param {Object} [options] (optional)\n   *   @property {Number} flushAt (default: 20)\n   *   @property {Number} flushInterval (default: 10000)\n   *   @property {String} host (default: 'https://api.segment.io')\n   *   @property {Boolean} enable (default: true)\n   */\n\n  constructor (writeKey, options) {\n    options = options || {}\n\n    assert(writeKey, 'You must pass your Segment project\\'s write key.')\n\n    this.queue = []\n    this.writeKey = writeKey\n    this.host = removeSlash(options.host || 'https://api.segment.io')\n    this.timeout = options.timeout || false\n    this.flushAt = Math.max(options.flushAt, 1) || 20\n    this.flushInterval = options.flushInterval || 10000\n    this.flushed = false\n    Object.defineProperty(this, 'enable', {\n      configurable: false,\n      writable: false,\n      enumerable: true,\n      value: typeof options.enable === 'boolean' ? options.enable : true\n    })\n    this.axiosClient = axios.create()\n    axiosRetry(this.axiosClient, {\n      retries: options.retryCount || 3,\n      retryCondition: this._isErrorRetryable,\n      retryDelay: axiosRetry.exponentialDelay\n    })\n  }\n\n  _validate (message, type) {\n    try {\n      looselyValidate(message, type)\n    } catch (e) {\n      if (e.message === 'Your message must be < 32kb.') {\n        console.log('Your message must be < 32kb. This is currently surfaced as a warning to allow clients to update. Versions released after August 1, 2018 will throw an error instead. Please update your code before then.', message)\n        return\n      }\n      throw e\n    }\n  }\n\n  /**\n   * Send an identify `message`.\n   *\n   * @param {Object} message\n   * @param {Function} [callback] (optional)\n   * @return {Analytics}\n   */\n\n  identify (message, callback) {\n    this._validate(message, 'identify')\n    this.enqueue('identify', message, callback)\n    return this\n  }\n\n  /**\n   * Send a group `message`.\n   *\n   * @param {Object} message\n   * @param {Function} [callback] (optional)\n   * @return {Analytics}\n   */\n\n  group (message, callback) {\n    this._validate(message, 'group')\n    this.enqueue('group', message, callback)\n    return this\n  }\n\n  /**\n   * Send a track `message`.\n   *\n   * @param {Object} message\n   * @param {Function} [callback] (optional)\n   * @return {Analytics}\n   */\n\n  track (message, callback) {\n    this._validate(message, 'track')\n    this.enqueue('track', message, callback)\n    return this\n  }\n\n  /**\n   * Send a page `message`.\n   *\n   * @param {Object} message\n   * @param {Function} [callback] (optional)\n   * @return {Analytics}\n   */\n\n  page (message, callback) {\n    this._validate(message, 'page')\n    this.enqueue('page', message, callback)\n    return this\n  }\n\n  /**\n   * Send a screen `message`.\n   *\n   * @param {Object} message\n   * @param {Function} fn (optional)\n   * @return {Analytics}\n   */\n\n  screen (message, callback) {\n    this._validate(message, 'screen')\n    this.enqueue('screen', message, callback)\n    return this\n  }\n\n  /**\n   * Send an alias `message`.\n   *\n   * @param {Object} message\n   * @param {Function} [callback] (optional)\n   * @return {Analytics}\n   */\n\n  alias (message, callback) {\n    this._validate(message, 'alias')\n    this.enqueue('alias', message, callback)\n    return this\n  }\n\n  /**\n   * Add a `message` of type `type` to the queue and\n   * check whether it should be flushed.\n   *\n   * @param {String} type\n   * @param {Object} message\n   * @param {Function} [callback] (optional)\n   * @api private\n   */\n\n  enqueue (type, message, callback) {\n    callback = callback || noop\n\n    if (!this.enable) {\n      return setImmediate(callback)\n    }\n\n    message = Object.assign({}, message)\n    message.type = type\n    message.context = Object.assign({\n      library: {\n        name: 'analytics-node',\n        version\n      }\n    }, message.context)\n\n    message._metadata = Object.assign({\n      nodeVersion: process.versions.node\n    }, message._metadata)\n\n    if (!message.timestamp) {\n      message.timestamp = new Date()\n    }\n\n    if (!message.messageId) {\n      // We md5 the messaage to add more randomness. This is primarily meant\n      // for use in the browser where the uuid package falls back to Math.random()\n      // which is not a great source of randomness.\n      // Borrowed from analytics.js (https://github.com/segment-integrations/analytics.js-integration-segmentio/blob/a20d2a2d222aeb3ab2a8c7e72280f1df2618440e/lib/index.js#L255-L256).\n      message.messageId = `node-${md5(JSON.stringify(message))}-${uuid()}`\n    }\n\n    // Historically this library has accepted strings and numbers as IDs.\n    // However, our spec only allows strings. To avoid breaking compatibility,\n    // we'll coerce these to strings if they aren't already.\n    if (message.anonymousId && !isString(message.anonymousId)) {\n      message.anonymousId = JSON.stringify(message.anonymousId)\n    }\n    if (message.userId && !isString(message.userId)) {\n      message.userId = JSON.stringify(message.userId)\n    }\n\n    this.queue.push({ message, callback })\n\n    if (!this.flushed) {\n      this.flushed = true\n      this.flush()\n      return\n    }\n\n    if (this.queue.length >= this.flushAt) {\n      this.flush()\n    }\n\n    if (this.flushInterval && !this.timer) {\n      this.timer = setTimeout(this.flush.bind(this), this.flushInterval)\n    }\n  }\n\n  /**\n   * Flush the current queue\n   *\n   * @param {Function} [callback] (optional)\n   * @return {Analytics}\n   */\n\n  flush (callback) {\n    callback = callback || noop\n\n    if (!this.enable) {\n      return setImmediate(callback)\n    }\n\n    if (this.timer) {\n      clearTimeout(this.timer)\n      this.timer = null\n    }\n\n    if (!this.queue.length) {\n      return setImmediate(callback)\n    }\n\n    const items = this.queue.splice(0, this.flushAt)\n    const callbacks = items.map(item => item.callback)\n    const messages = items.map(item => item.message)\n\n    const data = {\n      batch: messages,\n      timestamp: new Date(),\n      sentAt: new Date()\n    }\n\n    const done = err => {\n      callbacks.forEach(callback => callback(err))\n      callback(err, data)\n    }\n\n    // Don't set the user agent if we're not on a browser. The latest spec allows\n    // the User-Agent header (see https://fetch.spec.whatwg.org/#terminology-headers\n    // and https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/setRequestHeader),\n    // but browsers such as Chrome and Safari have not caught up.\n    const headers = {}\n    if (typeof window === 'undefined') {\n      headers['user-agent'] = `analytics-node/${version}`\n    }\n\n    const req = {\n      method: 'POST',\n      url: `${this.host}/v1/batch`,\n      auth: {\n        username: this.writeKey\n      },\n      data,\n      headers\n    }\n\n    if (this.timeout) {\n      req.timeout = typeof this.timeout === 'string' ? ms(this.timeout) : this.timeout\n    }\n\n    this.axiosClient(req)\n      .then(() => done())\n      .catch(err => {\n        if (err.response) {\n          const error = new Error(err.response.statusText)\n          return done(error)\n        }\n\n        done(err)\n      })\n  }\n\n  _isErrorRetryable (error) {\n    // Retry Network Errors.\n    if (axiosRetry.isNetworkError(error)) {\n      return true\n    }\n\n    if (!error.response) {\n      // Cannot determine if the request can be retried\n      return false\n    }\n\n    // Retry Server Errors (5xx).\n    if (error.response.status >= 500 && error.response.status <= 599) {\n      return true\n    }\n\n    // Retry if rate limited.\n    if (error.response.status === 429) {\n      return true\n    }\n\n    return false\n  }\n}\n\nmodule.exports = Analytics\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In node.js\n// this is pretty straight-forward - we use the crypto API.\n\nvar crypto = require('crypto');\n\nmodule.exports = function nodeRNG() {\n  return crypto.randomBytes(16);\n};\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","module.exports = require('./lib/index').default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isNetworkError = isNetworkError;\nexports.isRetryableError = isRetryableError;\nexports.isSafeRequestError = isSafeRequestError;\nexports.isIdempotentRequestError = isIdempotentRequestError;\nexports.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\nexports.exponentialDelay = exponentialDelay;\nexports.default = axiosRetry;\n\nvar _isRetryAllowed = require('is-retry-allowed');\n\nvar _isRetryAllowed2 = _interopRequireDefault(_isRetryAllowed);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar namespace = 'axios-retry';\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isNetworkError(error) {\n  return !error.response && Boolean(error.code) && // Prevents retrying cancelled requests\n  error.code !== 'ECONNABORTED' && // Prevents retrying timed out requests\n  (0, _isRetryAllowed2.default)(error); // Prevents retrying unsafe errors\n}\n\nvar SAFE_HTTP_METHODS = ['get', 'head', 'options'];\nvar IDEMPOTENT_HTTP_METHODS = SAFE_HTTP_METHODS.concat(['put', 'delete']);\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isRetryableError(error) {\n  return error.code !== 'ECONNABORTED' && (!error.response || error.response.status >= 500 && error.response.status <= 599);\n}\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isSafeRequestError(error) {\n  if (!error.config) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n\n  return isRetryableError(error) && SAFE_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isIdempotentRequestError(error) {\n  if (!error.config) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n\n  return isRetryableError(error) && IDEMPOTENT_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isNetworkOrIdempotentRequestError(error) {\n  return isNetworkError(error) || isIdempotentRequestError(error);\n}\n\n/**\n * @return {number} - delay in milliseconds, always 0\n */\nfunction noDelay() {\n  return 0;\n}\n\n/**\n * @param  {number} [retryNumber=0]\n * @return {number} - delay in milliseconds\n */\nfunction exponentialDelay() {\n  var retryNumber = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  var delay = Math.pow(2, retryNumber) * 100;\n  var randomSum = delay * 0.2 * Math.random(); // 0-20% of the delay\n  return delay + randomSum;\n}\n\n/**\n * Initializes and returns the retry state for the given request/config\n * @param  {AxiosRequestConfig} config\n * @return {Object}\n */\nfunction getCurrentState(config) {\n  var currentState = config[namespace] || {};\n  currentState.retryCount = currentState.retryCount || 0;\n  config[namespace] = currentState;\n  return currentState;\n}\n\n/**\n * Returns the axios-retry options for the current request\n * @param  {AxiosRequestConfig} config\n * @param  {AxiosRetryConfig} defaultOptions\n * @return {AxiosRetryConfig}\n */\nfunction getRequestOptions(config, defaultOptions) {\n  return Object.assign({}, defaultOptions, config[namespace]);\n}\n\n/**\n * @param  {Axios} axios\n * @param  {AxiosRequestConfig} config\n */\nfunction fixConfig(axios, config) {\n  if (axios.defaults.agent === config.agent) {\n    delete config.agent;\n  }\n  if (axios.defaults.httpAgent === config.httpAgent) {\n    delete config.httpAgent;\n  }\n  if (axios.defaults.httpsAgent === config.httpsAgent) {\n    delete config.httpsAgent;\n  }\n}\n\n/**\n * Adds response interceptors to an axios instance to retry requests failed due to network issues\n *\n * @example\n *\n * import axios from 'axios';\n *\n * axiosRetry(axios, { retries: 3 });\n *\n * axios.get('http://example.com/test') // The first request fails and the second returns 'ok'\n *   .then(result => {\n *     result.data; // 'ok'\n *   });\n *\n * // Exponential back-off retry delay between requests\n * axiosRetry(axios, { retryDelay : axiosRetry.exponentialDelay});\n *\n * // Custom retry delay\n * axiosRetry(axios, { retryDelay : (retryCount) => {\n *   return retryCount * 1000;\n * }});\n *\n * // Also works with custom axios instances\n * const client = axios.create({ baseURL: 'http://example.com' });\n * axiosRetry(client, { retries: 3 });\n *\n * client.get('/test') // The first request fails and the second returns 'ok'\n *   .then(result => {\n *     result.data; // 'ok'\n *   });\n *\n * // Allows request-specific configuration\n * client\n *   .get('/test', {\n *     'axios-retry': {\n *       retries: 0\n *     }\n *   })\n *   .catch(error => { // The first request fails\n *     error !== undefined\n *   });\n *\n * @param {Axios} axios An axios instance (the axios object or one created from axios.create)\n * @param {Object} [defaultOptions]\n * @param {number} [defaultOptions.retries=3] Number of retries\n * @param {boolean} [defaultOptions.shouldResetTimeout=false]\n *        Defines if the timeout should be reset between retries\n * @param {Function} [defaultOptions.retryCondition=isNetworkOrIdempotentRequestError]\n *        A function to determine if the error can be retried\n * @param {Function} [defaultOptions.retryDelay=noDelay]\n *        A function to determine the delay between retry requests\n */\nfunction axiosRetry(axios, defaultOptions) {\n  axios.interceptors.request.use(function (config) {\n    var currentState = getCurrentState(config);\n    currentState.lastRequestTime = Date.now();\n    return config;\n  });\n\n  axios.interceptors.response.use(null, function (error) {\n    var config = error.config;\n\n    // If we have no information to retry the request\n    if (!config) {\n      return Promise.reject(error);\n    }\n\n    var _getRequestOptions = getRequestOptions(config, defaultOptions),\n        _getRequestOptions$re = _getRequestOptions.retries,\n        retries = _getRequestOptions$re === undefined ? 3 : _getRequestOptions$re,\n        _getRequestOptions$re2 = _getRequestOptions.retryCondition,\n        retryCondition = _getRequestOptions$re2 === undefined ? isNetworkOrIdempotentRequestError : _getRequestOptions$re2,\n        _getRequestOptions$re3 = _getRequestOptions.retryDelay,\n        retryDelay = _getRequestOptions$re3 === undefined ? noDelay : _getRequestOptions$re3,\n        _getRequestOptions$sh = _getRequestOptions.shouldResetTimeout,\n        shouldResetTimeout = _getRequestOptions$sh === undefined ? false : _getRequestOptions$sh;\n\n    var currentState = getCurrentState(config);\n\n    var shouldRetry = retryCondition(error) && currentState.retryCount < retries;\n\n    if (shouldRetry) {\n      currentState.retryCount += 1;\n      var delay = retryDelay(currentState.retryCount, error);\n\n      // Axios fails merging this configuration to the default configuration because it has an issue\n      // with circular structures: https://github.com/mzabriskie/axios/issues/370\n      fixConfig(axios, config);\n\n      if (!shouldResetTimeout && config.timeout && currentState.lastRequestTime) {\n        var lastRequestDuration = Date.now() - currentState.lastRequestTime;\n        // Minimum 1ms timeout (passing 0 or less to XHR means no timeout)\n        config.timeout = Math.max(config.timeout - lastRequestDuration - delay, 1);\n      }\n\n      config.transformRequest = [function (data) {\n        return data;\n      }];\n\n      return new Promise(function (resolve) {\n        return setTimeout(function () {\n          return resolve(axios(config));\n        }, delay);\n      });\n    }\n\n    return Promise.reject(error);\n  });\n}\n\n// Compatibility with CommonJS\naxiosRetry.isNetworkError = isNetworkError;\naxiosRetry.isSafeRequestError = isSafeRequestError;\naxiosRetry.isIdempotentRequestError = isIdempotentRequestError;\naxiosRetry.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\naxiosRetry.exponentialDelay = exponentialDelay;\naxiosRetry.isRetryableError = isRetryableError;\n//# sourceMappingURL=index.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var resolve = function resolve(value) {\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n\n    // Set User-Agent (required by some servers)\n    // Only set header if it hasn't been set in config\n    // See https://github.com/axios/axios/issues/69\n    if (!headers['User-Agent'] && !headers['user-agent']) {\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && Buffer.concat(responseBuffer).length > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(config.timeout, function handleRequestTimeout() {\n        req.abort();\n        reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', req));\n      });\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  if (isBuffer(val)) return 'buffer';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val);\n\n  return typeof val;\n};\n\n// code borrowed from https://github.com/feross/is-buffer/blob/master/index.js\nfunction isBuffer(obj) {\n  return !!(obj != null &&\n    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)\n      (obj.constructor &&\n      typeof obj.constructor.isBuffer === 'function' &&\n      obj.constructor.isBuffer(obj))\n    ))\n}\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","var join = require(\"path\").join;\nvar homedir = process.env[(process.platform == 'win32') ? 'USERPROFILE' : 'HOME'];\n\nmodule.exports = expandHomeDir;\n\nfunction expandHomeDir (path) {\n  if (!path) return path;\n  if (path == '~') return homedir;\n  if (path.slice(0, 2) != '~/') return path;\n  return join(homedir, path.slice(2));\n}\n","\"use strict\";\n/* Copyright 2013 Joseph Spencer.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar fs = __importStar(require(\"fs\"));\nvar path = __importStar(require(\"path\"));\nvar cp = __importStar(require(\"child_process\"));\nvar which_1 = __importDefault(require(\"which\"));\nvar winreg_1 = __importDefault(require(\"winreg\"));\nvar child_process_1 = require(\"child_process\");\nvar isWindows = process.platform.indexOf('win') === 0;\nvar jdkRegistryKeyPaths = [\n    \"\\\\SOFTWARE\\\\JavaSoft\\\\JDK\",\n    \"\\\\SOFTWARE\\\\JavaSoft\\\\Java Development Kit\"\n];\nvar jreRegistryKeyPaths = [\n    \"\\\\SOFTWARE\\\\JavaSoft\\\\Java Runtime Environment\"\n];\nfunction findJavaHome(optionsOrCb, optional) {\n    return __awaiter(this, void 0, void 0, function () {\n        var cb, options, res, err, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!optional) {\n                        cb = optionsOrCb;\n                        options = undefined;\n                    }\n                    else {\n                        options = optionsOrCb;\n                        cb = optional;\n                    }\n                    res = undefined;\n                    err = null;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, findJavaHomePromise(options)];\n                case 2:\n                    res = _a.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    err = error_1;\n                    return [3 /*break*/, 4];\n                case 4:\n                    cb(err, res);\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction findJavaHomePromise(options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var allowJre, JAVA_FILENAME, regs, possibleKeyPaths, javaHome;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    allowJre = !!(options && options.allowJre);\n                    JAVA_FILENAME = (allowJre ? 'java' : 'javac') + (isWindows ? '.exe' : '');\n                    regs = (options && options.registry) ? [options.registry] : [\"x64\", \"x86\"];\n                    // From env\n                    if (process.env.JAVA_HOME && dirIsJavaHome(process.env.JAVA_HOME, JAVA_FILENAME)) {\n                        return [2 /*return*/, process.env.JAVA_HOME];\n                    }\n                    if (!isWindows) return [3 /*break*/, 2];\n                    possibleKeyPaths = allowJre ? jdkRegistryKeyPaths.concat(jreRegistryKeyPaths) : jdkRegistryKeyPaths;\n                    return [4 /*yield*/, findInRegistry(possibleKeyPaths, regs)];\n                case 1:\n                    javaHome = _a.sent();\n                    if (javaHome) {\n                        return [2 /*return*/, javaHome];\n                    }\n                    _a.label = 2;\n                case 2: return [4 /*yield*/, findInPath(JAVA_FILENAME)];\n                case 3: \n                // From PATH\n                return [2 /*return*/, _a.sent()];\n            }\n        });\n    });\n}\nfunction findInPath(JAVA_FILENAME) {\n    return new Promise(function (resolve) {\n        which_1.default(JAVA_FILENAME, function (err, proposed) {\n            if (err || !proposed) {\n                return resolve(null);\n            }\n            if (/\\.jenv\\/shims/.test(proposed)) {\n                try {\n                    var jenvProposed = child_process_1.execSync(\"jenv which \" + JAVA_FILENAME).toString().trim();\n                    proposed = jenvProposed;\n                }\n                catch (ex) {\n                    console.error(ex);\n                }\n            }\n            //resolve symlinks\n            proposed = findLinkedFile(proposed);\n            //get the /bin directory\n            proposed = path.dirname(proposed);\n            //on mac, java install has a utility script called java_home that does the\n            //dirty work for us\n            var macUtility = path.resolve(proposed, 'java_home');\n            if (fs.existsSync(macUtility)) {\n                var buffer = void 0;\n                try {\n                    buffer = cp.execSync(macUtility, { cwd: proposed });\n                    var javaHome = '' + buffer.toString().replace(/\\n$/, '');\n                    return resolve(javaHome);\n                }\n                catch (error) {\n                    return resolve(null);\n                }\n            }\n            //up one from /bin\n            resolve(path.dirname(proposed));\n        });\n    });\n}\nfunction findInRegistry(keyPaths, regArchs) {\n    return __awaiter(this, void 0, void 0, function () {\n        var promises, _i, regArchs_1, arch, _a, keyPaths_1, keyPath, keysFoundSegments, keysFound, sortedKeysFound, _b, sortedKeysFound_1, key, res;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!keyPaths.length)\n                        return [2 /*return*/, null];\n                    promises = [];\n                    for (_i = 0, regArchs_1 = regArchs; _i < regArchs_1.length; _i++) {\n                        arch = regArchs_1[_i];\n                        for (_a = 0, keyPaths_1 = keyPaths; _a < keyPaths_1.length; _a++) {\n                            keyPath = keyPaths_1[_a];\n                            promises.push(promisifyFindPossibleRegKey(keyPath, arch));\n                        }\n                    }\n                    return [4 /*yield*/, Promise.all(promises)];\n                case 1:\n                    keysFoundSegments = _c.sent();\n                    keysFound = Array.prototype.concat.apply([], keysFoundSegments);\n                    if (!keysFound.length)\n                        return [2 /*return*/, null];\n                    sortedKeysFound = keysFound.sort(function (a, b) {\n                        var aVer = parseFloat(a.key);\n                        var bVer = parseFloat(b.key);\n                        return bVer - aVer;\n                    });\n                    _b = 0, sortedKeysFound_1 = sortedKeysFound;\n                    _c.label = 2;\n                case 2:\n                    if (!(_b < sortedKeysFound_1.length)) return [3 /*break*/, 5];\n                    key = sortedKeysFound_1[_b];\n                    return [4 /*yield*/, promisifyFindJavaHomeInRegKey(key)];\n                case 3:\n                    res = _c.sent();\n                    if (res) {\n                        return [2 /*return*/, res];\n                    }\n                    _c.label = 4;\n                case 4:\n                    _b++;\n                    return [3 /*break*/, 2];\n                case 5: return [2 /*return*/, null];\n            }\n        });\n    });\n}\nfunction promisifyFindPossibleRegKey(keyPath, regArch) {\n    return new Promise(function (resolve) {\n        var winreg = new winreg_1.default({\n            hive: winreg_1.default.HKLM,\n            key: keyPath,\n            arch: regArch\n        });\n        winreg.keys(function (err, result) {\n            if (err) {\n                return resolve([]);\n            }\n            resolve(result);\n        });\n    });\n}\nfunction promisifyFindJavaHomeInRegKey(reg) {\n    return new Promise(function (resolve) {\n        reg.get('JavaHome', function (err, home) {\n            if (err || !home) {\n                return resolve(null);\n            }\n            resolve(home.value);\n        });\n    });\n}\nfunction dirIsJavaHome(dir, javaFilename) {\n    return fs.existsSync('' + dir)\n        && fs.statSync(dir).isDirectory()\n        && fs.existsSync(path.resolve(dir, 'bin', javaFilename));\n}\n// iterate through symbolic links until\n// file is found\nfunction findLinkedFile(file) {\n    if (!fs.lstatSync(file).isSymbolicLink())\n        return file;\n    return findLinkedFile(fs.readlinkSync(file));\n}\nmodule.exports = findJavaHome;\n//# sourceMappingURL=index.js.map","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Create handlers that pass events from native requests\nvar eventHandlers = Object.create(null);\n[\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"].forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\"\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  // Abort the internal request\n  this._currentRequest.removeAllListeners();\n  this._currentRequest.on(\"error\", noop);\n  this._currentRequest.abort();\n\n  // Abort this request\n  this.emit(\"abort\");\n  this.removeAllListeners();\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!(typeof data === \"string\" || typeof data === \"object\" && (\"length\" in data))) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (typeof data === \"function\") {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer() {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n  }\n\n  // Prevent a timeout from triggering\n  function clearTimer() {\n    clearTimeout(this._timeout);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!this.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Start the timer when the socket is opened\n  if (this.socket) {\n    startTimer();\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  this.once(\"response\", clearTimer);\n  this.once(\"error\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.substr(0, protocol.length - 1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  this._currentUrl = url.format(this._options);\n\n  // Set up event handlers\n  request._redirectable = this;\n  for (var event in eventHandlers) {\n    /* istanbul ignore else */\n    if (event) {\n      request.on(event, eventHandlers[event]);\n    }\n  }\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end.\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      /* istanbul ignore else */\n      if (request === self._currentRequest) {\n        // Report any write errors\n        /* istanbul ignore if */\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          /* istanbul ignore else */\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n  var location = response.headers.location;\n  if (location && this._options.followRedirects !== false &&\n      statusCode >= 300 && statusCode < 400) {\n    // Abort the current request\n    this._currentRequest.removeAllListeners();\n    this._currentRequest.on(\"error\", noop);\n    this._currentRequest.abort();\n    // Discard the remainder of the response to avoid waiting for data\n    response.destroy();\n\n    // RFC7231§6.4: A client SHOULD detect and intervene\n    // in cyclical redirections (i.e., \"infinite\" redirection loops).\n    if (++this._redirectCount > this._options.maxRedirects) {\n      this.emit(\"error\", new TooManyRedirectsError());\n      return;\n    }\n\n    // RFC7231§6.4: Automatic redirection needs to done with\n    // care for methods not known to be safe, […]\n    // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n    // the request method from POST to GET for the subsequent request.\n    if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n        // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n        // the server is redirecting the user agent to a different resource […]\n        // A user agent can perform a retrieval request targeting that URI\n        // (a GET or HEAD request if using HTTP) […]\n        (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n      this._options.method = \"GET\";\n      // Drop a possible entity and headers related to it\n      this._requestBodyBuffers = [];\n      removeMatchingHeaders(/^content-/i, this._options.headers);\n    }\n\n    // Drop the Host header, as the redirect might lead to a different host\n    var previousHostName = removeMatchingHeaders(/^host$/i, this._options.headers) ||\n      url.parse(this._currentUrl).hostname;\n\n    // Create the redirected request\n    var redirectUrl = url.resolve(this._currentUrl, location);\n    debug(\"redirecting to\", redirectUrl);\n    this._isRedirect = true;\n    var redirectUrlParts = url.parse(redirectUrl);\n    Object.assign(this._options, redirectUrlParts);\n\n    // Drop the Authorization header if redirecting to another host\n    if (redirectUrlParts.hostname !== previousHostName) {\n      removeMatchingHeaders(/^authorization$/i, this._options.headers);\n    }\n\n    // Evaluate the beforeRedirect callback\n    if (typeof this._options.beforeRedirect === \"function\") {\n      var responseDetails = { headers: response.headers };\n      try {\n        this._options.beforeRedirect.call(null, this._options, responseDetails);\n      }\n      catch (err) {\n        this.emit(\"error\", err);\n        return;\n      }\n      this._sanitizeOptions(this._options);\n    }\n\n    // Perform the redirected request\n    try {\n      this._performRequest();\n    }\n    catch (cause) {\n      var error = new RedirectionError(\"Redirected request failed: \" + cause.message);\n      error.cause = cause;\n      this.emit(\"error\", error);\n    }\n  }\n  else {\n    // The response is not a redirect; return it as-is\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters\n      if (typeof input === \"string\") {\n        var urlStr = input;\n        try {\n          input = urlToOptions(new URL(urlStr));\n        }\n        catch (err) {\n          /* istanbul ignore next */\n          input = url.parse(urlStr);\n        }\n      }\n      else if (URL && (input instanceof URL)) {\n        input = urlToOptions(input);\n      }\n      else {\n        callback = options;\n        options = input;\n        input = { protocol: protocol };\n      }\n      if (typeof options === \"function\") {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\n/* istanbul ignore next */\nfunction noop() { /* empty */ }\n\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\nfunction urlToOptions(urlObject) {\n  var options = {\n    protocol: urlObject.protocol,\n    hostname: urlObject.hostname.startsWith(\"[\") ?\n      /* istanbul ignore next */\n      urlObject.hostname.slice(1, -1) :\n      urlObject.hostname,\n    hash: urlObject.hash,\n    search: urlObject.search,\n    pathname: urlObject.pathname,\n    path: urlObject.pathname + urlObject.search,\n    href: urlObject.href,\n  };\n  if (urlObject.port !== \"\") {\n    options.port = Number(urlObject.port);\n  }\n  return options;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return lastValue;\n}\n\nfunction createErrorType(code, defaultMessage) {\n  function CustomError(message) {\n    Error.captureStackTrace(this, this.constructor);\n    this.message = message || defaultMessage;\n  }\n  CustomError.prototype = new Error();\n  CustomError.prototype.constructor = CustomError;\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\n  CustomError.prototype.code = code;\n  return CustomError;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","exports.alphasort = alphasort\nexports.alphasorti = alphasorti\nexports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasorti (a, b) {\n  return a.toLowerCase().localeCompare(b.toLowerCase())\n}\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b)\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(self.nocase ? alphasorti : alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar WHITELIST = [\n\t'ETIMEDOUT',\n\t'ECONNRESET',\n\t'EADDRINUSE',\n\t'ESOCKETTIMEDOUT',\n\t'ECONNREFUSED',\n\t'EPIPE',\n\t'EHOSTUNREACH',\n\t'EAI_AGAIN'\n];\n\nvar BLACKLIST = [\n\t'ENOTFOUND',\n\t'ENETUNREACH',\n\n\t// SSL errors from https://github.com/nodejs/node/blob/ed3d8b13ee9a705d89f9e0397d9e96519e7e47ac/src/node_crypto.cc#L1950\n\t'UNABLE_TO_GET_ISSUER_CERT',\n\t'UNABLE_TO_GET_CRL',\n\t'UNABLE_TO_DECRYPT_CERT_SIGNATURE',\n\t'UNABLE_TO_DECRYPT_CRL_SIGNATURE',\n\t'UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY',\n\t'CERT_SIGNATURE_FAILURE',\n\t'CRL_SIGNATURE_FAILURE',\n\t'CERT_NOT_YET_VALID',\n\t'CERT_HAS_EXPIRED',\n\t'CRL_NOT_YET_VALID',\n\t'CRL_HAS_EXPIRED',\n\t'ERROR_IN_CERT_NOT_BEFORE_FIELD',\n\t'ERROR_IN_CERT_NOT_AFTER_FIELD',\n\t'ERROR_IN_CRL_LAST_UPDATE_FIELD',\n\t'ERROR_IN_CRL_NEXT_UPDATE_FIELD',\n\t'OUT_OF_MEM',\n\t'DEPTH_ZERO_SELF_SIGNED_CERT',\n\t'SELF_SIGNED_CERT_IN_CHAIN',\n\t'UNABLE_TO_GET_ISSUER_CERT_LOCALLY',\n\t'UNABLE_TO_VERIFY_LEAF_SIGNATURE',\n\t'CERT_CHAIN_TOO_LONG',\n\t'CERT_REVOKED',\n\t'INVALID_CA',\n\t'PATH_LENGTH_EXCEEDED',\n\t'INVALID_PURPOSE',\n\t'CERT_UNTRUSTED',\n\t'CERT_REJECTED'\n];\n\nmodule.exports = function (err) {\n\tif (!err || !err.code) {\n\t\treturn true;\n\t}\n\n\tif (WHITELIST.indexOf(err.code) !== -1) {\n\t\treturn true;\n\t}\n\n\tif (BLACKLIST.indexOf(err.code) !== -1) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n","\n/**\n * Join `arr` with the trailing `str` defaulting to \"and\",\n * and `sep` string defaulting to \", \".\n *\n * @param {Array} arr\n * @param {String} str\n * @param {String} sep\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(arr, str, sep){\n  str = str || 'and';\n  sep = sep || ', ';\n\n  if (arr.length < 2) return arr[0] || '';\n\n  var oxford = str.slice(0, 2) === sep;\n\n  if (!oxford) {\n    str = ' ' + str;\n  } else if (arr.length == 2) {\n    str = str.slice(1);\n  }\n\n  return arr.slice(0, -1).join(sep) + str + ' ' + arr[arr.length - 1];\n};\n","/**\n * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\nmodule.exports = isString;\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","\n/**\n * Remove trailing slashes from the given `str`\n *\n * @api public\n * @param {String} str\n * @return {String}\n */\nexports = module.exports = function (str) {\n  return String(str).replace(exports.expr, '');\n};\n\n/**\n * Expose the regex\n *\n * @api private\n * @type {RegExp}\n */\nexports.expr = /\\/+$/;\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","/**\n * Copyright 2019 Red Hat, Inc. and others.\n\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n *     http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// MicroProfile language server request and notifications\nexport namespace MicroProfileLS {\n  export const PROJECT_INFO_REQUEST = 'microprofile/projectInfo';\n  export const PROPERTY_DEFINITION_REQUEST = 'microprofile/propertyDefinition';\n  export const JSON_SCHEMA_FOR_PROJECT_INFO_REQUEST = 'microprofile/jsonSchemaForProjectInfo';\n  export const JAVA_CODEACTION_REQUEST = 'microprofile/java/codeAction';\n  export const JAVA_CODELENS_REQUEST = 'microprofile/java/codeLens';\n  export const JAVA_COMPLETION_REQUEST = 'microprofile/java/completion';\n  export const JAVA_DEFINITION_REQUEST = 'microprofile/java/definition';\n  export const JAVA_DIAGNOSTICS_REQUEST = 'microprofile/java/diagnostics';\n  export const JAVA_HOVER_REQUEST = 'microprofile/java/hover';\n  export const JAVA_FILE_INFO_REQUEST = 'microprofile/java/fileInfo';\n  export const JAVA_PROJECT_LABELS_REQUEST = 'microprofile/java/projectLabels';\n  export const PROPERTIES_CHANGED_NOTIFICATION = 'microprofile/propertiesChanged';\n}\n\nexport namespace Commands {\n  export const RELOAD_WINDOW = 'workbench.action.reloadWindow';\n}\n","/**\n * Copyright 2019 Red Hat, Inc. and others.\n\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n *     http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getTelemetryService, TelemetryService } from '@redhat-developer/vscode-redhat-telemetry/lib';\nimport { commands, ExtensionContext, extensions, window, workspace } from 'vscode';\nimport { DidChangeConfigurationNotification, DocumentSelector, LanguageClient, LanguageClientOptions } from 'vscode-languageclient';\nimport { MicroProfileLS } from './definitions/constants';\nimport { prepareExecutable } from './languageServer/javaServerStarter';\nimport { collectMicroProfileJavaExtensions, handleExtensionChange, MicroProfileContribution } from './languageServer/plugin';\nimport * as requirements from './languageServer/requirements';\nimport { CommandKind, registerConfigurationUpdateCommand, registerOpenURICommand } from './lsp-commands';\nimport { waitForStandardMode } from './util/javaServerMode';\nimport { MicroProfilePropertiesChangeEvent, registerYamlSchemaSupport } from './yaml/YamlSchema';\n\nlet languageClient: LanguageClient;\n\nexport async function activate(context: ExtensionContext) {\n\n  const telemetryService: TelemetryService = await getTelemetryService(\"redhat.vscode-microprofile\");\n  await telemetryService.sendStartupEvent();\n\n  /**\n   * Register Yaml Schema support to manage application.yaml\n   */\n  const yamlSchemaCache = registerYamlSchemaSupport();\n\n  /**\n   * Waits for the java language server to launch in standard mode\n   * Before activating Tools for MicroProfile.\n   * If java ls was started in lightweight mode, It will prompt user to switch\n   */\n  await waitForStandardMode();\n\n  connectToLS(context).then(() => {\n    yamlSchemaCache.then(cache => { if (cache) { cache.languageClient = languageClient; } });\n\n    /**\n     * Delegate requests from MicroProfile LS to the Java JDT LS\n     */\n    bindRequest(MicroProfileLS.PROJECT_INFO_REQUEST);\n    bindRequest(MicroProfileLS.PROPERTY_DEFINITION_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_CODEACTION_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_CODELENS_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_COMPLETION_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_DEFINITION_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_DIAGNOSTICS_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_HOVER_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_FILE_INFO_REQUEST);\n    bindRequest(MicroProfileLS.JAVA_PROJECT_LABELS_REQUEST);\n\n    /**\n     * Delegate notifications from Java JDT LS to the MicroProfile LS\n     */\n    context.subscriptions.push(commands.registerCommand(MicroProfileLS.PROPERTIES_CHANGED_NOTIFICATION, (event: MicroProfilePropertiesChangeEvent) => {\n      languageClient.sendNotification(MicroProfileLS.PROPERTIES_CHANGED_NOTIFICATION, event);\n      yamlSchemaCache.then(cache => { if (cache) cache.evict(event); });\n    }));\n  }).catch((error) => {\n    window.showErrorMessage(error.message, error.label).then((selection) => {\n      if (error.label && error.label === selection && error.openUrl) {\n        commands.executeCommand('vscode.open', error.openUrl);\n      }\n    });\n  });\n\n  function bindRequest(request: string) {\n    languageClient.onRequest(request, async (params: any) =>\n      <any>await commands.executeCommand(\"java.execute.workspaceCommand\", request, params)\n    );\n  }\n\n  registerVSCodeCommands(context);\n}\n\nexport async function deactivate() {\n  // language client may not have been started\n  // if java language server was never launched in standard mode.\n  if (languageClient) {\n    await languageClient.stop();\n  }\n}\n\nfunction registerVSCodeCommands(context: ExtensionContext) {\n  /**\n   * Register standard LSP commands\n   */\n  context.subscriptions.push(registerConfigurationUpdateCommand());\n  context.subscriptions.push(registerOpenURICommand());\n}\n\nfunction connectToLS(context: ExtensionContext) {\n  const microprofileContributions: MicroProfileContribution[] = collectMicroProfileJavaExtensions(extensions.all);\n  return requirements.resolveRequirements().then(requirements => {\n    const clientOptions: LanguageClientOptions = {\n      documentSelector: getDocumentSelector(microprofileContributions),\n      // wrap with key 'settings' so it can be handled same a DidChangeConfiguration\n      initializationOptions: {\n        settings: getVSCodeMicroProfileSettings(),\n        extendedClientCapabilities: {\n          commands: {\n            commandsKind: {\n              valueSet: [\n                CommandKind.COMMAND_CONFIGURATION_UPDATE,\n                CommandKind.COMMAND_OPEN_URI\n              ]\n            }\n          }\n        }\n      },\n      synchronize: {\n        // preferences starting with these will trigger didChangeConfiguration\n        configurationSection: ['microprofile', '[microprofile]']\n      },\n      middleware: {\n        workspace: {\n          didChangeConfiguration: () => {\n            languageClient.sendNotification(DidChangeConfigurationNotification.type, { settings: getVSCodeMicroProfileSettings() });\n          }\n        }\n      }\n    };\n\n    const serverOptions = prepareExecutable(requirements, getMicroProfileJarExtensions(microprofileContributions));\n\n    languageClient = new LanguageClient('microprofile.tools', 'Tools for MicroProfile', serverOptions, clientOptions);\n    context.subscriptions.push(languageClient.start());\n\n    if (extensions.onDidChange) {// Theia doesn't support this API yet\n      context.subscriptions.push(extensions.onDidChange(() => {\n        // if extensions that contribute mp java extensions change we need to reload the window\n        handleExtensionChange(extensions.all);\n      }));\n    }\n\n    return languageClient.onReady();\n  });\n\n  /**\n   * Returns the document selector.\n   *\n   * The returned document selector contains the microprofile-properties and java document selectors\n   * and all document selectors contained in `microProfileContributions`.\n   *\n   * @param microProfileContributions MicroProfile language server contributions from other VS Code extensions\n   */\n  function getDocumentSelector(microProfileContributions: MicroProfileContribution[]): DocumentSelector {\n    let documentSelector: DocumentSelector = [\n      { scheme: 'file', language: 'microprofile-properties' },\n      { scheme: 'file', language: 'java' }\n    ];\n    microProfileContributions.forEach((contribution: MicroProfileContribution) => {\n      documentSelector = documentSelector.concat(contribution.documentSelector);\n    });\n    return documentSelector;\n  }\n\n  /**\n   * Returns a json object with key 'microprofile' and a json object value that\n   * holds all microprofile settings.\n   */\n  function getVSCodeMicroProfileSettings(): { microprofile: any } {\n    const defaultMicroProfileSettings = {};\n    const configMicroProfile = workspace.getConfiguration().get('microprofile');\n    const microprofileSettings = configMicroProfile ? configMicroProfile : defaultMicroProfileSettings;\n\n    return {\n      microprofile: microprofileSettings,\n    };\n  }\n\n  /**\n   * Returns an array of paths to MicroProfileLS extension jars within `microProfileContributions`\n   *\n   * @param microProfileContributions MicroProfile language server contributions from other VS Code extensions\n   */\n  function getMicroProfileJarExtensions(microProfileContributions: MicroProfileContribution[]): string[] {\n    let jarPaths: string[] = [];\n    microProfileContributions.forEach((contribution: MicroProfileContribution) => {\n      if (contribution.jarExtensions && contribution.jarExtensions.length > 0) {\n        jarPaths = jarPaths.concat(contribution.jarExtensions);\n      }\n    });\n    return jarPaths;\n  }\n}\n","import * as os from 'os';\nimport * as path from 'path';\nimport { workspace } from 'vscode';\nimport { Executable, ExecutableOptions } from 'vscode-languageclient';\nimport { RequirementsData } from './requirements';\nconst glob = require('glob');\n\nconst DEBUG = startedInDebugMode();\nconst DEBUG_PORT = 1064;\nconst MICROPROFILE_SERVER_NAME = 'org.eclipse.lsp4mp.ls-uber.jar';\nconst MICROPROFILE_SERVER_MAIN_CLASS = 'org.eclipse.lsp4mp.ls.MicroProfileServerLauncher';\n\nexport function prepareExecutable(requirements: RequirementsData, microprofileJavaExtensions: string[]): Executable {\n  const executable: Executable = Object.create(null);\n  const options: ExecutableOptions = Object.create(null);\n  options.env = process.env;\n  options.stdio = 'pipe';\n  executable.options = options;\n  executable.command = path.resolve(requirements.java_home + '/bin/java');\n  executable.args = prepareParams(microprofileJavaExtensions);\n  return executable;\n}\n\nfunction prepareParams(microprofileJavaExtensions: string[]): string[] {\n  const params: string[] = [];\n  if (DEBUG) {\n    if (process.env.SUSPEND_SERVER === 'true') {\n      params.push(`-agentlib:jdwp=transport=dt_socket,server=y,address=${DEBUG_PORT}`);\n    } else {\n      params.push(`-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=${DEBUG_PORT},quiet=y`);\n    }\n  }\n\n  const vmargs = workspace.getConfiguration(\"microprofile.tools\").get(\"server.vmargs\", '');\n  if (os.platform() === 'win32') {\n    const watchParentProcess = '-DwatchParentProcess=';\n    if (vmargs.indexOf(watchParentProcess) < 0) {\n      params.push(watchParentProcess + 'false');\n    }\n  }\n  parseVMargs(params, vmargs);\n  const serverHome: string = path.resolve(__dirname, '../server');\n  const microprofileServerFound: Array<string> = glob.sync(`**/${MICROPROFILE_SERVER_NAME}`, { cwd: serverHome });\n  if (microprofileServerFound.length) {\n    let mpJavaExtensionsClasspath = '';\n    if (microprofileJavaExtensions.length > 0) {\n      const classpathSeperator = os.platform() === 'win32' ? ';' : ':';\n      mpJavaExtensionsClasspath = classpathSeperator + microprofileJavaExtensions.join(classpathSeperator);\n    }\n\n    params.push('-cp');\n    params.push(`${serverHome}/*` + mpJavaExtensionsClasspath);\n    params.push(MICROPROFILE_SERVER_MAIN_CLASS);\n  } else {\n    throw new Error('Unable to find required Language Server JARs');\n  }\n  return params;\n}\n\nfunction hasDebugFlag(args: string[]): boolean {\n  if (args) {\n    // See https://nodejs.org/en/docs/guides/debugging-getting-started/\n    return args.some(arg => /^--inspect/.test(arg) || /^--debug/.test(arg));\n  }\n  return false;\n}\n\nfunction startedInDebugMode(): boolean {\n  const args: string[] = process.execArgv;\n  return hasDebugFlag(args);\n}\n\n// exported for tests\nexport function parseVMargs(params: any[], vmargsLine: string) {\n  if (!vmargsLine) {\n    return;\n  }\n  const vmargs = vmargsLine.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n  if (vmargs === null) {\n    return;\n  }\n  vmargs.forEach(arg => {\n    // remove all standalone double quotes\n    arg = arg.replace(/(\\\\)?\"/g, ($0, $1) => { return ($1 ? $0 : ''); });\n    // unescape all escaped double quotes\n    arg = arg.replace(/(\\\\)\"/g, '\"');\n    if (params.indexOf(arg) < 0) {\n      params.push(arg);\n    }\n  });\n}\n","import * as vscode from 'vscode';\nimport * as path from 'path';\nimport { Commands } from '../definitions/constants';\nimport { DocumentFilter, DocumentSelector } from 'vscode-languageclient';\nimport { isDeepStrictEqual } from 'util';\n\nlet existingExtensions: MicroProfileContribution[];\n\n/**\n * MicroProfile language server contribution\n */\nexport interface MicroProfileContribution {\n  jarExtensions: string[];\n  documentSelector: DocumentSelector;\n}\n\n/**\n * Returns all MicroProfile language server contributions from package.json\n *\n * @param extensions array of extensions to search contributions from\n */\nexport function collectMicroProfileJavaExtensions(extensions: readonly vscode.Extension<any>[]): MicroProfileContribution[] {\n  const result: MicroProfileContribution[] = [];\n  if (extensions && extensions.length) {\n    for (const extension of extensions) {\n      const contributesSection = extension.packageJSON.contributes;\n      if (contributesSection && contributesSection.microprofile) {\n        const microprofileSection = contributesSection.microprofile;\n        const contributes: MicroProfileContribution = {jarExtensions: [], documentSelector: []};\n\n        setJarExtensionsIfExists(contributes, microprofileSection, extension.extensionPath);\n        setDocumentSelectorIfExists(contributes, microprofileSection);\n\n        if (contributes.jarExtensions || contributes.documentSelector) {\n          result.push(contributes);\n        }\n      }\n    }\n  }\n  // Make a copy of extensions:\n  existingExtensions = result.slice();\n  return result;\n}\n\nexport function handleExtensionChange(extensions: readonly vscode.Extension<any>[]) {\n  if (!existingExtensions) {\n    return;\n  }\n  const oldExtensions = new Set(existingExtensions.slice());\n  const newExtensions = collectMicroProfileJavaExtensions(extensions);\n  let hasChanged = (oldExtensions.size !== newExtensions.length);\n  if (!hasChanged) {\n    for (const newExtension of newExtensions) {\n      let found = false;\n      for (const oldExtension of oldExtensions) {\n        if (isDeepStrictEqual(oldExtension, newExtension)) {\n          found = true;\n          break;\n        }\n      }\n      if (found) {\n        continue;\n      } else {\n        hasChanged = true;\n        break;\n      }\n    }\n  }\n\n  if (hasChanged) {\n    const msg = `Extensions to the MicroProfile Language Server changed, reloading ${vscode.env.appName} is required for the changes to take effect.`;\n    const action = 'Reload';\n    vscode.window.showWarningMessage(msg, action).then((selection) => {\n      if (action === selection) {\n        vscode.commands.executeCommand(Commands.RELOAD_WINDOW);\n      }\n    });\n  }\n}\n\nfunction setJarExtensionsIfExists(obj: MicroProfileContribution, section: any, extensionPath: string): void {\n  if (Array.isArray(section.jarExtensions)) {\n    for (const microprofileJavaExtensionPath of section.jarExtensions) {\n      obj.jarExtensions.push(path.resolve(extensionPath, microprofileJavaExtensionPath));\n    }\n  }\n}\n\nfunction setDocumentSelectorIfExists(obj: MicroProfileContribution, section: any): void {\n  if (!Array.isArray(section.documentSelector)) {\n    return;\n  }\n  const documentSelector: DocumentSelector = [];\n  section.documentSelector.forEach((selector: any) => {\n    if (typeof selector === 'string') {\n      documentSelector.push(selector);\n    } else if (selector) {\n      const documentFilter: {[key: string]: string} = {};\n      if (typeof selector.language === 'string') {\n        documentFilter.language = selector.language;\n      }\n      if (typeof selector.scheme === 'string') {\n        documentFilter.scheme = selector.scheme;\n      }\n      if (typeof selector.pattern === 'string') {\n        documentFilter.pattern = selector.pattern;\n      }\n      if (documentFilter.language || documentFilter.scheme || documentFilter.pattern) {\n        documentSelector.push(documentFilter as DocumentFilter);\n      }\n    }\n  });\n  obj.documentSelector = obj.documentSelector.concat(documentSelector);\n}\n","'use strict';\n\nimport * as cp from 'child_process';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport { Uri, workspace, env } from 'vscode';\n\nconst expandHomeDir = require('expand-home-dir');\nconst findJavaHome = require('find-java-home');\nconst isWindows = process.platform.indexOf('win') === 0;\nconst JAVA_FILENAME = 'java' + (isWindows?'.exe': '');\n\nexport interface RequirementsData {\n    java_home: string;\n    java_version: number;\n}\n\n/**\n * Resolves the requirements needed to run the extension.\n * Returns a promise that will resolve to a RequirementsData if\n * all requirements are resolved, it will reject with ErrorData if\n * if any of the requirements fails to resolve.\n *\n */\nexport async function resolveRequirements(): Promise<RequirementsData> {\n    const javaHome = await checkJavaRuntime();\n    const javaVersion = await checkJavaVersion(javaHome);\n    return Promise.resolve({ java_home: javaHome, java_version: javaVersion});\n}\n\nfunction checkJavaRuntime(): Promise<string> {\n    return new Promise((resolve, reject) => {\n        let source: string;\n        let javaHome: string|undefined = readJavaHomeConfig();\n\n        if (javaHome) {\n            source = 'The java.home variable defined in VS Code settings';\n        } else {\n            javaHome = process.env['JDK_HOME'];\n            if (javaHome) {\n                source = 'The JDK_HOME environment variable';\n            } else {\n                javaHome = process.env['JAVA_HOME'];\n                source = 'The JAVA_HOME environment variable';\n            }\n        }\n\n        if (javaHome) {\n            javaHome = expandHomeDir(javaHome);\n            if (!fs.existsSync(javaHome)) {\n                openJDKDownload(reject, source+' points to a missing folder');\n            } else if (!fs.existsSync(path.resolve(javaHome as string, 'bin', JAVA_FILENAME))) {\n                openJDKDownload(reject, source+ ' does not point to a Java runtime.');\n            }\n            return resolve(javaHome);\n        }\n        // No settings, let's try to detect as last resort.\n        findJavaHome({ allowJre: true }, (err: any, home: any) => {\n            if (err) {\n                openJDKDownload(reject, 'Java runtime could not be located.');\n            }\n            else {\n                resolve(home);\n            }\n        });\n    });\n}\n\nfunction readJavaHomeConfig(): string|undefined {\n    const config = workspace.getConfiguration();\n    return config.get<string>('java.home');\n}\n\nfunction checkJavaVersion(javaHome: string): Promise<number> {\n    return new Promise((resolve, reject) => {\n        cp.execFile(javaHome + '/bin/java', ['-version'], {}, (error, stdout, stderr) => {\n            const javaVersion = parseMajorVersion(stderr);\n            if (javaVersion < 11) {\n                openJDKDownload(reject, `Java 11 or more recent is required to run 'Tools for MicroProfile'. Please download and install a recent JDK.`);\n            } else {\n                resolve(javaVersion);\n            }\n        });\n    });\n}\n\nexport function parseMajorVersion(content: string): number {\n    let regexp = /version \"(.*)\"/g;\n    let match = regexp.exec(content);\n    if (!match) {\n        return 0;\n    }\n    let version = match[1];\n    // Ignore '1.' prefix for legacy Java versions\n    if (version.startsWith('1.')) {\n        version = version.substring(2);\n    }\n\n    // look into the interesting bits now\n    regexp = /\\d+/g;\n    match = regexp.exec(version);\n    let javaVersion = 0;\n    if (match) {\n        javaVersion = parseInt(match[0]);\n    }\n    return javaVersion;\n}\n\nfunction openJDKDownload(reject: any, cause: string) {\n    let jdkUrl = 'https://developers.redhat.com/products/openjdk/download/?sc_cid=701f2000000RWTnAAO';\n    if (process.platform === 'darwin') {\n        jdkUrl = 'http://www.oracle.com/technetwork/java/javase/downloads/index.html';\n    }\n    reject({\n        message: cause,\n        label: 'Get the Java Development Kit',\n        openUrl: Uri.parse(jdkUrl),\n        replaceClose: false\n    });\n}\n","/**\n * Copyright 2019 Red Hat, Inc. and others.\n\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n *     http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ConfigurationTarget, Disposable, commands, workspace, Uri } from 'vscode';\n\nexport namespace CommandKind {\n  export const COMMAND_REFERENCES = 'microprofile.command.references';\n  export const COMMAND_IMPLEMENTATIONS = 'microprofile.command.implementations';\n  export const COMMAND_OPEN_URI = 'microprofile.command.open.uri';\n  export const COMMAND_CONFIGURATION_UPDATE = 'microprofile.command.configuration.update';\n}\n\n/**\n * Registers the `CommandKind.COMMAND_CONFIGURATION_UPDATE` command\n */\nexport function registerConfigurationUpdateCommand(): Disposable {\n  return commands.registerCommand(CommandKind.COMMAND_CONFIGURATION_UPDATE, resolveConfigurationItemEdit);\n}\n\n/**\n * Registers the `microprofile.command.open.uri` command.\n * This command gives the capability to open the given uri of the command.\n */\nexport function registerOpenURICommand(): Disposable {\n  return commands.registerCommand(CommandKind.COMMAND_OPEN_URI, (uri) => {\n    commands.executeCommand('vscode.open', Uri.parse(uri));\n  });\n}\n\n/**\n * Registers the `CommandKind.COMMAND_IMPLEMENTATIONS` command\n */\nexport function registerImplementationsCommand(): Disposable {\n  return commands.registerCommand(CommandKind.COMMAND_IMPLEMENTATIONS, () => {\n\n  });\n}\n\n/**\n * Registers the `CommandKind.COMMAND_REFERENCES` command\n */\nexport function registerReferencesCommand(): Disposable {\n  return commands.registerCommand(CommandKind.COMMAND_REFERENCES, () => {\n\n  });\n}\n\nfunction resolveConfigurationItemEdit<T>(configItemEdit: ConfigurationItemEdit) {\n  switch (configItemEdit.editType) {\n    case ConfigurationItemEditType.Add:\n      addToPreferenceArray<T>(configItemEdit.section, configItemEdit.value);\n      break;\n    case ConfigurationItemEditType.Delete: {\n      break;\n    }\n    case ConfigurationItemEditType.Update: {\n      break;\n    }\n  }\n}\n\nfunction addToPreferenceArray<T>(key: string, value: T): void {\n  const configArray: T[] = workspace.getConfiguration().get<T[]>(key, []);\n  if (configArray.includes(value)) {\n    return;\n  }\n  configArray.push(value);\n  workspace.getConfiguration().update(key, configArray, ConfigurationTarget.Workspace);\n}\n\ninterface ConfigurationItemEdit {\n  section: string;\n  value: any;\n  editType: ConfigurationItemEditType;\n}\n\nenum ConfigurationItemEditType {\n  Add = 0,\n  Delete = 1,\n  Update = 2\n}\n","import { extensions, window, commands } from \"vscode\";\n\nconst JAVA_EXTENSION_ID = \"redhat.java\";\n\nexport enum ServerMode {\n  STANDARD = \"Standard\",\n  LIGHTWEIGHT = \"LightWeight\",\n  HYBRID = \"Hybrid\",\n}\n\n/**\n * Waits for the java language server to launch in standard mode\n * Before activating Tools for MicroProfile.\n * If java ls was started in lightweight mode, It will prompt user to switch\n */\nexport async function waitForStandardMode() {\n  const vscodeJava = extensions.getExtension(JAVA_EXTENSION_ID);\n  if (!vscodeJava) {\n    throw new Error(\"VSCode java is not installed\");\n  }\n\n  const api = await vscodeJava.activate();\n  if (!api) {\n    throw new Error(\"VSCode java api not found\");\n  }\n\n  // If hybrid, standard mode is being launched. Wait for standard mode then resolve.\n  if (api.serverMode === ServerMode.HYBRID) {\n    return new Promise((resolve) => {\n      api.onDidServerModeChange((mode: string) => {\n        if (mode === ServerMode.STANDARD) {\n          resolve();\n        }\n      });\n    });\n    // If Lightweight. Prompt to switch then wait for Standard mode.\n    // Even if they do not select Yes on the prompt. This still waits for standard mode\n    // since standard mode switch can be triggered other ways.\n  } else if (api.serverMode === ServerMode.LIGHTWEIGHT) {\n    window.showInformationMessage(\n        \"Tools for MicroProfile requires the Java language server to run in Standard mode. \" +\n        \"Do you want to switch it to Standard mode now?\",\n        \"Yes\",\n        \"Later\"\n      )\n      .then((answer) => {\n        if (answer === \"Yes\") {\n          commands.executeCommand(\"java.server.mode.switch\", ServerMode.STANDARD, true);\n        }\n      });\n    return new Promise((resolve) => {\n      api.onDidServerModeChange((mode: string) => {\n        if (mode === ServerMode.STANDARD) {\n          resolve();\n        }\n      });\n    });\n  }\n}\n","/**\r\n * Copyright 2020 Red Hat, Inc. and others.\r\n\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport * as vscode from 'vscode';\r\n\r\nexport const MICROPROFILE_SCHEMA = 'microprofile';\r\nexport const MICROPROFILE_SCHEMA_PREFIX = MICROPROFILE_SCHEMA + '://schema/';\r\nexport const VSCODE_YAML_EXTENSION_ID = 'redhat.vscode-yaml';\r\nexport const VSCODE_YAML_DISPLAY_NAME = 'YAML Support by Red Hat';\r\nexport const VSCODE_YAML_NOT_INSTALLED_MESSAGE = `For application.yaml support, please install '${VSCODE_YAML_DISPLAY_NAME}' and reload ${vscode.env.appName}.`;\r\nexport const VSCODE_YAML_LOW_VERSION_MESSAGE = `The installed version of '${VSCODE_YAML_DISPLAY_NAME}' doesn't support multiple schemas. Please install the latest version and reload ${vscode.env.appName}.`;\r\nexport const VSCODE_YAML_NO_REGISTRATION_MESSAGE = `The installed version of '${VSCODE_YAML_DISPLAY_NAME}' doesn't support MicroProfile Intellisense. Please install the latest version and reload ${vscode.env.appName}.`;\r\nexport const VSCODE_YAML_INSTALL_SUCCESS = `Successfully installed '${VSCODE_YAML_DISPLAY_NAME}'. Please reload ${vscode.env.appName}.`;","/**\n * Copyright 2020 Red Hat, Inc. and others.\n\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n *     http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as vscode from 'vscode';\nimport * as path from 'path';\nimport * as semver from 'semver';\n\nimport {\n  VSCODE_YAML_EXTENSION_ID,\n  VSCODE_YAML_DISPLAY_NAME,\n  VSCODE_YAML_NOT_INSTALLED_MESSAGE,\n  VSCODE_YAML_LOW_VERSION_MESSAGE,\n  VSCODE_YAML_NO_REGISTRATION_MESSAGE,\n  VSCODE_YAML_INSTALL_SUCCESS,\n  MICROPROFILE_SCHEMA,\n  MICROPROFILE_SCHEMA_PREFIX\n} from \"./YamlConstants\";\n\nimport { Uri } from 'vscode';\nimport { LanguageClient } from 'vscode-languageclient';\nimport { MicroProfileLS } from '../definitions/constants';\n\n// The function signature exposed by vscode-yaml:\n// 1. the requestSchema api will be called by vscode-yaml extension to decide whether the schema can be handled by this\n// contributor, if it returns undefined, means it doesn't support this yaml file, vscode-yaml will ask other contributors\n// 2. the requestSchemaContent api  will give the parameter uri returned by the first api, and ask for the json content(after stringify) of\n// the schema\ndeclare type YamlSchemaContributor = (schema: string,\n  requestSchema: (resource: string) => string | undefined,\n  requestSchemaContent: (uri: string) => Promise<string>) => void;\n\ninterface JsonSchemaForProjectInfo {\n  projectURI: string;\n  jsonSchema: string;\n}\n\nexport interface MicroProfilePropertiesChangeEvent {\n  projectURIs: Array<string>;\n  type: Array<MicroProfilePropertiesScopeEnum>;\n}\nexport enum MicroProfilePropertiesScopeEnum {\n  sources = 1,\n  dependencies = 2\n}\n\n// Yaml Schema cache which caches YAML Schema (in JSON format) for application.yaml files\n// which belong to a MicroProfile project.\nexport class YamlSchemaCache {\n  private readonly cache = new Map<string /* application yaml URI */, JsonSchemaForProjectInfo>();\n  private _languageClient: LanguageClient;\n  public set languageClient(languageClient: LanguageClient) {\n    this._languageClient = languageClient;\n  }\n\n  /**\n   * Returns the JSON Schema to use for the  given application yaml file URI.\n   *\n   * @param applicationYamlUri the application yaml file URI\n   */\n  public async getSchema(applicationYamlUri: string): Promise<string | undefined> {\n    const yamlSchema = this.cache.get(applicationYamlUri);\n    if (yamlSchema) {\n      return yamlSchema.jsonSchema;\n    }\n    if (!this._languageClient) {\n      return undefined;\n    }\n    const params = {\n      uri: applicationYamlUri,\n      scopes: [1, 2]\n    };\n    return this._languageClient.sendRequest(MicroProfileLS.JSON_SCHEMA_FOR_PROJECT_INFO_REQUEST, params)\n      .then((result: JsonSchemaForProjectInfo) => {\n        const jsonSchema = result.jsonSchema;\n        this.cache.set(applicationYamlUri, result);\n        return jsonSchema;\n      }, (err) => {\n        console.error(`Error while consumming '${MicroProfileLS.JSON_SCHEMA_FOR_PROJECT_INFO_REQUEST}' request: ${err.message}`);\n      });\n  }\n\n  /**\n   * Evict the cache according to the classpath changed of the given project URIs\n   *\n   * @param event the properties change event\n   */\n  public evict(event: MicroProfilePropertiesChangeEvent) {\n    // collect all application.yaml uris which belong to the event project URIs\n    // and evict them from the cache.\n    this.cache.forEach((jsonSchema: JsonSchemaForProjectInfo, uri: string) => {\n      if (event.projectURIs.includes(jsonSchema.projectURI)) {\n        this.cache.delete(uri);\n      }\n    });\n  }\n}\n\nlet yamlSchemaCache: YamlSchemaCache;\nlet listener: vscode.Disposable|undefined = undefined;\n\nexport async function registerYamlSchemaSupport(): Promise<YamlSchemaCache | undefined> {\n  const yamlPlugin: any = await activateYamlExtension();\n  if (!yamlPlugin || !yamlPlugin.registerContributor) {\n    // activateYamlExtension has already alerted users about errors.\n    return undefined;\n  }\n  yamlSchemaCache = new YamlSchemaCache();\n  // register for microprofile schema provider\n  yamlPlugin.registerContributor(MICROPROFILE_SCHEMA, requestYamlSchemaUriCallback, requestYamlSchemaContentCallback);\n  return yamlSchemaCache;\n}\n\n// find redhat.vscode-yaml extension and try to activate it to get the yaml contributor\n// this function should only be called once when vscode-microprofile activates\nasync function activateYamlExtension(): Promise<{ registerContributor: YamlSchemaContributor } | undefined> {\n  const ext = vscode.extensions.getExtension(VSCODE_YAML_EXTENSION_ID);\n  const isApplicationYamlOpened: boolean = isEditorApplicationYaml(vscode.window.activeTextEditor);\n\n  if (!ext) {\n    if (isApplicationYamlOpened) {\n      await askInstallVSCodeYaml(VSCODE_YAML_NOT_INSTALLED_MESSAGE);\n    } else {\n      listener = createInstallListener(VSCODE_YAML_NOT_INSTALLED_MESSAGE);\n    }\n    return undefined;\n  }\n\n  if (ext.packageJSON.version && !semver.gte(ext.packageJSON.version, '0.0.15')) {\n    if (isApplicationYamlOpened) {\n      await askInstallVSCodeYaml(VSCODE_YAML_LOW_VERSION_MESSAGE);\n    } else {\n      listener = createInstallListener(VSCODE_YAML_LOW_VERSION_MESSAGE);\n    }\n    return undefined;\n  }\n  const yamlPlugin = await ext.activate();\n\n  if (!yamlPlugin || !yamlPlugin.registerContributor) {\n    if (isApplicationYamlOpened) {\n      await askInstallVSCodeYaml(VSCODE_YAML_NO_REGISTRATION_MESSAGE);\n    } else {\n      listener = createInstallListener(VSCODE_YAML_NO_REGISTRATION_MESSAGE);\n    }\n    return undefined;\n  }\n\n  return yamlPlugin;\n}\n\n// see docs from YamlSchemaContributor\nfunction requestYamlSchemaUriCallback(resource: string): string | undefined {\n  const textEditor = vscode.window.visibleTextEditors.find((editor) => editor.document.uri.toString() === resource);\n  if (textEditor) {\n    if (resource.endsWith('application.yaml') || resource.endsWith('application.yml')) {\n      return MICROPROFILE_SCHEMA_PREFIX + resource;\n    }\n  }\n  return undefined;\n}\n\n// see docs from YamlSchemaContributor\nfunction requestYamlSchemaContentCallback(uri: string): Promise<string | undefined> {\n  const parsedUri = Uri.parse(uri);\n  if (parsedUri.scheme !== MICROPROFILE_SCHEMA) {\n    return undefined;\n  }\n  if (!parsedUri.path || !parsedUri.path.startsWith('/')) {\n    return undefined;\n  }\n  const applicationYamlUri = uri.substring(MICROPROFILE_SCHEMA_PREFIX.length);\n  return yamlSchemaCache.getSchema(applicationYamlUri);\n}\n\nfunction isEditorApplicationYaml(editor: vscode.TextEditor|undefined): boolean {\n  if (!editor) {\n    return false;\n  }\n  const currentFileName: string = editor.document.fileName;\n  if (!currentFileName) return false;\n  return currentFileName.endsWith(path.sep + 'application.yaml') || currentFileName.endsWith(path.sep + 'application.yml');\n}\n\nfunction createInstallListener(message: string): vscode.Disposable {\n  return vscode.window.onDidChangeActiveTextEditor(async (change: vscode.TextEditor | undefined) => {\n    if (!change) return;\n\n    if (isEditorApplicationYaml(change)) {\n      await askInstallVSCodeYaml(message);\n    }\n  });\n}\n\nasync function askInstallVSCodeYaml(message: string): Promise<void> {\n  const INSTALL: string = 'Install';\n  const RELOAD: string = 'Reload';\n\n  const response: string|undefined = await vscode.window.showWarningMessage(message, INSTALL);\n  if (response === INSTALL) {\n    await installVSCodeYaml();\n    if (listener) listener.dispose();\n    const response: string|undefined = await vscode.window.showInformationMessage(VSCODE_YAML_INSTALL_SUCCESS, RELOAD);\n    if (response === RELOAD) {\n      await vscode.commands.executeCommand<void>('workbench.action.reloadWindow');\n    }\n  }\n}\n\nasync function installVSCodeYaml(): Promise<void> {\n  await vscode.window.withProgress<void>({ location: vscode.ProgressLocation.Notification, title: `Installing '${VSCODE_YAML_DISPLAY_NAME}'...`}, () => {\n    return vscode.commands.executeCommand<void>('workbench.extensions.installExtension', VSCODE_YAML_EXTENSION_ID);\n  });\n}\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this._emitter = undefined;\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        this.cancel();\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nEmitter._noop = function () { };\r\nexports.Emitter = Emitter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"./thenable.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    ;\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            console.log(\"inspect\");\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't recevied the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst c2p = require(\"./codeConverter\");\r\nconst p2c = require(\"./protocolConverter\");\r\nconst Is = require(\"./utils/is\");\r\nconst async_1 = require(\"./utils/async\");\r\nconst UUID = require(\"./utils/uuid\");\r\n__export(require(\"vscode-languageserver-protocol\"));\r\nclass ConsoleLogger {\r\n    error(message) {\r\n        console.error(message);\r\n    }\r\n    warn(message) {\r\n        console.warn(message);\r\n    }\r\n    info(message) {\r\n        console.info(message);\r\n    }\r\n    log(message) {\r\n        console.log(message);\r\n    }\r\n}\r\nfunction createConnection(input, output, errorHandler, closeHandler) {\r\n    let logger = new ConsoleLogger();\r\n    let connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger);\r\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\r\n    connection.onClose(closeHandler);\r\n    let result = {\r\n        listen: () => connection.listen(),\r\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\r\n        onRequest: (type, handler) => connection.onRequest(Is.string(type) ? type : type.method, handler),\r\n        sendNotification: (type, params) => connection.sendNotification(Is.string(type) ? type : type.method, params),\r\n        onNotification: (type, handler) => connection.onNotification(Is.string(type) ? type : type.method, handler),\r\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\r\n            const defaultTraceOptions = {\r\n                sendNotification: false,\r\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\r\n            };\r\n            if (sendNotificationOrTraceOptions === void 0) {\r\n                connection.trace(value, tracer, defaultTraceOptions);\r\n            }\r\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n            else {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n        },\r\n        initialize: (params) => connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params),\r\n        shutdown: () => connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined),\r\n        exit: () => connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),\r\n        onLogMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, handler),\r\n        onShowMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, handler),\r\n        onTelemetry: (handler) => connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, handler),\r\n        didChangeConfiguration: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, params),\r\n        didChangeWatchedFiles: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, params),\r\n        didOpenTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, params),\r\n        didChangeTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params),\r\n        didCloseTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, params),\r\n        didSaveTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, params),\r\n        onDiagnostics: (handler) => connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, handler),\r\n        dispose: () => connection.dispose()\r\n    };\r\n    return result;\r\n}\r\n/**\r\n * An action to be performed when the connection is producing errors.\r\n */\r\nvar ErrorAction;\r\n(function (ErrorAction) {\r\n    /**\r\n     * Continue running the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\r\n    /**\r\n     * Shutdown the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\r\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\r\n/**\r\n * An action to be performed when the connection to a server got closed.\r\n */\r\nvar CloseAction;\r\n(function (CloseAction) {\r\n    /**\r\n     * Don't restart the server. The connection stays closed.\r\n     */\r\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\r\n    /**\r\n     * Restart the server.\r\n     */\r\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\r\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\r\nclass DefaultErrorHandler {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.restarts = [];\r\n    }\r\n    error(_error, _message, count) {\r\n        if (count && count <= 3) {\r\n            return ErrorAction.Continue;\r\n        }\r\n        return ErrorAction.Shutdown;\r\n    }\r\n    closed() {\r\n        this.restarts.push(Date.now());\r\n        if (this.restarts.length < 5) {\r\n            return CloseAction.Restart;\r\n        }\r\n        else {\r\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\r\n            if (diff <= 3 * 60 * 1000) {\r\n                vscode_1.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`);\r\n                return CloseAction.DoNotRestart;\r\n            }\r\n            else {\r\n                this.restarts.shift();\r\n                return CloseAction.Restart;\r\n            }\r\n        }\r\n    }\r\n}\r\nvar RevealOutputChannelOn;\r\n(function (RevealOutputChannelOn) {\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\r\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\r\n    State[State[\"Starting\"] = 3] = \"Starting\";\r\n    State[State[\"Running\"] = 2] = \"Running\";\r\n})(State = exports.State || (exports.State = {}));\r\nvar ClientState;\r\n(function (ClientState) {\r\n    ClientState[ClientState[\"Initial\"] = 0] = \"Initial\";\r\n    ClientState[ClientState[\"Starting\"] = 1] = \"Starting\";\r\n    ClientState[ClientState[\"StartFailed\"] = 2] = \"StartFailed\";\r\n    ClientState[ClientState[\"Running\"] = 3] = \"Running\";\r\n    ClientState[ClientState[\"Stopping\"] = 4] = \"Stopping\";\r\n    ClientState[ClientState[\"Stopped\"] = 5] = \"Stopped\";\r\n})(ClientState || (ClientState = {}));\r\nconst SupportedSymbolKinds = [\r\n    vscode_languageserver_protocol_1.SymbolKind.File,\r\n    vscode_languageserver_protocol_1.SymbolKind.Module,\r\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\r\n    vscode_languageserver_protocol_1.SymbolKind.Package,\r\n    vscode_languageserver_protocol_1.SymbolKind.Class,\r\n    vscode_languageserver_protocol_1.SymbolKind.Method,\r\n    vscode_languageserver_protocol_1.SymbolKind.Property,\r\n    vscode_languageserver_protocol_1.SymbolKind.Field,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\r\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\r\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\r\n    vscode_languageserver_protocol_1.SymbolKind.Function,\r\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\r\n    vscode_languageserver_protocol_1.SymbolKind.String,\r\n    vscode_languageserver_protocol_1.SymbolKind.Number,\r\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\r\n    vscode_languageserver_protocol_1.SymbolKind.Array,\r\n    vscode_languageserver_protocol_1.SymbolKind.Object,\r\n    vscode_languageserver_protocol_1.SymbolKind.Key,\r\n    vscode_languageserver_protocol_1.SymbolKind.Null,\r\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\r\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\r\n    vscode_languageserver_protocol_1.SymbolKind.Event,\r\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\r\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\r\n];\r\nconst SupportedCompletionItemKinds = [\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\r\n];\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nvar DynamicFeature;\r\n(function (DynamicFeature) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.register) && Is.func(candidate.unregister) && Is.func(candidate.dispose) && candidate.messages !== void 0;\r\n    }\r\n    DynamicFeature.is = is;\r\n})(DynamicFeature || (DynamicFeature = {}));\r\nclass DocumentNotifiactions {\r\n    constructor(_client, _event, _type, _middleware, _createParams, _selectorFilter) {\r\n        this._client = _client;\r\n        this._event = _event;\r\n        this._type = _type;\r\n        this._middleware = _middleware;\r\n        this._createParams = _createParams;\r\n        this._selectorFilter = _selectorFilter;\r\n        this._selectors = new Map();\r\n    }\r\n    static textDocumentFilter(selectors, textDocument) {\r\n        for (const selector of selectors) {\r\n            if (vscode_1.languages.match(selector, textDocument)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = this._event(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(data) {\r\n        if (!this._selectorFilter || this._selectorFilter(this._selectors.values(), data)) {\r\n            if (this._middleware) {\r\n                this._middleware(data, (data) => this._client.sendNotification(this._type, this._createParams(data)));\r\n            }\r\n            else {\r\n                this._client.sendNotification(this._type, this._createParams(data));\r\n            }\r\n            this.notificationSent(data);\r\n        }\r\n    }\r\n    notificationSent(_data) {\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n}\r\nclass DidOpenTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, client.clientOptions.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    register(message, data) {\r\n        super.register(message, data);\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let documentSelector = data.registerOptions.documentSelector;\r\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\r\n            let uri = textDocument.uri.toString();\r\n            if (this._syncedDocuments.has(uri)) {\r\n                return;\r\n            }\r\n            if (vscode_1.languages.match(documentSelector, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didOpen = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                if (middleware.didOpen) {\r\n                    middleware.didOpen(textDocument, didOpen);\r\n                }\r\n                else {\r\n                    didOpen(textDocument);\r\n                }\r\n                this._syncedDocuments.set(uri, textDocument);\r\n            }\r\n        });\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\r\n    }\r\n}\r\nclass DidCloseTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, client.clientOptions.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.delete(textDocument.uri.toString());\r\n    }\r\n    unregister(id) {\r\n        let selector = this._selectors.get(id);\r\n        // The super call removed the selector from the map\r\n        // of selectors.\r\n        super.unregister(id);\r\n        let selectors = this._selectors.values();\r\n        this._syncedDocuments.forEach((textDocument) => {\r\n            if (vscode_1.languages.match(selector, textDocument) && !this._selectorFilter(selectors, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didClose = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                this._syncedDocuments.delete(textDocument.uri.toString());\r\n                if (middleware.didClose) {\r\n                    middleware.didClose(textDocument, didClose);\r\n                }\r\n                else {\r\n                    didClose(textDocument);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DidChangeTextDocumentFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._changeData = new Map();\r\n        this._forcingDelivery = false;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== void 0 && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\r\n        }\r\n        this._changeData.set(data.id, {\r\n            documentSelector: data.registerOptions.documentSelector,\r\n            syncKind: data.registerOptions.syncKind\r\n        });\r\n    }\r\n    callback(event) {\r\n        // Text document changes are send for dirty changes as well. We don't\r\n        // have dirty / undirty events in the LSP so we ignore content changes\r\n        // with length zero.\r\n        if (event.contentChanges.length === 0) {\r\n            return;\r\n        }\r\n        for (const changeData of this._changeData.values()) {\r\n            if (vscode_1.languages.match(changeData.documentSelector, event.document)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\r\n                    let params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, () => this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params));\r\n                    }\r\n                    else {\r\n                        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\r\n                    }\r\n                }\r\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\r\n                    let didChange = (event) => {\r\n                        if (this._changeDelayer) {\r\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\r\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\r\n                                this.forceDelivery();\r\n                                this._changeDelayer.uri = event.document.uri.toString();\r\n                            }\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            });\r\n                        }\r\n                        else {\r\n                            this._changeDelayer = {\r\n                                uri: event.document.uri.toString(),\r\n                                delayer: new async_1.Delayer(200)\r\n                            };\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            }, -1);\r\n                        }\r\n                    };\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, didChange);\r\n                    }\r\n                    else {\r\n                        didChange(event);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._changeData.delete(id);\r\n        if (this._changeData.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._changeDelayer = undefined;\r\n        this._forcingDelivery = false;\r\n        this._changeData.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    forceDelivery() {\r\n        if (this._forcingDelivery || !this._changeDelayer) {\r\n            return;\r\n        }\r\n        try {\r\n            this._forcingDelivery = true;\r\n            this._changeDelayer.delayer.forceDelivery();\r\n        }\r\n        finally {\r\n            this._forcingDelivery = false;\r\n        }\r\n    }\r\n}\r\nclass WillSaveFeature extends DocumentNotifiactions {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, client.clientOptions.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (selectors, willSaveEvent) => DocumentNotifiactions.textDocumentFilter(selectors, willSaveEvent.document));\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n}\r\nclass WillSaveWaitUntilFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._selectors = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSaveWaitUntil = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(event) {\r\n        if (DocumentNotifiactions.textDocumentFilter(this._selectors.values(), event.document)) {\r\n            let middleware = this._client.clientOptions.middleware;\r\n            let willSaveWaitUntil = (event) => {\r\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then((edits) => {\r\n                    let vEdits = this._client.protocol2CodeConverter.asTextEdits(edits);\r\n                    return vEdits === void 0 ? [] : vEdits;\r\n                });\r\n            };\r\n            event.waitUntil(middleware.willSaveWaitUntil\r\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\r\n                : willSaveWaitUntil(event));\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n}\r\nclass DidSaveTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, client.clientOptions.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), DocumentNotifiactions.textDocumentFilter);\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').didSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { includeText: !!textDocumentSyncOptions.save.includeText })\r\n            });\r\n        }\r\n    }\r\n    register(method, data) {\r\n        this._includeText = !!data.registerOptions.includeText;\r\n        super.register(method, data);\r\n    }\r\n}\r\nclass FileSystemWatcherFeature {\r\n    constructor(_client, _notifyFileEvent) {\r\n        this._client = _client;\r\n        this._notifyFileEvent = _notifyFileEvent;\r\n        this._watchers = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\r\n    }\r\n    initialize(_capabilities, _documentSelector) {\r\n    }\r\n    register(_method, data) {\r\n        if (!Array.isArray(data.registerOptions.watchers)) {\r\n            return;\r\n        }\r\n        let disposeables = [];\r\n        for (let watcher of data.registerOptions.watchers) {\r\n            if (!Is.string(watcher.globPattern)) {\r\n                continue;\r\n            }\r\n            let watchCreate = true, watchChange = true, watchDelete = true;\r\n            if (watcher.kind !== void 0 && watcher.kind !== null) {\r\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\r\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) != 0;\r\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) != 0;\r\n            }\r\n            let fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(watcher.globPattern, !watchCreate, !watchChange, !watchDelete);\r\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete);\r\n            disposeables.push(fileSystemWatcher);\r\n        }\r\n        this._watchers.set(data.id, disposeables);\r\n    }\r\n    registerRaw(id, fileSystemWatchers) {\r\n        let disposeables = [];\r\n        for (let fileSystemWatcher of fileSystemWatchers) {\r\n            this.hookListeners(fileSystemWatcher, true, true, true, disposeables);\r\n        }\r\n        this._watchers.set(id, disposeables);\r\n    }\r\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\r\n        if (watchCreate) {\r\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\r\n            }), null, listeners);\r\n        }\r\n        if (watchChange) {\r\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\r\n            }), null, listeners);\r\n        }\r\n        if (watchDelete) {\r\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\r\n            }), null, listeners);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposeables = this._watchers.get(id);\r\n        if (disposeables) {\r\n            for (let disposable of disposeables) {\r\n                disposable.dispose();\r\n            }\r\n        }\r\n    }\r\n    dispose() {\r\n        this._watchers.forEach((disposeables) => {\r\n            for (let disposable of disposeables) {\r\n                disposable.dispose();\r\n            }\r\n        });\r\n        this._watchers.clear();\r\n    }\r\n}\r\nclass TextDocumentFeature {\r\n    constructor(_client, _message) {\r\n        this._client = _client;\r\n        this._message = _message;\r\n        this._providers = new Map();\r\n    }\r\n    get messages() {\r\n        return this._message;\r\n    }\r\n    register(message, data) {\r\n        if (message.method !== this.messages.method) {\r\n            throw new Error(`Register called on wrong feature. Requested ${message.method} but reached feature ${this.messages.method}`);\r\n        }\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let provider = this.registerLanguageProvider(data.registerOptions);\r\n        if (provider) {\r\n            this._providers.set(data.id, provider);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let provider = this._providers.get(id);\r\n        if (provider) {\r\n            provider.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._providers.forEach((value) => {\r\n            value.dispose();\r\n        });\r\n        this._providers.clear();\r\n    }\r\n}\r\nexports.TextDocumentFeature = TextDocumentFeature;\r\nclass WorkspaceFeature {\r\n    constructor(_client, _message) {\r\n        this._client = _client;\r\n        this._message = _message;\r\n        this._providers = new Map();\r\n    }\r\n    get messages() {\r\n        return this._message;\r\n    }\r\n    register(message, data) {\r\n        if (message.method !== this.messages.method) {\r\n            throw new Error(`Register called on wron feature. Requested ${message.method} but reached feature ${this.messages.method}`);\r\n        }\r\n        let provider = this.registerLanguageProvider(data.registerOptions);\r\n        if (provider) {\r\n            this._providers.set(data.id, provider);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let provider = this._providers.get(id);\r\n        if (provider) {\r\n            provider.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._providers.forEach((value) => {\r\n            value.dispose();\r\n        });\r\n        this._providers.clear();\r\n    }\r\n}\r\nclass CompletionItemFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let completion = ensure(ensure(capabilites, 'textDocument'), 'completion');\r\n        completion.dynamicRegistration = true;\r\n        completion.contextSupport = true;\r\n        completion.completionItem = {\r\n            snippetSupport: true,\r\n            commitCharactersSupport: true,\r\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\r\n            deprecatedSupport: true,\r\n            preselectSupport: true\r\n        };\r\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.completionProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.completionProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let triggerCharacters = options.triggerCharacters || [];\r\n        let client = this._client;\r\n        let provideCompletionItems = (document, position, context, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then(client.protocol2CodeConverter.asCompletionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let resolveCompletionItem = (item, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item), token).then(client.protocol2CodeConverter.asCompletionItem, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, error);\r\n                return Promise.resolve(item);\r\n            });\r\n        };\r\n        let middleware = this._client.clientOptions.middleware;\r\n        return vscode_1.languages.registerCompletionItemProvider(options.documentSelector, {\r\n            provideCompletionItems: (document, position, token, context) => {\r\n                return middleware.provideCompletionItem\r\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\r\n                    : provideCompletionItems(document, position, context, token);\r\n            },\r\n            resolveCompletionItem: options.resolveProvider\r\n                ? (item, token) => {\r\n                    return middleware.resolveCompletionItem\r\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\r\n                        : resolveCompletionItem(item, token);\r\n                }\r\n                : undefined\r\n        }, ...triggerCharacters);\r\n    }\r\n}\r\nclass HoverFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const hoverCapability = (ensure(ensure(capabilites, 'textDocument'), 'hover'));\r\n        hoverCapability.dynamicRegistration = true;\r\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.hoverProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideHover = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asHover, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerHoverProvider(options.documentSelector, {\r\n            provideHover: (document, position, token) => {\r\n                return middleware.provideHover\r\n                    ? middleware.provideHover(document, position, token, provideHover)\r\n                    : provideHover(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass SignatureHelpFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let config = ensure(ensure(capabilites, 'textDocument'), 'signatureHelp');\r\n        config.dynamicRegistration = true;\r\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\r\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.signatureHelpProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.signatureHelpProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let providerSignatureHelp = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asSignatureHelp, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        let triggerCharacters = options.triggerCharacters || [];\r\n        return vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, {\r\n            provideSignatureHelp: (document, position, token) => {\r\n                return middleware.provideSignatureHelp\r\n                    ? middleware.provideSignatureHelp(document, position, token, providerSignatureHelp)\r\n                    : providerSignatureHelp(document, position, token);\r\n            }\r\n        }, ...triggerCharacters);\r\n    }\r\n}\r\nclass DefinitionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let definitionSupport = ensure(ensure(capabilites, 'textDocument'), 'definition');\r\n        definitionSupport.dynamicRegistration = true;\r\n        definitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.definitionProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDefinition = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDefinitionProvider(options.documentSelector, {\r\n            provideDefinition: (document, position, token) => {\r\n                return middleware.provideDefinition\r\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\r\n                    : provideDefinition(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass ReferencesFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'references').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.referencesProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let providerReferences = (document, position, options, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then(client.protocol2CodeConverter.asReferences, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerReferenceProvider(options.documentSelector, {\r\n            provideReferences: (document, position, options, token) => {\r\n                return middleware.provideReferences\r\n                    ? middleware.provideReferences(document, position, options, token, providerReferences)\r\n                    : providerReferences(document, position, options, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentHighlightFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentHighlightProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentHighlights = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDocumentHighlights, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector, {\r\n            provideDocumentHighlights: (document, position, token) => {\r\n                return middleware.provideDocumentHighlights\r\n                    ? middleware.provideDocumentHighlights(document, position, token, provideDocumentHighlights)\r\n                    : provideDocumentHighlights(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentSymbolFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let symbolCapabilities = ensure(ensure(capabilites, 'textDocument'), 'documentSymbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentSymbolProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentSymbols = (document, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then((data) => {\r\n                if (data === null) {\r\n                    return undefined;\r\n                }\r\n                if (data.length === 0) {\r\n                    return [];\r\n                }\r\n                else {\r\n                    let element = data[0];\r\n                    if (vscode_languageserver_protocol_1.DocumentSymbol.is(element)) {\r\n                        return client.protocol2CodeConverter.asDocumentSymbols(data);\r\n                    }\r\n                    else {\r\n                        return client.protocol2CodeConverter.asSymbolInformations(data);\r\n                    }\r\n                }\r\n            }, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector, {\r\n            provideDocumentSymbols: (document, token) => {\r\n                return middleware.provideDocumentSymbols\r\n                    ? middleware.provideDocumentSymbols(document, token, provideDocumentSymbols)\r\n                    : provideDocumentSymbols(document, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass WorkspaceSymbolFeature extends WorkspaceFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let symbolCapabilities = ensure(ensure(capabilites, 'workspace'), 'symbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.workspaceSymbolProvider) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: undefined\r\n        });\r\n    }\r\n    registerLanguageProvider(_options) {\r\n        let client = this._client;\r\n        let provideWorkspaceSymbols = (query, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then(client.protocol2CodeConverter.asSymbolInformations, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerWorkspaceSymbolProvider({\r\n            provideWorkspaceSymbols: (query, token) => {\r\n                return middleware.provideWorkspaceSymbols\r\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\r\n                    : provideWorkspaceSymbols(query, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass CodeActionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const cap = ensure(ensure(capabilites, 'textDocument'), 'codeAction');\r\n        cap.dynamicRegistration = true;\r\n        cap.codeActionLiteralSupport = {\r\n            codeActionKind: {\r\n                valueSet: [\r\n                    '',\r\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\r\n                ]\r\n            }\r\n        };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.codeActionProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        let codeActionKinds = undefined;\r\n        if (!Is.boolean(capabilities.codeActionProvider)) {\r\n            codeActionKinds = capabilities.codeActionProvider.codeActionKinds;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: { documentSelector: documentSelector, codeActionKinds }\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideCodeActions = (document, range, context, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                range: client.code2ProtocolConverter.asRange(range),\r\n                context: client.code2ProtocolConverter.asCodeActionContext(context)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\r\n                if (values === null) {\r\n                    return undefined;\r\n                }\r\n                let result = [];\r\n                for (let item of values) {\r\n                    if (vscode_languageserver_protocol_1.Command.is(item)) {\r\n                        result.push(client.protocol2CodeConverter.asCommand(item));\r\n                    }\r\n                    else {\r\n                        result.push(client.protocol2CodeConverter.asCodeAction(item));\r\n                    }\r\n                    ;\r\n                }\r\n                return result;\r\n            }, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerCodeActionsProvider(options.documentSelector, {\r\n            provideCodeActions: (document, range, context, token) => {\r\n                return middleware.provideCodeActions\r\n                    ? middleware.provideCodeActions(document, range, context, token, provideCodeActions)\r\n                    : provideCodeActions(document, range, context, token);\r\n            }\r\n        }, options.codeActionKinds\r\n            ? { providedCodeActionKinds: client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\r\n            : undefined);\r\n    }\r\n}\r\nclass CodeLensFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'codeLens').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.codeLensProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.codeLensProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideCodeLenses = (document, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then(client.protocol2CodeConverter.asCodeLenses, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let resolveCodeLens = (codeLens, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then(client.protocol2CodeConverter.asCodeLens, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, error);\r\n                return codeLens;\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerCodeLensProvider(options.documentSelector, {\r\n            provideCodeLenses: (document, token) => {\r\n                return middleware.provideCodeLenses\r\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\r\n                    : provideCodeLenses(document, token);\r\n            },\r\n            resolveCodeLens: (options.resolveProvider)\r\n                ? (codeLens, token) => {\r\n                    return middleware.resolveCodeLens\r\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\r\n                        : resolveCodeLens(codeLens, token);\r\n                }\r\n                : undefined\r\n        });\r\n    }\r\n}\r\nclass DocumentFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'formatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentFormattingProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentFormattingEdits = (document, options, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector, {\r\n            provideDocumentFormattingEdits: (document, options, token) => {\r\n                return middleware.provideDocumentFormattingEdits\r\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\r\n                    : provideDocumentFormattingEdits(document, options, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentRangeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentRangeFormattingProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentRangeFormattingEdits = (document, range, options, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                range: client.code2ProtocolConverter.asRange(range),\r\n                options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector, {\r\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\r\n                return middleware.provideDocumentRangeFormattingEdits\r\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\r\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentOnTypeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentOnTypeFormattingProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.documentOnTypeFormattingProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let moreTriggerCharacter = options.moreTriggerCharacter || [];\r\n        let provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                position: client.code2ProtocolConverter.asPosition(position),\r\n                ch: ch,\r\n                options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector, {\r\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\r\n                return middleware.provideOnTypeFormattingEdits\r\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\r\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\r\n            }\r\n        }, options.firstTriggerCharacter, ...moreTriggerCharacter);\r\n    }\r\n}\r\nclass RenameFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let rename = ensure(ensure(capabilites, 'textDocument'), 'rename');\r\n        rename.dynamicRegistration = true;\r\n        rename.prepareSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.renameProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        let options = Object.assign({}, { documentSelector: documentSelector });\r\n        if (Is.boolean(capabilities.renameProvider)) {\r\n            options.prepareProvider = false;\r\n        }\r\n        else {\r\n            options.prepareProvider = capabilities.renameProvider.prepareProvider;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideRenameEdits = (document, position, newName, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                position: client.code2ProtocolConverter.asPosition(position),\r\n                newName: newName\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then(client.protocol2CodeConverter.asWorkspaceEdit, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, error);\r\n                return Promise.reject(new Error(error.message));\r\n            });\r\n        };\r\n        let prepareRename = (document, position, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                position: client.code2ProtocolConverter.asPosition(position),\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\r\n                if (vscode_languageserver_protocol_1.Range.is(result)) {\r\n                    return client.protocol2CodeConverter.asRange(result);\r\n                }\r\n                else if (result && result.range) {\r\n                    return {\r\n                        range: client.protocol2CodeConverter.asRange(result.range),\r\n                        placeholder: result.placeholder\r\n                    };\r\n                }\r\n                return null;\r\n            }, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, error);\r\n                return Promise.reject(new Error(error.message));\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerRenameProvider(options.documentSelector, {\r\n            provideRenameEdits: (document, position, newName, token) => {\r\n                return middleware.provideRenameEdits\r\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\r\n                    : provideRenameEdits(document, position, newName, token);\r\n            },\r\n            prepareRename: options.prepareProvider\r\n                ? (document, position, token) => {\r\n                    return middleware.prepareRename\r\n                        ? middleware.prepareRename(document, position, token, prepareRename)\r\n                        : prepareRename(document, position, token);\r\n                }\r\n                : undefined\r\n        });\r\n    }\r\n}\r\nclass DocumentLinkFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'documentLink').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentLinkProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.documentLinkProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentLinks = (document, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then(client.protocol2CodeConverter.asDocumentLinks, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, error);\r\n                Promise.resolve(new Error(error.message));\r\n            });\r\n        };\r\n        let resolveDocumentLink = (link, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then(client.protocol2CodeConverter.asDocumentLink, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, error);\r\n                Promise.resolve(new Error(error.message));\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentLinkProvider(options.documentSelector, {\r\n            provideDocumentLinks: (document, token) => {\r\n                return middleware.provideDocumentLinks\r\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\r\n                    : provideDocumentLinks(document, token);\r\n            },\r\n            resolveDocumentLink: options.resolveProvider\r\n                ? (link, token) => {\r\n                    return middleware.resolveDocumentLink\r\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\r\n                        : resolveDocumentLink(link, token);\r\n                }\r\n                : undefined\r\n        });\r\n    }\r\n}\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\r\n    }\r\n    initialize() {\r\n        let section = this._client.clientOptions.synchronize.configurationSection;\r\n        if (section !== void 0) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: {\r\n                    section: section\r\n                }\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\r\n        });\r\n        this._listeners.set(data.id, disposable);\r\n        if (data.registerOptions.section !== void 0) {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable) {\r\n            this._listeners.delete(id);\r\n            disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    onDidChangeConfiguration(configurationSection, event) {\r\n        let sections;\r\n        if (Is.string(configurationSection)) {\r\n            sections = [configurationSection];\r\n        }\r\n        else {\r\n            sections = configurationSection;\r\n        }\r\n        if (sections !== void 0 && event !== void 0) {\r\n            let affected = sections.some((section) => event.affectsConfiguration(section));\r\n            if (!affected) {\r\n                return;\r\n            }\r\n        }\r\n        let didChangeConfiguration = (sections) => {\r\n            if (sections === void 0) {\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\r\n                return;\r\n            }\r\n            this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\r\n        };\r\n        let middleware = this.getMiddleware();\r\n        middleware\r\n            ? middleware(sections, didChangeConfiguration)\r\n            : didChangeConfiguration(sections);\r\n    }\r\n    extractSettingsInformation(keys) {\r\n        function ensurePath(config, path) {\r\n            let current = config;\r\n            for (let i = 0; i < path.length - 1; i++) {\r\n                let obj = current[path[i]];\r\n                if (!obj) {\r\n                    obj = Object.create(null);\r\n                    current[path[i]] = obj;\r\n                }\r\n                current = obj;\r\n            }\r\n            return current;\r\n        }\r\n        let resource = this._client.clientOptions.workspaceFolder\r\n            ? this._client.clientOptions.workspaceFolder.uri\r\n            : undefined;\r\n        let result = Object.create(null);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i];\r\n            let index = key.indexOf('.');\r\n            let config = null;\r\n            if (index >= 0) {\r\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\r\n            }\r\n            else {\r\n                config = vscode_1.workspace.getConfiguration(key, resource);\r\n            }\r\n            if (config) {\r\n                let path = keys[i].split('.');\r\n                ensurePath(result, path)[path[path.length - 1]] = config;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    getMiddleware() {\r\n        let middleware = this._client.clientOptions.middleware;\r\n        if (middleware.workspace && middleware.workspace.didChangeConfiguration) {\r\n            return middleware.workspace.didChangeConfiguration;\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\nclass ExecuteCommandFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._commands = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.executeCommandProvider) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\r\n        });\r\n    }\r\n    register(_message, data) {\r\n        let client = this._client;\r\n        if (data.registerOptions.commands) {\r\n            let disposeables = [];\r\n            for (const command of data.registerOptions.commands) {\r\n                disposeables.push(vscode_1.commands.registerCommand(command, (...args) => {\r\n                    let params = {\r\n                        command,\r\n                        arguments: args\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, error);\r\n                    });\r\n                }));\r\n            }\r\n            this._commands.set(data.id, disposeables);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposeables = this._commands.get(id);\r\n        if (disposeables) {\r\n            disposeables.forEach(disposable => disposable.dispose());\r\n        }\r\n    }\r\n    dispose() {\r\n        this._commands.forEach((value) => {\r\n            value.forEach(disposable => disposable.dispose());\r\n        });\r\n        this._commands.clear();\r\n    }\r\n}\r\nvar MessageTransports;\r\n(function (MessageTransports) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\r\n    }\r\n    MessageTransports.is = is;\r\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\r\nclass OnReady {\r\n    constructor(_resolve, _reject) {\r\n        this._resolve = _resolve;\r\n        this._reject = _reject;\r\n        this._used = false;\r\n    }\r\n    get isUsed() {\r\n        return this._used;\r\n    }\r\n    resolve() {\r\n        this._used = true;\r\n        this._resolve();\r\n    }\r\n    reject(error) {\r\n        this._used = true;\r\n        this._reject(error);\r\n    }\r\n}\r\nclass BaseLanguageClient {\r\n    constructor(id, name, clientOptions) {\r\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        this._features = [];\r\n        this._method2Message = new Map();\r\n        this._dynamicFeatures = new Map();\r\n        this._id = id;\r\n        this._name = name;\r\n        clientOptions = clientOptions || {};\r\n        this._clientOptions = {\r\n            documentSelector: clientOptions.documentSelector || [],\r\n            synchronize: clientOptions.synchronize || {},\r\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\r\n            outputChannelName: clientOptions.outputChannelName || this._name,\r\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn || RevealOutputChannelOn.Error,\r\n            stdioEncoding: clientOptions.stdioEncoding || 'utf8',\r\n            initializationOptions: clientOptions.initializationOptions,\r\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\r\n            errorHandler: clientOptions.errorHandler || new DefaultErrorHandler(this._name),\r\n            middleware: clientOptions.middleware || {},\r\n            uriConverters: clientOptions.uriConverters,\r\n            workspaceFolder: clientOptions.workspaceFolder\r\n        };\r\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\r\n        this.state = ClientState.Initial;\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        this._initializeResult = undefined;\r\n        if (clientOptions.outputChannel) {\r\n            this._outputChannel = clientOptions.outputChannel;\r\n            this._disposeOutputChannel = false;\r\n        }\r\n        else {\r\n            this._outputChannel = undefined;\r\n            this._disposeOutputChannel = true;\r\n        }\r\n        this._listeners = undefined;\r\n        this._providers = undefined;\r\n        this._diagnostics = undefined;\r\n        this._fileEvents = [];\r\n        this._fileEventDelayer = new async_1.Delayer(250);\r\n        this._onReady = new Promise((resolve, reject) => {\r\n            this._onReadyCallbacks = new OnReady(resolve, reject);\r\n        });\r\n        this._onStop = undefined;\r\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._tracer = {\r\n            log: (messageOrDataObject, data) => {\r\n                if (Is.string(messageOrDataObject)) {\r\n                    this.logTrace(messageOrDataObject, data);\r\n                }\r\n                else {\r\n                    this.logObjectTrace(messageOrDataObject);\r\n                }\r\n            },\r\n        };\r\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\r\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined);\r\n        this._syncedDocuments = new Map();\r\n        this.registerBuiltinFeatures();\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(value) {\r\n        let oldState = this.getPublicState();\r\n        this._state = value;\r\n        let newState = this.getPublicState();\r\n        if (newState !== oldState) {\r\n            this._stateChangeEmitter.fire({ oldState, newState });\r\n        }\r\n    }\r\n    getPublicState() {\r\n        if (this.state === ClientState.Running) {\r\n            return State.Running;\r\n        }\r\n        else if (this.state === ClientState.Starting) {\r\n            return State.Starting;\r\n        }\r\n        else {\r\n            return State.Stopped;\r\n        }\r\n    }\r\n    get initializeResult() {\r\n        return this._initializeResult;\r\n    }\r\n    sendRequest(type, ...params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            return this._resolvedConnection.sendRequest(type, ...params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onRequest(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            this._resolvedConnection.onRequest(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering request handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    sendNotification(type, params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            this._resolvedConnection.sendNotification(type, params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onNotification(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            this._resolvedConnection.onNotification(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering notification handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    get clientOptions() {\r\n        return this._clientOptions;\r\n    }\r\n    get protocol2CodeConverter() {\r\n        return this._p2c;\r\n    }\r\n    get code2ProtocolConverter() {\r\n        return this._c2p;\r\n    }\r\n    get onTelemetry() {\r\n        return this._telemetryEmitter.event;\r\n    }\r\n    get onDidChangeState() {\r\n        return this._stateChangeEmitter.event;\r\n    }\r\n    get outputChannel() {\r\n        if (!this._outputChannel) {\r\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\r\n        }\r\n        return this._outputChannel;\r\n    }\r\n    get diagnostics() {\r\n        return this._diagnostics;\r\n    }\r\n    createDefaultErrorHandler() {\r\n        return new DefaultErrorHandler(this._name);\r\n    }\r\n    set trace(value) {\r\n        this._trace = value;\r\n        this.onReady().then(() => {\r\n            this.resolveConnection().then((connection) => {\r\n                connection.trace(this._trace, this._tracer, {\r\n                    sendNotification: false,\r\n                    traceFormat: this._traceFormat\r\n                });\r\n            });\r\n        }, () => {\r\n        });\r\n    }\r\n    data2String(data) {\r\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n            const responseError = data;\r\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\r\n        }\r\n        if (data instanceof Error) {\r\n            if (Is.string(data.stack)) {\r\n                return data.stack;\r\n            }\r\n            return data.message;\r\n        }\r\n        if (Is.string(data)) {\r\n            return data;\r\n        }\r\n        return data.toString();\r\n    }\r\n    info(message, data) {\r\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\r\n            this.outputChannel.show(true);\r\n        }\r\n    }\r\n    warn(message, data) {\r\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\r\n            this.outputChannel.show(true);\r\n        }\r\n    }\r\n    error(message, data) {\r\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error) {\r\n            this.outputChannel.show(true);\r\n        }\r\n    }\r\n    logTrace(message, data) {\r\n        this.outputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n    }\r\n    logObjectTrace(data) {\r\n        if (data.isLSPMessage && data.type) {\r\n            this.outputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        else {\r\n            this.outputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        if (data) {\r\n            this.outputChannel.appendLine(`${JSON.stringify(data)}`);\r\n        }\r\n    }\r\n    needsStart() {\r\n        return this.state === ClientState.Initial || this.state === ClientState.Stopping || this.state === ClientState.Stopped;\r\n    }\r\n    needsStop() {\r\n        return this.state === ClientState.Starting || this.state === ClientState.Running;\r\n    }\r\n    onReady() {\r\n        return this._onReady;\r\n    }\r\n    isConnectionActive() {\r\n        return this.state === ClientState.Running && !!this._resolvedConnection;\r\n    }\r\n    start() {\r\n        if (this._onReadyCallbacks.isUsed) {\r\n            this._onReady = new Promise((resolve, reject) => {\r\n                this._onReadyCallbacks = new OnReady(resolve, reject);\r\n            });\r\n        }\r\n        this._listeners = [];\r\n        this._providers = [];\r\n        // If we restart then the diagnostics collection is reused.\r\n        if (!this._diagnostics) {\r\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\r\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\r\n                : vscode_1.languages.createDiagnosticCollection();\r\n        }\r\n        this.state = ClientState.Starting;\r\n        this.resolveConnection().then((connection) => {\r\n            connection.onLogMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        this.error(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        this.warn(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        this.info(message.message);\r\n                        break;\r\n                    default:\r\n                        this.outputChannel.appendLine(message.message);\r\n                }\r\n            });\r\n            connection.onShowMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        vscode_1.window.showErrorMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        vscode_1.window.showWarningMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                        break;\r\n                    default:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                }\r\n            });\r\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\r\n                let messageFunc;\r\n                switch (params.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        messageFunc = vscode_1.window.showErrorMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        messageFunc = vscode_1.window.showWarningMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                        break;\r\n                    default:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                }\r\n                let actions = params.actions || [];\r\n                return messageFunc(params.message, ...actions);\r\n            });\r\n            connection.onTelemetry((data) => {\r\n                this._telemetryEmitter.fire(data);\r\n            });\r\n            connection.listen();\r\n            // Error is handled in the initialize call.\r\n            return this.initialize(connection);\r\n        }).then(undefined, (error) => {\r\n            this.state = ClientState.StartFailed;\r\n            this._onReadyCallbacks.reject(error);\r\n            this.error('Starting client failed', error);\r\n            vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`);\r\n        });\r\n        return new vscode_1.Disposable(() => {\r\n            if (this.needsStop()) {\r\n                this.stop();\r\n            }\r\n        });\r\n    }\r\n    resolveConnection() {\r\n        if (!this._connectionPromise) {\r\n            this._connectionPromise = this.createConnection();\r\n        }\r\n        return this._connectionPromise;\r\n    }\r\n    initialize(connection) {\r\n        this.refreshTrace(connection, false);\r\n        let initOption = this._clientOptions.initializationOptions;\r\n        let rootPath = this._clientOptions.workspaceFolder\r\n            ? this._clientOptions.workspaceFolder.uri.fsPath\r\n            : this._clientGetRootPath();\r\n        let initParams = {\r\n            processId: process.pid,\r\n            rootPath: rootPath ? rootPath : null,\r\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\r\n            capabilities: this.computeClientCapabilities(),\r\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\r\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\r\n            workspaceFolders: null\r\n        };\r\n        this.fillInitializeParams(initParams);\r\n        return connection.initialize(initParams).then((result) => {\r\n            this._resolvedConnection = connection;\r\n            this._initializeResult = result;\r\n            this.state = ClientState.Running;\r\n            let textDocumentSyncOptions = undefined;\r\n            if (Is.number(result.capabilities.textDocumentSync)) {\r\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: false,\r\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\r\n                        save: undefined\r\n                    };\r\n                }\r\n                else {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: true,\r\n                        change: result.capabilities.textDocumentSync,\r\n                        save: {\r\n                            includeText: false\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n            else if (result.capabilities.textDocumentSync !== void 0 && result.capabilities.textDocumentSync !== null) {\r\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\r\n            }\r\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\r\n            connection.onDiagnostics(params => this.handleDiagnostics(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\r\n            connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\r\n            this.hookFileEvents(connection);\r\n            this.hookConfigurationChanged(connection);\r\n            this.initializeFeatures(connection);\r\n            this._onReadyCallbacks.resolve();\r\n            return result;\r\n        }).then(undefined, (error) => {\r\n            if (this._clientOptions.initializationFailedHandler) {\r\n                if (this._clientOptions.initializationFailedHandler(error)) {\r\n                    this.initialize(connection);\r\n                }\r\n                else {\r\n                    this.stop();\r\n                    this._onReadyCallbacks.reject(error);\r\n                }\r\n            }\r\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\r\n                vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: \"retry\" }).then(item => {\r\n                    if (item && item.id === 'retry') {\r\n                        this.initialize(connection);\r\n                    }\r\n                    else {\r\n                        this.stop();\r\n                        this._onReadyCallbacks.reject(error);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (error && error.message) {\r\n                    vscode_1.window.showErrorMessage(error.message);\r\n                }\r\n                this.error('Server initialization failed.', error);\r\n                this.stop();\r\n                this._onReadyCallbacks.reject(error);\r\n            }\r\n        });\r\n    }\r\n    _clientGetRootPath() {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (!folders || folders.length === 0) {\r\n            return undefined;\r\n        }\r\n        let folder = folders[0];\r\n        if (folder.uri.scheme === 'file') {\r\n            return folder.uri.fsPath;\r\n        }\r\n        return undefined;\r\n    }\r\n    stop() {\r\n        this._initializeResult = undefined;\r\n        if (!this._connectionPromise) {\r\n            this.state = ClientState.Stopped;\r\n            return Promise.resolve();\r\n        }\r\n        if (this.state === ClientState.Stopping && this._onStop) {\r\n            return this._onStop;\r\n        }\r\n        this.state = ClientState.Stopping;\r\n        this.cleanUp();\r\n        // unhook listeners\r\n        return this._onStop = this.resolveConnection().then(connection => {\r\n            return connection.shutdown().then(() => {\r\n                connection.exit();\r\n                connection.dispose();\r\n                this.state = ClientState.Stopped;\r\n                this._onStop = undefined;\r\n                this._connectionPromise = undefined;\r\n                this._resolvedConnection = undefined;\r\n            });\r\n        });\r\n    }\r\n    cleanUp(channel = true, diagnostics = true) {\r\n        if (this._listeners) {\r\n            this._listeners.forEach(listener => listener.dispose());\r\n            this._listeners = undefined;\r\n        }\r\n        if (this._providers) {\r\n            this._providers.forEach(provider => provider.dispose());\r\n            this._providers = undefined;\r\n        }\r\n        if (this._syncedDocuments) {\r\n            this._syncedDocuments.clear();\r\n        }\r\n        for (let handler of this._dynamicFeatures.values()) {\r\n            handler.dispose();\r\n        }\r\n        if (channel && this._outputChannel && this._disposeOutputChannel) {\r\n            this._outputChannel.dispose();\r\n            this._outputChannel = undefined;\r\n        }\r\n        if (diagnostics && this._diagnostics) {\r\n            this._diagnostics.dispose();\r\n            this._diagnostics = undefined;\r\n        }\r\n    }\r\n    notifyFileEvent(event) {\r\n        this._fileEvents.push(event);\r\n        this._fileEventDelayer.trigger(() => {\r\n            this.onReady().then(() => {\r\n                this.resolveConnection().then(connection => {\r\n                    if (this.isConnectionActive()) {\r\n                        connection.didChangeWatchedFiles({ changes: this._fileEvents });\r\n                    }\r\n                    this._fileEvents = [];\r\n                });\r\n            }, (error) => {\r\n                this.error(`Notify file events failed.`, error);\r\n            });\r\n        });\r\n    }\r\n    forceDocumentSync() {\r\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method).forceDelivery();\r\n    }\r\n    handleDiagnostics(params) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        let uri = this._p2c.asUri(params.uri);\r\n        let diagnostics = this._p2c.asDiagnostics(params.diagnostics);\r\n        let middleware = this.clientOptions.middleware.handleDiagnostics;\r\n        if (middleware) {\r\n            middleware(uri, diagnostics, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\r\n        }\r\n        else {\r\n            this.setDiagnostics(uri, diagnostics);\r\n        }\r\n    }\r\n    setDiagnostics(uri, diagnostics) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        this._diagnostics.set(uri, diagnostics);\r\n    }\r\n    createConnection() {\r\n        let errorHandler = (error, message, count) => {\r\n            this.handleConnectionError(error, message, count);\r\n        };\r\n        let closeHandler = () => {\r\n            this.handleConnectionClosed();\r\n        };\r\n        return this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8').then((transports) => {\r\n            return createConnection(transports.reader, transports.writer, errorHandler, closeHandler);\r\n        });\r\n    }\r\n    handleConnectionClosed() {\r\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\r\n        if (this.state === ClientState.Stopping || this.state === ClientState.Stopped) {\r\n            return;\r\n        }\r\n        try {\r\n            if (this._resolvedConnection) {\r\n                this._resolvedConnection.dispose();\r\n            }\r\n        }\r\n        catch (error) {\r\n            // Disposing a connection could fail if error cases.\r\n        }\r\n        let action = CloseAction.DoNotRestart;\r\n        try {\r\n            action = this._clientOptions.errorHandler.closed();\r\n        }\r\n        catch (error) {\r\n            // Ignore errors coming from the error handler.\r\n        }\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        if (action === CloseAction.DoNotRestart) {\r\n            this.error('Connection to server got closed. Server will not be restarted.');\r\n            this.state = ClientState.Stopped;\r\n            this.cleanUp(false, true);\r\n        }\r\n        else if (action === CloseAction.Restart) {\r\n            this.info('Connection to server got closed. Server will restart.');\r\n            this.cleanUp(false, false);\r\n            this.state = ClientState.Initial;\r\n            this.start();\r\n        }\r\n    }\r\n    handleConnectionError(error, message, count) {\r\n        let action = this._clientOptions.errorHandler.error(error, message, count);\r\n        if (action === ErrorAction.Shutdown) {\r\n            this.error('Connection to server is erroring. Shutting down server.');\r\n            this.stop();\r\n        }\r\n    }\r\n    hookConfigurationChanged(connection) {\r\n        vscode_1.workspace.onDidChangeConfiguration(() => {\r\n            this.refreshTrace(connection, true);\r\n        });\r\n    }\r\n    refreshTrace(connection, sendNotification = false) {\r\n        let config = vscode_1.workspace.getConfiguration(this._id);\r\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\r\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        if (config) {\r\n            const traceConfig = config.get('trace.server', 'off');\r\n            if (typeof traceConfig === 'string') {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\r\n            }\r\n            else {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\r\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\r\n            }\r\n        }\r\n        this._trace = trace;\r\n        this._traceFormat = traceFormat;\r\n        connection.trace(this._trace, this._tracer, {\r\n            sendNotification,\r\n            traceFormat: this._traceFormat\r\n        });\r\n    }\r\n    hookFileEvents(_connection) {\r\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\r\n        if (!fileEvents) {\r\n            return;\r\n        }\r\n        let watchers;\r\n        if (Is.array(fileEvents)) {\r\n            watchers = fileEvents;\r\n        }\r\n        else {\r\n            watchers = [fileEvents];\r\n        }\r\n        if (!watchers) {\r\n            return;\r\n        }\r\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\r\n    }\r\n    registerFeatures(features) {\r\n        for (let feature of features) {\r\n            this.registerFeature(feature);\r\n        }\r\n    }\r\n    registerFeature(feature) {\r\n        this._features.push(feature);\r\n        if (DynamicFeature.is(feature)) {\r\n            let messages = feature.messages;\r\n            if (Array.isArray(messages)) {\r\n                for (let message of messages) {\r\n                    this._method2Message.set(message.method, message);\r\n                    this._dynamicFeatures.set(message.method, feature);\r\n                }\r\n            }\r\n            else {\r\n                this._method2Message.set(messages.method, messages);\r\n                this._dynamicFeatures.set(messages.method, feature);\r\n            }\r\n        }\r\n    }\r\n    registerBuiltinFeatures() {\r\n        this.registerFeature(new ConfigurationFeature(this));\r\n        this.registerFeature(new DidOpenTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new DidChangeTextDocumentFeature(this));\r\n        this.registerFeature(new WillSaveFeature(this));\r\n        this.registerFeature(new WillSaveWaitUntilFeature(this));\r\n        this.registerFeature(new DidSaveTextDocumentFeature(this));\r\n        this.registerFeature(new DidCloseTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\r\n        this.registerFeature(new CompletionItemFeature(this));\r\n        this.registerFeature(new HoverFeature(this));\r\n        this.registerFeature(new SignatureHelpFeature(this));\r\n        this.registerFeature(new DefinitionFeature(this));\r\n        this.registerFeature(new ReferencesFeature(this));\r\n        this.registerFeature(new DocumentHighlightFeature(this));\r\n        this.registerFeature(new DocumentSymbolFeature(this));\r\n        this.registerFeature(new WorkspaceSymbolFeature(this));\r\n        this.registerFeature(new CodeActionFeature(this));\r\n        this.registerFeature(new CodeLensFeature(this));\r\n        this.registerFeature(new DocumentFormattingFeature(this));\r\n        this.registerFeature(new DocumentRangeFormattingFeature(this));\r\n        this.registerFeature(new DocumentOnTypeFormattingFeature(this));\r\n        this.registerFeature(new RenameFeature(this));\r\n        this.registerFeature(new DocumentLinkFeature(this));\r\n        this.registerFeature(new ExecuteCommandFeature(this));\r\n    }\r\n    fillInitializeParams(params) {\r\n        for (let feature of this._features) {\r\n            if (Is.func(feature.fillInitializeParams)) {\r\n                feature.fillInitializeParams(params);\r\n            }\r\n        }\r\n    }\r\n    computeClientCapabilities() {\r\n        let result = {};\r\n        ensure(result, 'workspace').applyEdit = true;\r\n        let workspaceEdit = ensure(ensure(result, 'workspace'), 'workspaceEdit');\r\n        workspaceEdit.documentChanges = true;\r\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\r\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\r\n        ensure(ensure(result, 'textDocument'), 'publishDiagnostics').relatedInformation = true;\r\n        for (let feature of this._features) {\r\n            feature.fillClientCapabilities(result);\r\n        }\r\n        return result;\r\n    }\r\n    initializeFeatures(_connection) {\r\n        let documentSelector = this._clientOptions.documentSelector;\r\n        for (let feature of this._features) {\r\n            feature.initialize(this._capabilities, documentSelector);\r\n        }\r\n    }\r\n    handleRegistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (let registration of params.registrations) {\r\n                const feature = this._dynamicFeatures.get(registration.method);\r\n                if (!feature) {\r\n                    reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\r\n                    return;\r\n                }\r\n                const options = registration.registerOptions || {};\r\n                options.documentSelector = options.documentSelector || this._clientOptions.documentSelector;\r\n                const data = {\r\n                    id: registration.id,\r\n                    registerOptions: options\r\n                };\r\n                feature.register(this._method2Message.get(registration.method), data);\r\n            }\r\n            resolve();\r\n        });\r\n    }\r\n    handleUnregistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (let unregistration of params.unregisterations) {\r\n                const feature = this._dynamicFeatures.get(unregistration.method);\r\n                if (!feature) {\r\n                    reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\r\n                    return;\r\n                }\r\n                feature.unregister(unregistration.id);\r\n            }\r\n            ;\r\n            resolve();\r\n        });\r\n    }\r\n    handleApplyWorkspaceEdit(params) {\r\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\r\n        // However doing it here adds some safety since the server can lag more behind then an extension.\r\n        let workspaceEdit = params.edit;\r\n        let openTextDocuments = new Map();\r\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\r\n        let versionMismatch = false;\r\n        if (workspaceEdit.documentChanges) {\r\n            for (const change of workspaceEdit.documentChanges) {\r\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\r\n                    let textDocument = openTextDocuments.get(change.textDocument.uri);\r\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\r\n                        versionMismatch = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (versionMismatch) {\r\n            return Promise.resolve({ applied: false });\r\n        }\r\n        return vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then((value) => { return { applied: value }; });\r\n    }\r\n    ;\r\n    logFailedRequest(type, error) {\r\n        // If we get a request cancel don't log anything.\r\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.code === vscode_languageserver_protocol_1.ErrorCodes.RequestCancelled) {\r\n            return;\r\n        }\r\n        this.error(`Request ${type.method} failed.`, error);\r\n    }\r\n}\r\nexports.BaseLanguageClient = BaseLanguageClient;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nconst proto = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nfunction createConverter(uriConverter) {\r\n    const nullConverter = (value) => value.toString();\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri)\r\n        };\r\n    }\r\n    function asVersionedTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri),\r\n            version: textDocument.version\r\n        };\r\n    }\r\n    function asOpenTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: {\r\n                uri: _uriConverter(textDocument.uri),\r\n                languageId: textDocument.languageId,\r\n                version: textDocument.version,\r\n                text: textDocument.getText()\r\n            }\r\n        };\r\n    }\r\n    function isTextDocumentChangeEvent(value) {\r\n        let candidate = value;\r\n        return !!candidate.document && !!candidate.contentChanges;\r\n    }\r\n    function isTextDocument(value) {\r\n        let candidate = value;\r\n        return !!candidate.uri && !!candidate.version;\r\n    }\r\n    function asChangeTextDocumentParams(arg) {\r\n        if (isTextDocument(arg)) {\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(arg.uri),\r\n                    version: arg.version\r\n                },\r\n                contentChanges: [{ text: arg.getText() }]\r\n            };\r\n            return result;\r\n        }\r\n        else if (isTextDocumentChangeEvent(arg)) {\r\n            let document = arg.document;\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(document.uri),\r\n                    version: document.version\r\n                },\r\n                contentChanges: arg.contentChanges.map((change) => {\r\n                    let range = change.range;\r\n                    return {\r\n                        range: {\r\n                            start: { line: range.start.line, character: range.start.character },\r\n                            end: { line: range.end.line, character: range.end.character }\r\n                        },\r\n                        rangeLength: change.rangeLength,\r\n                        text: change.text\r\n                    };\r\n                })\r\n            };\r\n            return result;\r\n        }\r\n        else {\r\n            throw Error('Unsupported text document change parameter');\r\n        }\r\n    }\r\n    function asCloseTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\r\n        let result = {\r\n            textDocument: asVersionedTextDocumentIdentifier(textDocument)\r\n        };\r\n        if (includeContent) {\r\n            result.text = textDocument.getText();\r\n        }\r\n        return result;\r\n    }\r\n    function asTextDocumentSaveReason(reason) {\r\n        switch (reason) {\r\n            case code.TextDocumentSaveReason.Manual:\r\n                return proto.TextDocumentSaveReason.Manual;\r\n            case code.TextDocumentSaveReason.AfterDelay:\r\n                return proto.TextDocumentSaveReason.AfterDelay;\r\n            case code.TextDocumentSaveReason.FocusOut:\r\n                return proto.TextDocumentSaveReason.FocusOut;\r\n        }\r\n        return proto.TextDocumentSaveReason.Manual;\r\n    }\r\n    function asWillSaveTextDocumentParams(event) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(event.document),\r\n            reason: asTextDocumentSaveReason(event.reason)\r\n        };\r\n    }\r\n    function asTextDocumentPositionParams(textDocument, position) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position)\r\n        };\r\n    }\r\n    function asTriggerKind(triggerKind) {\r\n        switch (triggerKind) {\r\n            case code.CompletionTriggerKind.TriggerCharacter:\r\n                return proto.CompletionTriggerKind.TriggerCharacter;\r\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\r\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\r\n            default:\r\n                return proto.CompletionTriggerKind.Invoked;\r\n        }\r\n    }\r\n    function asCompletionParams(textDocument, position, context) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: {\r\n                triggerKind: asTriggerKind(context.triggerKind),\r\n                triggerCharacter: context.triggerCharacter\r\n            }\r\n        };\r\n    }\r\n    function asWorkerPosition(position) {\r\n        return { line: position.line, character: position.character };\r\n    }\r\n    function asPosition(value) {\r\n        if (value === void 0) {\r\n            return undefined;\r\n        }\r\n        else if (value === null) {\r\n            return null;\r\n        }\r\n        return { line: value.line, character: value.character };\r\n    }\r\n    function asRange(value) {\r\n        if (value === void 0 || value === null) {\r\n            return value;\r\n        }\r\n        return { start: asPosition(value.start), end: asPosition(value.end) };\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        switch (value) {\r\n            case code.DiagnosticSeverity.Error:\r\n                return proto.DiagnosticSeverity.Error;\r\n            case code.DiagnosticSeverity.Warning:\r\n                return proto.DiagnosticSeverity.Warning;\r\n            case code.DiagnosticSeverity.Information:\r\n                return proto.DiagnosticSeverity.Information;\r\n            case code.DiagnosticSeverity.Hint:\r\n                return proto.DiagnosticSeverity.Hint;\r\n        }\r\n    }\r\n    function asDiagnostic(item) {\r\n        let result = proto.Diagnostic.create(asRange(item.range), item.message);\r\n        if (Is.number(item.severity)) {\r\n            result.severity = asDiagnosticSeverity(item.severity);\r\n        }\r\n        if (Is.number(item.code) || Is.string(item.code)) {\r\n            result.code = item.code;\r\n        }\r\n        if (item.source) {\r\n            result.source = item.source;\r\n        }\r\n        return result;\r\n    }\r\n    function asDiagnostics(items) {\r\n        if (items === void 0 || items === null) {\r\n            return items;\r\n        }\r\n        return items.map(asDiagnostic);\r\n    }\r\n    function asDocumentation(format, documentation) {\r\n        switch (format) {\r\n            case '$string':\r\n                return documentation;\r\n            case proto.MarkupKind.PlainText:\r\n                return { kind: format, value: documentation };\r\n            case proto.MarkupKind.Markdown:\r\n                return { kind: format, value: documentation.value };\r\n            default:\r\n                return `Unsupported Markup content received. Kind is: ${format}`;\r\n        }\r\n    }\r\n    function asCompletionItemKind(value, original) {\r\n        if (original !== void 0) {\r\n            return original;\r\n        }\r\n        return value + 1;\r\n    }\r\n    function asCompletionItem(item) {\r\n        let result = { label: item.label };\r\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        // We only send items back we created. So this can't be something else than\r\n        // a string right now.\r\n        if (item.documentation) {\r\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\r\n                result.documentation = item.documentation;\r\n            }\r\n            else {\r\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\r\n            }\r\n        }\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        fillPrimaryInsertText(result, item);\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (item.commitCharacters) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        if (protocolItem) {\r\n            if (protocolItem.data !== void 0) {\r\n                result.data = protocolItem.data;\r\n            }\r\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\r\n                result.deprecated = protocolItem.deprecated;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function fillPrimaryInsertText(target, source) {\r\n        let format = proto.InsertTextFormat.PlainText;\r\n        let text;\r\n        let range = undefined;\r\n        if (source.textEdit) {\r\n            text = source.textEdit.newText;\r\n            range = asRange(source.textEdit.range);\r\n        }\r\n        else if (source.insertText instanceof code.SnippetString) {\r\n            format = proto.InsertTextFormat.Snippet;\r\n            text = source.insertText.value;\r\n        }\r\n        else {\r\n            text = source.insertText;\r\n        }\r\n        if (source.range) {\r\n            range = asRange(source.range);\r\n        }\r\n        target.insertTextFormat = format;\r\n        if (source.fromEdit && text && range) {\r\n            target.textEdit = { newText: text, range: range };\r\n        }\r\n        else {\r\n            target.insertText = text;\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        return { range: asRange(edit.range), newText: edit.newText };\r\n    }\r\n    function asTextEdits(edits) {\r\n        if (edits === void 0 || edits === null) {\r\n            return edits;\r\n        }\r\n        return edits.map(asTextEdit);\r\n    }\r\n    function asReferenceParams(textDocument, position, options) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: { includeDeclaration: options.includeDeclaration }\r\n        };\r\n    }\r\n    function asCodeActionContext(context) {\r\n        if (context === void 0 || context === null) {\r\n            return context;\r\n        }\r\n        return proto.CodeActionContext.create(asDiagnostics(context.diagnostics), Is.string(context.only) ? [context.only] : undefined);\r\n    }\r\n    function asCommand(item) {\r\n        let result = proto.Command.create(item.title, item.command);\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        let result = proto.CodeLens.create(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item instanceof protocolCodeLens_1.default) {\r\n            if (item.data) {\r\n                result.data = item.data;\r\n            }\r\n            ;\r\n        }\r\n        return result;\r\n    }\r\n    function asFormattingOptions(item) {\r\n        return { tabSize: item.tabSize, insertSpaces: item.insertSpaces };\r\n    }\r\n    function asDocumentSymbolParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asCodeLensParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asDocumentLink(item) {\r\n        let result = proto.DocumentLink.create(asRange(item.range));\r\n        if (item.target) {\r\n            result.target = asUri(item.target);\r\n        }\r\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\r\n        if (protocolItem && protocolItem.data) {\r\n            result.data = protocolItem.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentLinkParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    return {\r\n        asUri,\r\n        asTextDocumentIdentifier,\r\n        asVersionedTextDocumentIdentifier,\r\n        asOpenTextDocumentParams,\r\n        asChangeTextDocumentParams,\r\n        asCloseTextDocumentParams,\r\n        asSaveTextDocumentParams,\r\n        asWillSaveTextDocumentParams,\r\n        asTextDocumentPositionParams,\r\n        asCompletionParams,\r\n        asWorkerPosition,\r\n        asRange,\r\n        asPosition,\r\n        asDiagnosticSeverity,\r\n        asDiagnostic,\r\n        asDiagnostics,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asReferenceParams,\r\n        asCodeActionContext,\r\n        asCommand,\r\n        asCodeLens,\r\n        asFormattingOptions,\r\n        asDocumentSymbolParams,\r\n        asCodeLensParams,\r\n        asDocumentLink,\r\n        asDocumentLinkParams\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ColorProviderFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'colorProvider').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.colorProvider) {\r\n            return;\r\n        }\r\n        const implCapabilities = capabilities.colorProvider;\r\n        const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n        const selector = implCapabilities.documentSelector || documentSelector;\r\n        if (selector) {\r\n            this.register(this.messages, {\r\n                id,\r\n                registerOptions: Object.assign({}, { documentSelector: selector })\r\n            });\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideColorPresentations = (color, context, token) => {\r\n            const requestParams = {\r\n                color,\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\r\n                range: client.code2ProtocolConverter.asRange(context.range)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then(this.asColorPresentations.bind(this), (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let provideDocumentColors = (document, token) => {\r\n            const requestParams = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then(this.asColorInformations.bind(this), (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerColorProvider(options.documentSelector, {\r\n            provideColorPresentations: (color, context, token) => {\r\n                return middleware.provideColorPresentations\r\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\r\n                    : provideColorPresentations(color, context, token);\r\n            },\r\n            provideDocumentColors: (document, token) => {\r\n                return middleware.provideDocumentColors\r\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\r\n                    : provideDocumentColors(document, token);\r\n            }\r\n        });\r\n    }\r\n    asColor(color) {\r\n        return new vscode_1.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(ci => {\r\n                return new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range), this.asColor(ci.color));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n    asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(cp => {\r\n                let presentation = new vscode_1.ColorPresentation(cp.label);\r\n                presentation.additionalTextEdits = this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);\r\n                presentation.textEdit = this._client.protocol2CodeConverter.asTextEdit(cp.textEdit);\r\n                return presentation;\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.ColorProviderFeature = ColorProviderFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.configuration = true;\r\n    }\r\n    initialize() {\r\n        let client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\r\n            let configuration = (params) => {\r\n                let result = [];\r\n                for (let item of params.items) {\r\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\r\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\r\n                }\r\n                return result;\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.configuration\r\n                ? middleware.configuration(params, token, configuration)\r\n                : configuration(params, token);\r\n        });\r\n    }\r\n    getConfiguration(resource, section) {\r\n        let result = null;\r\n        if (section) {\r\n            let index = section.lastIndexOf('.');\r\n            if (index === -1) {\r\n                result = vscode_1.workspace.getConfiguration(undefined, resource).get(section);\r\n            }\r\n            else {\r\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index));\r\n                if (config) {\r\n                    result = config.get(section.substr(index + 1));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\r\n            result = {};\r\n            for (let key of Object.keys(config)) {\r\n                if (config.has(key)) {\r\n                    result[key] = config.get(key);\r\n                }\r\n            }\r\n        }\r\n        if (!result) {\r\n            return null;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.ConfigurationFeature = ConfigurationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass DeclarationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let declarationSupport = ensure(ensure(capabilites, 'textDocument'), 'declaration');\r\n        declarationSupport.dynamicRegistration = true;\r\n        declarationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.declarationProvider) {\r\n            return;\r\n        }\r\n        if (capabilities.declarationProvider === true) {\r\n            if (!documentSelector) {\r\n                return;\r\n            }\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n            });\r\n        }\r\n        else {\r\n            const declCapabilities = capabilities.declarationProvider;\r\n            const id = Is.string(declCapabilities.id) && declCapabilities.id.length > 0 ? declCapabilities.id : UUID.generateUuid();\r\n            const selector = declCapabilities.documentSelector || documentSelector;\r\n            if (selector) {\r\n                this.register(this.messages, {\r\n                    id,\r\n                    registerOptions: Object.assign({}, { documentSelector: selector })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDeclaration = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDeclarationResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDeclarationProvider(options.documentSelector, {\r\n            provideDeclaration: (document, position, token) => {\r\n                return middleware.provideDeclaration\r\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\r\n                    : provideDeclaration(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.DeclarationFeature = DeclarationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass FoldingRangeFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let capability = ensure(ensure(capabilites, 'textDocument'), 'foldingRange');\r\n        capability.dynamicRegistration = true;\r\n        capability.rangeLimit = 5000;\r\n        capability.lineFoldingOnly = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.foldingRangeProvider) {\r\n            return;\r\n        }\r\n        const implCapabilities = capabilities.foldingRangeProvider;\r\n        const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n        const selector = implCapabilities.documentSelector || documentSelector;\r\n        if (selector) {\r\n            this.register(this.messages, {\r\n                id,\r\n                registerOptions: Object.assign({}, { documentSelector: selector })\r\n            });\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideFoldingRanges = (document, _, token) => {\r\n            const requestParams = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then(this.asFoldingRanges.bind(this), (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerFoldingRangeProvider(options.documentSelector, {\r\n            provideFoldingRanges(document, context, token) {\r\n                return middleware.provideFoldingRanges\r\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\r\n                    : provideFoldingRanges(document, context, token);\r\n            }\r\n        });\r\n    }\r\n    asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:\r\n                    return vscode_1.FoldingRangeKind.Comment;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:\r\n                    return vscode_1.FoldingRangeKind.Imports;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Region:\r\n                    return vscode_1.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return void 0;\r\n    }\r\n    asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(r => {\r\n                return new vscode_1.FoldingRange(r.startLine, r.endLine, this.asFoldingRangeKind(r.kind));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.FoldingRangeFeature = FoldingRangeFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ImplementationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let implementationSupport = ensure(ensure(capabilites, 'textDocument'), 'implementation');\r\n        implementationSupport.dynamicRegistration = true;\r\n        implementationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.implementationProvider) {\r\n            return;\r\n        }\r\n        if (capabilities.implementationProvider === true) {\r\n            if (!documentSelector) {\r\n                return;\r\n            }\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n            });\r\n        }\r\n        else {\r\n            const implCapabilities = capabilities.implementationProvider;\r\n            const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n            const selector = implCapabilities.documentSelector || documentSelector;\r\n            if (selector) {\r\n                this.register(this.messages, {\r\n                    id,\r\n                    registerOptions: Object.assign({}, { documentSelector: selector })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideImplementation = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerImplementationProvider(options.documentSelector, {\r\n            provideImplementation: (document, position, token) => {\r\n                return middleware.provideImplementation\r\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\r\n                    : provideImplementation(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.ImplementationFeature = ImplementationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst cp = require(\"child_process\");\r\nconst fs = require(\"fs\");\r\nconst SemVer = require(\"semver\");\r\nconst client_1 = require(\"./client\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst colorProvider_1 = require(\"./colorProvider\");\r\nconst configuration_1 = require(\"./configuration\");\r\nconst implementation_1 = require(\"./implementation\");\r\nconst typeDefinition_1 = require(\"./typeDefinition\");\r\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\r\nconst foldingRange_1 = require(\"./foldingRange\");\r\nconst declaration_1 = require(\"./declaration\");\r\nconst Is = require(\"./utils/is\");\r\nconst processes_1 = require(\"./utils/processes\");\r\n__export(require(\"./client\"));\r\nconst REQUIRED_VSCODE_VERSION = '^1.30'; // do not change format, updated by `updateVSCode` script\r\nvar Executable;\r\n(function (Executable) {\r\n    function is(value) {\r\n        return Is.string(value.command);\r\n    }\r\n    Executable.is = is;\r\n})(Executable || (Executable = {}));\r\nvar TransportKind;\r\n(function (TransportKind) {\r\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\r\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\r\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\r\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\r\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\r\nvar Transport;\r\n(function (Transport) {\r\n    function isSocket(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\r\n    }\r\n    Transport.isSocket = isSocket;\r\n})(Transport || (Transport = {}));\r\nvar NodeModule;\r\n(function (NodeModule) {\r\n    function is(value) {\r\n        return Is.string(value.module);\r\n    }\r\n    NodeModule.is = is;\r\n})(NodeModule || (NodeModule = {}));\r\nvar StreamInfo;\r\n(function (StreamInfo) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.writer !== void 0 && candidate.reader !== void 0;\r\n    }\r\n    StreamInfo.is = is;\r\n})(StreamInfo || (StreamInfo = {}));\r\nvar ChildProcessInfo;\r\n(function (ChildProcessInfo) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.process !== void 0 && typeof candidate.detached === 'boolean';\r\n    }\r\n    ChildProcessInfo.is = is;\r\n})(ChildProcessInfo || (ChildProcessInfo = {}));\r\nclass LanguageClient extends client_1.BaseLanguageClient {\r\n    constructor(arg1, arg2, arg3, arg4, arg5) {\r\n        let id;\r\n        let name;\r\n        let serverOptions;\r\n        let clientOptions;\r\n        let forceDebug;\r\n        if (Is.string(arg2)) {\r\n            id = arg1;\r\n            name = arg2;\r\n            serverOptions = arg3;\r\n            clientOptions = arg4;\r\n            forceDebug = !!arg5;\r\n        }\r\n        else {\r\n            id = arg1.toLowerCase();\r\n            name = arg1;\r\n            serverOptions = arg2;\r\n            clientOptions = arg3;\r\n            forceDebug = arg4;\r\n        }\r\n        if (forceDebug === void 0) {\r\n            forceDebug = false;\r\n        }\r\n        super(id, name, clientOptions);\r\n        this._serverOptions = serverOptions;\r\n        this._forceDebug = forceDebug;\r\n        try {\r\n            this.checkVersion();\r\n        }\r\n        catch (error) {\r\n            if (Is.string(error.message)) {\r\n                this.outputChannel.appendLine(error.message);\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n    checkVersion() {\r\n        let codeVersion = SemVer.parse(vscode_1.version);\r\n        if (!codeVersion) {\r\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\r\n        }\r\n        // Remove the insider pre-release since we stay API compatible.\r\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\r\n            codeVersion.prerelease = [];\r\n        }\r\n        if (!SemVer.satisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\r\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\r\n        }\r\n    }\r\n    stop() {\r\n        return super.stop().then(() => {\r\n            if (this._serverProcess) {\r\n                let toCheck = this._serverProcess;\r\n                this._serverProcess = undefined;\r\n                if (this._isDetached === void 0 || !this._isDetached) {\r\n                    this.checkProcessDied(toCheck);\r\n                }\r\n                this._isDetached = undefined;\r\n            }\r\n        });\r\n    }\r\n    checkProcessDied(childProcess) {\r\n        if (!childProcess) {\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            // Test if the process is still alive. Throws an exception if not\r\n            try {\r\n                process.kill(childProcess.pid, 0);\r\n                processes_1.terminate(childProcess);\r\n            }\r\n            catch (error) {\r\n                // All is fine.\r\n            }\r\n        }, 2000);\r\n    }\r\n    handleConnectionClosed() {\r\n        this._serverProcess = undefined;\r\n        super.handleConnectionClosed();\r\n    }\r\n    createMessageTransports(encoding) {\r\n        function getEnvironment(env) {\r\n            if (!env) {\r\n                return process.env;\r\n            }\r\n            let result = Object.create(null);\r\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\r\n            Object.keys(env).forEach(key => result[key] = env[key]);\r\n            return result;\r\n        }\r\n        function startedInDebugMode() {\r\n            let args = process.execArgv;\r\n            if (args) {\r\n                return args.some((arg) => /^--debug=?/.test(arg) || /^--debug-brk=?/.test(arg) || /^--inspect=?/.test(arg) || /^--inspect-brk=?/.test(arg));\r\n            }\r\n            ;\r\n            return false;\r\n        }\r\n        let server = this._serverOptions;\r\n        // We got a function.\r\n        if (Is.func(server)) {\r\n            return server().then((result) => {\r\n                if (client_1.MessageTransports.is(result)) {\r\n                    this._isDetached = !!result.detached;\r\n                    return result;\r\n                }\r\n                else if (StreamInfo.is(result)) {\r\n                    this._isDetached = !!result.detached;\r\n                    return { reader: new vscode_languageserver_protocol_1.StreamMessageReader(result.reader), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(result.writer) };\r\n                }\r\n                else {\r\n                    let cp;\r\n                    if (ChildProcessInfo.is(result)) {\r\n                        cp = result.process;\r\n                        this._isDetached = result.detached;\r\n                    }\r\n                    else {\r\n                        cp = result;\r\n                        this._isDetached = false;\r\n                    }\r\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                    return { reader: new vscode_languageserver_protocol_1.StreamMessageReader(cp.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(cp.stdin) };\r\n                }\r\n            });\r\n        }\r\n        let json;\r\n        let runDebug = server;\r\n        if (runDebug.run || runDebug.debug) {\r\n            // We are under debugging. So use debug as well.\r\n            if (typeof v8debug === 'object' || this._forceDebug || startedInDebugMode()) {\r\n                json = runDebug.debug;\r\n            }\r\n            else {\r\n                json = runDebug.run;\r\n            }\r\n        }\r\n        else {\r\n            json = server;\r\n        }\r\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\r\n            if (NodeModule.is(json) && json.module) {\r\n                let node = json;\r\n                let transport = node.transport || TransportKind.stdio;\r\n                if (node.runtime) {\r\n                    let args = [];\r\n                    let options = node.options || Object.create(null);\r\n                    if (options.execArgv) {\r\n                        options.execArgv.forEach(element => args.push(element));\r\n                    }\r\n                    args.push(node.module);\r\n                    if (node.args) {\r\n                        node.args.forEach(element => args.push(element));\r\n                    }\r\n                    let execOptions = Object.create(null);\r\n                    execOptions.cwd = serverWorkingDir;\r\n                    execOptions.env = getEnvironment(options.env);\r\n                    let pipeName = undefined;\r\n                    if (transport === TransportKind.ipc) {\r\n                        // exec options not correctly typed in lib\r\n                        execOptions.stdio = [null, null, null, 'ipc'];\r\n                        args.push('--node-ipc');\r\n                    }\r\n                    else if (transport === TransportKind.stdio) {\r\n                        args.push('--stdio');\r\n                    }\r\n                    else if (transport === TransportKind.pipe) {\r\n                        pipeName = vscode_languageserver_protocol_1.generateRandomPipeName();\r\n                        args.push(`--pipe=${pipeName}`);\r\n                    }\r\n                    else if (Transport.isSocket(transport)) {\r\n                        args.push(`--socket=${transport.port}`);\r\n                    }\r\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\r\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\r\n                        let serverProcess = cp.spawn(node.runtime, args, execOptions);\r\n                        if (!serverProcess || !serverProcess.pid) {\r\n                            return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\r\n                        }\r\n                        this._serverProcess = serverProcess;\r\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                        if (transport === TransportKind.ipc) {\r\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return Promise.resolve({ reader: new vscode_languageserver_protocol_1.IPCMessageReader(serverProcess), writer: new vscode_languageserver_protocol_1.IPCMessageWriter(serverProcess) });\r\n                        }\r\n                        else {\r\n                            return Promise.resolve({ reader: new vscode_languageserver_protocol_1.StreamMessageReader(serverProcess.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(serverProcess.stdin) });\r\n                        }\r\n                    }\r\n                    else if (transport == TransportKind.pipe) {\r\n                        return vscode_languageserver_protocol_1.createClientPipeTransport(pipeName).then((transport) => {\r\n                            let process = cp.spawn(node.runtime, args, execOptions);\r\n                            if (!process || !process.pid) {\r\n                                return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\r\n                            }\r\n                            this._serverProcess = process;\r\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return transport.onConnected().then((protocol) => {\r\n                                return { reader: protocol[0], writer: protocol[1] };\r\n                            });\r\n                        });\r\n                    }\r\n                    else if (Transport.isSocket(transport)) {\r\n                        return vscode_languageserver_protocol_1.createClientSocketTransport(transport.port).then((transport) => {\r\n                            let process = cp.spawn(node.runtime, args, execOptions);\r\n                            if (!process || !process.pid) {\r\n                                return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\r\n                            }\r\n                            this._serverProcess = process;\r\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return transport.onConnected().then((protocol) => {\r\n                                return { reader: protocol[0], writer: protocol[1] };\r\n                            });\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    let pipeName = undefined;\r\n                    return new Promise((resolve, _reject) => {\r\n                        let args = node.args && node.args.slice() || [];\r\n                        if (transport === TransportKind.ipc) {\r\n                            args.push('--node-ipc');\r\n                        }\r\n                        else if (transport === TransportKind.stdio) {\r\n                            args.push('--stdio');\r\n                        }\r\n                        else if (transport === TransportKind.pipe) {\r\n                            pipeName = vscode_languageserver_protocol_1.generateRandomPipeName();\r\n                            args.push(`--pipe=${pipeName}`);\r\n                        }\r\n                        else if (Transport.isSocket(transport)) {\r\n                            args.push(`--socket=${transport.port}`);\r\n                        }\r\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\r\n                        let options = node.options || Object.create(null);\r\n                        options.execArgv = options.execArgv || [];\r\n                        options.cwd = serverWorkingDir;\r\n                        options.silent = true;\r\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\r\n                            let sp = cp.fork(node.module, args || [], options);\r\n                            this._serverProcess = sp;\r\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            if (transport === TransportKind.ipc) {\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                resolve({ reader: new vscode_languageserver_protocol_1.IPCMessageReader(this._serverProcess), writer: new vscode_languageserver_protocol_1.IPCMessageWriter(this._serverProcess) });\r\n                            }\r\n                            else {\r\n                                resolve({ reader: new vscode_languageserver_protocol_1.StreamMessageReader(sp.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(sp.stdin) });\r\n                            }\r\n                        }\r\n                        else if (transport === TransportKind.pipe) {\r\n                            vscode_languageserver_protocol_1.createClientPipeTransport(pipeName).then((transport) => {\r\n                                let sp = cp.fork(node.module, args || [], options);\r\n                                this._serverProcess = sp;\r\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                transport.onConnected().then((protocol) => {\r\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\r\n                                });\r\n                            });\r\n                        }\r\n                        else if (Transport.isSocket(transport)) {\r\n                            vscode_languageserver_protocol_1.createClientSocketTransport(transport.port).then((transport) => {\r\n                                let sp = cp.fork(node.module, args || [], options);\r\n                                this._serverProcess = sp;\r\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                transport.onConnected().then((protocol) => {\r\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\r\n                                });\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else if (Executable.is(json) && json.command) {\r\n                let command = json;\r\n                let args = command.args || [];\r\n                let options = Object.assign({}, command.options);\r\n                options.cwd = options.cwd || serverWorkingDir;\r\n                let serverProcess = cp.spawn(command.command, args, options);\r\n                if (!serverProcess || !serverProcess.pid) {\r\n                    return Promise.reject(`Launching server using command ${command.command} failed.`);\r\n                }\r\n                serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                this._serverProcess = serverProcess;\r\n                this._isDetached = !!options.detached;\r\n                return Promise.resolve({ reader: new vscode_languageserver_protocol_1.StreamMessageReader(serverProcess.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(serverProcess.stdin) });\r\n            }\r\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\r\n        });\r\n    }\r\n    registerProposedFeatures() {\r\n        this.registerFeatures(ProposedFeatures.createAll(this));\r\n    }\r\n    registerBuiltinFeatures() {\r\n        super.registerBuiltinFeatures();\r\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\r\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\r\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\r\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\r\n        this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this));\r\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\r\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\r\n    }\r\n    _mainGetRootPath() {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (!folders || folders.length === 0) {\r\n            return undefined;\r\n        }\r\n        let folder = folders[0];\r\n        if (folder.uri.scheme === 'file') {\r\n            return folder.uri.fsPath;\r\n        }\r\n        return undefined;\r\n    }\r\n    _getServerWorkingDir(options) {\r\n        let cwd = options && options.cwd;\r\n        if (!cwd) {\r\n            cwd = this.clientOptions.workspaceFolder\r\n                ? this.clientOptions.workspaceFolder.uri.fsPath\r\n                : this._mainGetRootPath();\r\n        }\r\n        if (cwd) {\r\n            // make sure the folder exists otherwise creating the process will fail\r\n            return new Promise(s => {\r\n                fs.lstat(cwd, (err, stats) => {\r\n                    s(!err && stats.isDirectory() ? cwd : undefined);\r\n                });\r\n            });\r\n        }\r\n        return Promise.resolve(undefined);\r\n    }\r\n}\r\nexports.LanguageClient = LanguageClient;\r\nclass SettingMonitor {\r\n    constructor(_client, _setting) {\r\n        this._client = _client;\r\n        this._setting = _setting;\r\n        this._listeners = [];\r\n    }\r\n    start() {\r\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\r\n        this.onDidChangeConfiguration();\r\n        return new vscode_1.Disposable(() => {\r\n            if (this._client.needsStop()) {\r\n                this._client.stop();\r\n            }\r\n        });\r\n    }\r\n    onDidChangeConfiguration() {\r\n        let index = this._setting.indexOf('.');\r\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\r\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\r\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\r\n        if (enabled && this._client.needsStart()) {\r\n            this._client.start();\r\n        }\r\n        else if (!enabled && this._client.needsStop()) {\r\n            this._client.stop();\r\n        }\r\n    }\r\n}\r\nexports.SettingMonitor = SettingMonitor;\r\n// Exporting proposed protocol.\r\nvar ProposedFeatures;\r\n(function (ProposedFeatures) {\r\n    function createAll(_client) {\r\n        let result = [];\r\n        return result;\r\n    }\r\n    ProposedFeatures.createAll = createAll;\r\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCodeLens extends code.CodeLens {\r\n    constructor(range) {\r\n        super(range);\r\n    }\r\n}\r\nexports.default = ProtocolCodeLens;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCompletionItem extends code.CompletionItem {\r\n    constructor(label) {\r\n        super(label);\r\n    }\r\n}\r\nexports.default = ProtocolCompletionItem;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nconst ls = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nvar CodeBlock;\r\n(function (CodeBlock) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\r\n    }\r\n    CodeBlock.is = is;\r\n})(CodeBlock || (CodeBlock = {}));\r\nfunction createConverter(uriConverter) {\r\n    const nullConverter = (value) => code.Uri.parse(value);\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asDiagnostics(diagnostics) {\r\n        return diagnostics.map(asDiagnostic);\r\n    }\r\n    function asDiagnostic(diagnostic) {\r\n        let result = new code.Diagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity));\r\n        if (Is.number(diagnostic.code) || Is.string(diagnostic.code)) {\r\n            result.code = diagnostic.code;\r\n        }\r\n        if (diagnostic.source) {\r\n            result.source = diagnostic.source;\r\n        }\r\n        if (diagnostic.relatedInformation) {\r\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\r\n        }\r\n        return result;\r\n    }\r\n    function asRelatedInformation(relatedInformation) {\r\n        return relatedInformation.map(asDiagnosticRelatedInformation);\r\n    }\r\n    function asDiagnosticRelatedInformation(information) {\r\n        return new code.DiagnosticRelatedInformation(asLocation(information.location), information.message);\r\n    }\r\n    function asPosition(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Position(value.line, value.character);\r\n    }\r\n    function asRange(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Range(asPosition(value.start), asPosition(value.end));\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        if (value === void 0 || value === null) {\r\n            return code.DiagnosticSeverity.Error;\r\n        }\r\n        switch (value) {\r\n            case ls.DiagnosticSeverity.Error:\r\n                return code.DiagnosticSeverity.Error;\r\n            case ls.DiagnosticSeverity.Warning:\r\n                return code.DiagnosticSeverity.Warning;\r\n            case ls.DiagnosticSeverity.Information:\r\n                return code.DiagnosticSeverity.Information;\r\n            case ls.DiagnosticSeverity.Hint:\r\n                return code.DiagnosticSeverity.Hint;\r\n        }\r\n        return code.DiagnosticSeverity.Error;\r\n    }\r\n    function asHoverContent(value) {\r\n        if (Is.string(value)) {\r\n            return new code.MarkdownString(value);\r\n        }\r\n        else if (CodeBlock.is(value)) {\r\n            let result = new code.MarkdownString();\r\n            return result.appendCodeblock(value.value, value.language);\r\n        }\r\n        else if (Array.isArray(value)) {\r\n            let result = [];\r\n            for (let element of value) {\r\n                let item = new code.MarkdownString();\r\n                if (CodeBlock.is(element)) {\r\n                    item.appendCodeblock(element.value, element.language);\r\n                }\r\n                else {\r\n                    item.appendMarkdown(element);\r\n                }\r\n                result.push(item);\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            let result;\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return new code.MarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    result = new code.MarkdownString();\r\n                    result.appendText(value.value);\r\n                    return result;\r\n                default:\r\n                    result = new code.MarkdownString();\r\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\r\n                    return result;\r\n            }\r\n        }\r\n    }\r\n    function asDocumentation(value) {\r\n        if (Is.string(value)) {\r\n            return value;\r\n        }\r\n        else {\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return new code.MarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    return value.value;\r\n                default:\r\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\r\n            }\r\n        }\r\n    }\r\n    function asHover(hover) {\r\n        if (!hover) {\r\n            return undefined;\r\n        }\r\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\r\n    }\r\n    function asCompletionResult(result) {\r\n        if (!result) {\r\n            return undefined;\r\n        }\r\n        if (Array.isArray(result)) {\r\n            let items = result;\r\n            return items.map(asCompletionItem);\r\n        }\r\n        let list = result;\r\n        return new code.CompletionList(list.items.map(asCompletionItem), list.isIncomplete);\r\n    }\r\n    function asCompletionItemKind(value) {\r\n        // Protocol item kind is 1 based, codes item kind is zero based.\r\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\r\n            return [value - 1, undefined];\r\n        }\r\n        ;\r\n        return [code.CompletionItemKind.Text, value];\r\n    }\r\n    function asCompletionItem(item) {\r\n        let result = new protocolCompletionItem_1.default(item.label);\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\r\n        }\r\n        ;\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        let insertText = asCompletionInsertText(item);\r\n        if (insertText) {\r\n            result.insertText = insertText.text;\r\n            result.range = insertText.range;\r\n            result.fromEdit = insertText.fromEdit;\r\n        }\r\n        if (Is.number(item.kind)) {\r\n            let [itemKind, original] = asCompletionItemKind(item.kind);\r\n            result.kind = itemKind;\r\n            if (original) {\r\n                result.originalItemKind = original;\r\n            }\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (Is.stringArray(item.commitCharacters)) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.deprecated === true || item.deprecated === false) {\r\n            result.deprecated = item.deprecated;\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        if (item.data !== void 0) {\r\n            result.data = item.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionInsertText(item) {\r\n        if (item.textEdit) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.textEdit.newText), range: asRange(item.textEdit.range), fromEdit: true };\r\n            }\r\n            else {\r\n                return { text: item.textEdit.newText, range: asRange(item.textEdit.range), fromEdit: true };\r\n            }\r\n        }\r\n        else if (item.insertText) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\r\n            }\r\n            else {\r\n                return { text: item.insertText, fromEdit: false };\r\n            }\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        if (!edit) {\r\n            return undefined;\r\n        }\r\n        return new code.TextEdit(asRange(edit.range), edit.newText);\r\n    }\r\n    function asTextEdits(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asTextEdit);\r\n    }\r\n    function asSignatureHelp(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new code.SignatureHelp();\r\n        if (Is.number(item.activeSignature)) {\r\n            result.activeSignature = item.activeSignature;\r\n        }\r\n        else {\r\n            // activeSignature was optional in the past\r\n            result.activeSignature = 0;\r\n        }\r\n        if (Is.number(item.activeParameter)) {\r\n            result.activeParameter = item.activeParameter;\r\n        }\r\n        else {\r\n            // activeParameter was optional in the past\r\n            result.activeParameter = 0;\r\n        }\r\n        if (item.signatures) {\r\n            result.signatures = asSignatureInformations(item.signatures);\r\n        }\r\n        return result;\r\n    }\r\n    function asSignatureInformations(items) {\r\n        return items.map(asSignatureInformation);\r\n    }\r\n    function asSignatureInformation(item) {\r\n        let result = new code.SignatureInformation(item.label);\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        if (item.parameters) {\r\n            result.parameters = asParameterInformations(item.parameters);\r\n        }\r\n        return result;\r\n    }\r\n    function asParameterInformations(item) {\r\n        return item.map(asParameterInformation);\r\n    }\r\n    function asParameterInformation(item) {\r\n        let result = new code.ParameterInformation(item.label);\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        ;\r\n        return result;\r\n    }\r\n    function asLocation(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return new code.Location(_uriConverter(item.uri), asRange(item.range));\r\n    }\r\n    function asDeclarationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asDefinitionResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asLocationLink(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return {\r\n            targetUri: _uriConverter(item.targetUri),\r\n            targetRange: asRange(item.targetSelectionRange),\r\n            originSelectionRange: asRange(item.originSelectionRange),\r\n            targetSelectionRange: asRange(item.targetSelectionRange)\r\n        };\r\n    }\r\n    function asLocationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        if (Is.array(item)) {\r\n            if (item.length === 0) {\r\n                return [];\r\n            }\r\n            else if (ls.LocationLink.is(item[0])) {\r\n                let links = item;\r\n                return links.map((link) => asLocationLink(link));\r\n            }\r\n            else {\r\n                let locations = item;\r\n                return locations.map((location) => asLocation(location));\r\n            }\r\n        }\r\n        else if (ls.LocationLink.is(item)) {\r\n            return [asLocationLink(item)];\r\n        }\r\n        else {\r\n            return asLocation(item);\r\n        }\r\n    }\r\n    function asReferences(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(location => asLocation(location));\r\n    }\r\n    function asDocumentHighlights(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentHighlight);\r\n    }\r\n    function asDocumentHighlight(item) {\r\n        let result = new code.DocumentHighlight(asRange(item.range));\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asDocumentHighlightKind(item.kind);\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentHighlightKind(item) {\r\n        switch (item) {\r\n            case ls.DocumentHighlightKind.Text:\r\n                return code.DocumentHighlightKind.Text;\r\n            case ls.DocumentHighlightKind.Read:\r\n                return code.DocumentHighlightKind.Read;\r\n            case ls.DocumentHighlightKind.Write:\r\n                return code.DocumentHighlightKind.Write;\r\n        }\r\n        return code.DocumentHighlightKind.Text;\r\n    }\r\n    function asSymbolInformations(values, uri) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(information => asSymbolInformation(information, uri));\r\n    }\r\n    function asSymbolKind(item) {\r\n        if (item <= ls.SymbolKind.TypeParameter) {\r\n            // Symbol kind is one based in the protocol and zero based in code.\r\n            return item - 1;\r\n        }\r\n        return code.SymbolKind.Property;\r\n    }\r\n    function asSymbolInformation(item, uri) {\r\n        // Symbol kind is one based in the protocol and zero based in code.\r\n        let result = new code.SymbolInformation(item.name, asSymbolKind(item.kind), asRange(item.location.range), item.location.uri ? _uriConverter(item.location.uri) : uri);\r\n        if (item.containerName) {\r\n            result.containerName = item.containerName;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentSymbols(values) {\r\n        if (values === void 0 || values === null) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentSymbol);\r\n    }\r\n    function asDocumentSymbol(value) {\r\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\r\n        if (value.children !== void 0 && value.children.length > 0) {\r\n            let children = [];\r\n            for (let child of value.children) {\r\n                children.push(asDocumentSymbol(child));\r\n            }\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    function asCommand(item) {\r\n        let result = { title: item.title, command: item.command };\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCommands(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asCommand);\r\n    }\r\n    const kindMapping = new Map();\r\n    kindMapping.set('', code.CodeActionKind.Empty);\r\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\r\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\r\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\r\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\r\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\r\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\r\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\r\n    function asCodeActionKind(item) {\r\n        if (item === void 0 || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = kindMapping.get(item);\r\n        if (result) {\r\n            return result;\r\n        }\r\n        let parts = item.split('.');\r\n        result = code.CodeActionKind.Empty;\r\n        for (let part of parts) {\r\n            result = result.append(part);\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeActionKinds(items) {\r\n        if (items === void 0 || items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(kind => asCodeActionKind(kind));\r\n    }\r\n    function asCodeAction(item) {\r\n        if (item === void 0 || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = new code.CodeAction(item.title);\r\n        if (item.kind !== void 0) {\r\n            result.kind = asCodeActionKind(item.kind);\r\n        }\r\n        if (item.diagnostics) {\r\n            result.diagnostics = asDiagnostics(item.diagnostics);\r\n        }\r\n        if (item.edit) {\r\n            result.edit = asWorkspaceEdit(item.edit);\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new protocolCodeLens_1.default(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.data !== void 0 && item.data !== null) {\r\n            result.data = item.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLenses(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map((codeLens) => asCodeLens(codeLens));\r\n    }\r\n    function asWorkspaceEdit(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new code.WorkspaceEdit();\r\n        if (item.documentChanges) {\r\n            item.documentChanges.forEach(change => {\r\n                if (ls.CreateFile.is(change)) {\r\n                    result.createFile(_uriConverter(change.uri), change.options);\r\n                }\r\n                else if (ls.RenameFile.is(change)) {\r\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options);\r\n                }\r\n                else if (ls.DeleteFile.is(change)) {\r\n                    result.deleteFile(_uriConverter(change.uri), change.options);\r\n                }\r\n                else if (ls.TextDocumentEdit.is(change)) {\r\n                    result.set(_uriConverter(change.textDocument.uri), asTextEdits(change.edits));\r\n                }\r\n                else {\r\n                    console.error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\r\n                }\r\n            });\r\n        }\r\n        else if (item.changes) {\r\n            Object.keys(item.changes).forEach(key => {\r\n                result.set(_uriConverter(key), asTextEdits(item.changes[key]));\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentLink(item) {\r\n        let range = asRange(item.range);\r\n        let target = item.target ? asUri(item.target) : undefined;\r\n        // target must be optional in DocumentLink\r\n        let link = new protocolDocumentLink_1.default(range, target);\r\n        if (item.data !== void 0 && item.data !== null) {\r\n            link.data = item.data;\r\n        }\r\n        return link;\r\n    }\r\n    function asDocumentLinks(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asDocumentLink);\r\n    }\r\n    function asColor(color) {\r\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    function asColorInformation(ci) {\r\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\r\n    }\r\n    function asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(asColorInformation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asColorPresentation(cp) {\r\n        let presentation = new code.ColorPresentation(cp.label);\r\n        presentation.additionalTextEdits = asTextEdits(cp.additionalTextEdits);\r\n        if (cp.textEdit) {\r\n            presentation.textEdit = asTextEdit(cp.textEdit);\r\n        }\r\n        return presentation;\r\n    }\r\n    function asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(asColorPresentation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case ls.FoldingRangeKind.Comment:\r\n                    return code.FoldingRangeKind.Comment;\r\n                case ls.FoldingRangeKind.Imports:\r\n                    return code.FoldingRangeKind.Imports;\r\n                case ls.FoldingRangeKind.Region:\r\n                    return code.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return void 0;\r\n    }\r\n    function asFoldingRange(r) {\r\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\r\n    }\r\n    function asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(asFoldingRange);\r\n        }\r\n        return void 0;\r\n    }\r\n    return {\r\n        asUri,\r\n        asDiagnostics,\r\n        asDiagnostic,\r\n        asRange,\r\n        asPosition,\r\n        asDiagnosticSeverity,\r\n        asHover,\r\n        asCompletionResult,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asTextEdits,\r\n        asSignatureHelp,\r\n        asSignatureInformations,\r\n        asSignatureInformation,\r\n        asParameterInformations,\r\n        asParameterInformation,\r\n        asDeclarationResult,\r\n        asDefinitionResult,\r\n        asLocation,\r\n        asReferences,\r\n        asDocumentHighlights,\r\n        asDocumentHighlight,\r\n        asDocumentHighlightKind,\r\n        asSymbolInformations,\r\n        asSymbolInformation,\r\n        asDocumentSymbols,\r\n        asDocumentSymbol,\r\n        asCommand,\r\n        asCommands,\r\n        asCodeAction,\r\n        asCodeActionKind,\r\n        asCodeActionKinds,\r\n        asCodeLens,\r\n        asCodeLenses,\r\n        asWorkspaceEdit,\r\n        asDocumentLink,\r\n        asDocumentLinks,\r\n        asFoldingRangeKind,\r\n        asFoldingRange,\r\n        asFoldingRanges,\r\n        asColor,\r\n        asColorInformation,\r\n        asColorInformations,\r\n        asColorPresentation,\r\n        asColorPresentations\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolDocumentLink extends code.DocumentLink {\r\n    constructor(range, target) {\r\n        super(range, target);\r\n    }\r\n}\r\nexports.default = ProtocolDocumentLink;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass TypeDefinitionFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\r\n        let typeDefinitionSupport = ensure(ensure(capabilites, 'textDocument'), 'typeDefinition');\r\n        typeDefinitionSupport.dynamicRegistration = true;\r\n        typeDefinitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.typeDefinitionProvider) {\r\n            return;\r\n        }\r\n        if (capabilities.typeDefinitionProvider === true) {\r\n            if (!documentSelector) {\r\n                return;\r\n            }\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n            });\r\n        }\r\n        else {\r\n            const implCapabilities = capabilities.typeDefinitionProvider;\r\n            const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n            const selector = implCapabilities.documentSelector || documentSelector;\r\n            if (selector) {\r\n                this.register(this.messages, {\r\n                    id,\r\n                    registerOptions: Object.assign({}, { documentSelector: selector })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideTypeDefinition = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector, {\r\n            provideTypeDefinition: (document, position, token) => {\r\n                return middleware.provideTypeDefinition\r\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\r\n                    : provideTypeDefinition(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Delayer {\r\n    constructor(defaultDelay) {\r\n        this.defaultDelay = defaultDelay;\r\n        this.timeout = undefined;\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n    }\r\n    trigger(task, delay = this.defaultDelay) {\r\n        this.task = task;\r\n        if (delay >= 0) {\r\n            this.cancelTimeout();\r\n        }\r\n        if (!this.completionPromise) {\r\n            this.completionPromise = new Promise((resolve) => {\r\n                this.onSuccess = resolve;\r\n            }).then(() => {\r\n                this.completionPromise = undefined;\r\n                this.onSuccess = undefined;\r\n                var result = this.task();\r\n                this.task = undefined;\r\n                return result;\r\n            });\r\n        }\r\n        if (delay >= 0 || this.timeout === void 0) {\r\n            this.timeout = setTimeout(() => {\r\n                this.timeout = undefined;\r\n                this.onSuccess(undefined);\r\n            }, delay >= 0 ? delay : this.defaultDelay);\r\n        }\r\n        return this.completionPromise;\r\n    }\r\n    forceDelivery() {\r\n        if (!this.completionPromise) {\r\n            return undefined;\r\n        }\r\n        this.cancelTimeout();\r\n        let result = this.task();\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n        return result;\r\n    }\r\n    isTriggered() {\r\n        return this.timeout !== void 0;\r\n    }\r\n    cancel() {\r\n        this.cancelTimeout();\r\n        this.completionPromise = undefined;\r\n    }\r\n    cancelTimeout() {\r\n        if (this.timeout !== void 0) {\r\n            clearTimeout(this.timeout);\r\n            this.timeout = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Delayer = Delayer;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst cp = require(\"child_process\");\r\nconst path_1 = require(\"path\");\r\nconst isWindows = (process.platform === 'win32');\r\nconst isMacintosh = (process.platform === 'darwin');\r\nconst isLinux = (process.platform === 'linux');\r\nfunction terminate(process, cwd) {\r\n    if (isWindows) {\r\n        try {\r\n            // This we run in Atom execFileSync is available.\r\n            // Ignore stderr since this is otherwise piped to parent.stderr\r\n            // which might be already closed.\r\n            let options = {\r\n                stdio: ['pipe', 'pipe', 'ignore']\r\n            };\r\n            if (cwd) {\r\n                options.cwd = cwd;\r\n            }\r\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\r\n            return true;\r\n        }\r\n        catch (err) {\r\n            return false;\r\n        }\r\n    }\r\n    else if (isLinux || isMacintosh) {\r\n        try {\r\n            var cmd = path_1.join(__dirname, 'terminateProcess.sh');\r\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\r\n            return result.error ? false : true;\r\n        }\r\n        catch (err) {\r\n            return false;\r\n        }\r\n    }\r\n    else {\r\n        process.kill('SIGKILL');\r\n        return true;\r\n    }\r\n}\r\nexports.terminate = terminate;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ValueUUID {\r\n    constructor(_value) {\r\n        this._value = _value;\r\n        // empty\r\n    }\r\n    asHex() {\r\n        return this._value;\r\n    }\r\n    equals(other) {\r\n        return this.asHex() === other.asHex();\r\n    }\r\n}\r\nclass V4UUID extends ValueUUID {\r\n    constructor() {\r\n        super([\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            '4',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._oneOf(V4UUID._timeHighBits),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n        ].join(''));\r\n    }\r\n    static _oneOf(array) {\r\n        return array[Math.floor(array.length * Math.random())];\r\n    }\r\n    static _randomHex() {\r\n        return V4UUID._oneOf(V4UUID._chars);\r\n    }\r\n}\r\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\r\n/**\r\n * An empty UUID that contains only zeros.\r\n */\r\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\r\nfunction v4() {\r\n    return new V4UUID();\r\n}\r\nexports.v4 = v4;\r\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\nfunction isUUID(value) {\r\n    return _UUIDPattern.test(value);\r\n}\r\nexports.isUUID = isUUID;\r\n/**\r\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\r\n * @param value A uuid string.\r\n */\r\nfunction parse(value) {\r\n    if (!isUUID(value)) {\r\n        throw new Error('invalid uuid');\r\n    }\r\n    return new ValueUUID(value);\r\n}\r\nexports.parse = parse;\r\nfunction generateUuid() {\r\n    return v4().asHex();\r\n}\r\nexports.generateUuid = generateUuid;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nfunction access(target, key) {\r\n    if (target === void 0) {\r\n        return undefined;\r\n    }\r\n    return target[key];\r\n}\r\nclass WorkspaceFoldersFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\r\n    }\r\n    fillInitializeParams(params) {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (folders === void 0) {\r\n            params.workspaceFolders = null;\r\n        }\r\n        else {\r\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\r\n        }\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.workspaceFolders = true;\r\n    }\r\n    initialize(capabilities) {\r\n        let client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\r\n            let workspaceFolders = () => {\r\n                let folders = vscode_1.workspace.workspaceFolders;\r\n                if (folders === void 0) {\r\n                    return null;\r\n                }\r\n                let result = folders.map((folder) => {\r\n                    return this.asProtocol(folder);\r\n                });\r\n                return result;\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.workspaceFolders\r\n                ? middleware.workspaceFolders(token, workspaceFolders)\r\n                : workspaceFolders(token);\r\n        });\r\n        let value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\r\n        let id;\r\n        if (typeof value === 'string') {\r\n            id = value;\r\n        }\r\n        else if (value === true) {\r\n            id = UUID.generateUuid();\r\n        }\r\n        if (id) {\r\n            this.register(this.messages, {\r\n                id: id,\r\n                registerOptions: undefined\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        let id = data.id;\r\n        let client = this._client;\r\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\r\n            let didChangeWorkspaceFolders = (event) => {\r\n                let params = {\r\n                    event: {\r\n                        added: event.added.map(folder => this.asProtocol(folder)),\r\n                        removed: event.removed.map(folder => this.asProtocol(folder))\r\n                    }\r\n                };\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            middleware && middleware.didChangeWorkspaceFolders\r\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\r\n                : didChangeWorkspaceFolders(event);\r\n        });\r\n        this._listeners.set(id, disposable);\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable === void 0) {\r\n            return;\r\n        }\r\n        this._listeners.delete(id);\r\n        disposable.dispose();\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    asProtocol(workspaceFolder) {\r\n        if (workspaceFolder === void 0) {\r\n            return null;\r\n        }\r\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\r\n    }\r\n}\r\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nexports.ErrorCodes = vscode_jsonrpc_1.ErrorCodes;\r\nexports.ResponseError = vscode_jsonrpc_1.ResponseError;\r\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\r\nexports.CancellationTokenSource = vscode_jsonrpc_1.CancellationTokenSource;\r\nexports.Disposable = vscode_jsonrpc_1.Disposable;\r\nexports.Event = vscode_jsonrpc_1.Event;\r\nexports.Emitter = vscode_jsonrpc_1.Emitter;\r\nexports.Trace = vscode_jsonrpc_1.Trace;\r\nexports.TraceFormat = vscode_jsonrpc_1.TraceFormat;\r\nexports.SetTraceNotification = vscode_jsonrpc_1.SetTraceNotification;\r\nexports.LogTraceNotification = vscode_jsonrpc_1.LogTraceNotification;\r\nexports.RequestType = vscode_jsonrpc_1.RequestType;\r\nexports.RequestType0 = vscode_jsonrpc_1.RequestType0;\r\nexports.NotificationType = vscode_jsonrpc_1.NotificationType;\r\nexports.NotificationType0 = vscode_jsonrpc_1.NotificationType0;\r\nexports.MessageReader = vscode_jsonrpc_1.MessageReader;\r\nexports.MessageWriter = vscode_jsonrpc_1.MessageWriter;\r\nexports.ConnectionStrategy = vscode_jsonrpc_1.ConnectionStrategy;\r\nexports.StreamMessageReader = vscode_jsonrpc_1.StreamMessageReader;\r\nexports.StreamMessageWriter = vscode_jsonrpc_1.StreamMessageWriter;\r\nexports.IPCMessageReader = vscode_jsonrpc_1.IPCMessageReader;\r\nexports.IPCMessageWriter = vscode_jsonrpc_1.IPCMessageWriter;\r\nexports.createClientPipeTransport = vscode_jsonrpc_1.createClientPipeTransport;\r\nexports.createServerPipeTransport = vscode_jsonrpc_1.createServerPipeTransport;\r\nexports.generateRandomPipeName = vscode_jsonrpc_1.generateRandomPipeName;\r\nexports.createClientSocketTransport = vscode_jsonrpc_1.createClientSocketTransport;\r\nexports.createServerSocketTransport = vscode_jsonrpc_1.createServerSocketTransport;\r\n__export(require(\"vscode-languageserver-types\"));\r\n__export(require(\"./protocol\"));\r\nfunction createProtocolConnection(reader, writer, logger, strategy) {\r\n    return vscode_jsonrpc_1.createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentColor');\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new vscode_jsonrpc_1.RequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/declaration');\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/foldingRange');\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/implementation');\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\r\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\r\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling startegy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guaruntee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new vscode_jsonrpc_1.RequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The intialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new vscode_jsonrpc_1.NotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new vscode_jsonrpc_1.RequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new vscode_jsonrpc_1.NotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n//---- Configuration notification ----\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new vscode_jsonrpc_1.RequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new vscode_jsonrpc_1.NotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didOpen');\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didChange');\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didClose');\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didSave');\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/willSave');\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/willSaveWaitUntil');\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n//---- File eventing ----\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n//---- Diagnostic notification ----\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/completion');\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.type = new vscode_jsonrpc_1.RequestType('completionItem/resolve');\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n//---- Hover Support -------------------------------\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/hover');\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/signatureHelp');\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n//---- Goto Definition -------------------------------------\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/definition');\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/references');\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n//---- Document Highlight ----------------------------------\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentHighlight');\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n//---- Document Symbol Provider ---------------------------\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentSymbol');\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n//---- Workspace Symbol Provider ---------------------------\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.type = new vscode_jsonrpc_1.RequestType('workspace/symbol');\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeAction');\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeLens');\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.type = new vscode_jsonrpc_1.RequestType('codeLens/resolve');\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/formatting');\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rangeFormatting');\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/onTypeFormatting');\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rename');\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/prepareRename');\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentLink');\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.type = new vscode_jsonrpc_1.RequestType('documentLink/resolve');\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new vscode_jsonrpc_1.RequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new vscode_jsonrpc_1.RequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/typeDefinition');\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new vscode_jsonrpc_1.RequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.red)\r\n            && Is.number(candidate.green)\r\n            && Is.number(candidate.blue)\r\n            && Is.number(candidate.alpha);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits) {\r\n        this.edits = edits;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n        this.edits.push(TextEdit.insert(position, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n        this.edits.push(TextEdit.replace(range, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range) {\r\n        this.edits.push(TextEdit.del(range));\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (VersionedTextDocumentIdentifier.is(key)) {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    documentChanges: []\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = key;\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    changes: Object.create(null)\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.changes) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n    ;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\n/**\r\n * Represents programming constructs like variables, classes, interfaces etc.\r\n * that appear in a document. Document symbols can be hierarchical and they\r\n * have two ranges: one that encloses its definition and one that points to\r\n * its most interesting range, e.g. the range of an identifier.\r\n */\r\nvar DocumentSymbol = /** @class */ (function () {\r\n    function DocumentSymbol() {\r\n    }\r\n    return DocumentSymbol;\r\n}());\r\nexport { DocumentSymbol };\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== void 0) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === void 0 || Array.isArray(candidate.children));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== void 0 && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, commandOrEdit, kind) {\r\n        var result = { title: title };\r\n        if (Command.is(commandOrEdit)) {\r\n            result.command = commandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = commandOrEdit;\r\n        }\r\n        if (kind !== void null) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data))\r\n            result.data = data;\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * A document link is a range in a text document that links to an internal or external resource, like another\r\n * text document or a web site.\r\n */\r\nvar DocumentLink = /** @class */ (function () {\r\n    function DocumentLink() {\r\n    }\r\n    return DocumentLink;\r\n}());\r\nexport { DocumentLink };\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nexport var TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason || (TextDocumentSaveReason = {}));\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = null;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = null;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === null) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","module.exports = which\nwhich.sync = whichSync\n\nvar path = require(\"path\")\n  , fs\n  , COLON = process.platform === \"win32\" ? \";\" : \":\"\n  , isExe\n  , fs = require(\"fs\")\n\nif (process.platform == \"win32\") {\n  // On windows, there is no good way to check that a file is executable\n  isExe = function isExe () { return true }\n} else {\n  isExe = function isExe (mod, uid, gid) {\n    //console.error(mod, uid, gid);\n    //console.error(\"isExe?\", (mod & 0111).toString(8))\n    var ret = (mod & 0001)\n        || (mod & 0010) && process.getgid && gid === process.getgid()\n        || (mod & 0010) && process.getuid && 0   === process.getuid()\n        || (mod & 0100) && process.getuid && uid === process.getuid()\n        || (mod & 0100) && process.getuid && 0   === process.getuid()\n    //console.error(\"isExe?\", ret)\n    return ret\n  }\n}\n\n\n\nfunction which (cmd, cb) {\n  if (isAbsolute(cmd)) return cb(null, cmd)\n  var pathEnv = (process.env.PATH || \"\").split(COLON)\n    , pathExt = [\"\"]\n  if (process.platform === \"win32\") {\n    pathEnv.push(process.cwd())\n    pathExt = (process.env.PATHEXT || \".EXE\").split(COLON)\n    if (cmd.indexOf(\".\") !== -1) pathExt.unshift(\"\")\n  }\n  //console.error(\"pathEnv\", pathEnv)\n  ;(function F (i, l) {\n    if (i === l) return cb(new Error(\"not found: \"+cmd))\n    var p = path.resolve(pathEnv[i], cmd)\n    ;(function E (ii, ll) {\n      if (ii === ll) return F(i + 1, l)\n      var ext = pathExt[ii]\n      //console.error(p + ext)\n      fs.stat(p + ext, function (er, stat) {\n        if (!er &&\n            stat &&\n            stat.isFile() &&\n            isExe(stat.mode, stat.uid, stat.gid)) {\n          //console.error(\"yes, exe!\", p + ext)\n          return cb(null, p + ext)\n        }\n        return E(ii + 1, ll)\n      })\n    })(0, pathExt.length)\n  })(0, pathEnv.length)\n}\n\nfunction whichSync (cmd) {\n  if (isAbsolute(cmd)) return cmd\n  var pathEnv = (process.env.PATH || \"\").split(COLON)\n    , pathExt = [\"\"]\n  if (process.platform === \"win32\") {\n    pathEnv.push(process.cwd())\n    pathExt = (process.env.PATHEXT || \".EXE\").split(COLON)\n    if (cmd.indexOf(\".\") !== -1) pathExt.unshift(\"\")\n  }\n  for (var i = 0, l = pathEnv.length; i < l; i ++) {\n    var p = path.join(pathEnv[i], cmd)\n    for (var j = 0, ll = pathExt.length; j < ll; j ++) {\n      var cur = p + pathExt[j]\n      var stat\n      try { stat = fs.statSync(cur) } catch (ex) {}\n      if (stat &&\n          stat.isFile() &&\n          isExe(stat.mode, stat.uid, stat.gid)) return cur\n    }\n  }\n  throw new Error(\"not found: \"+cmd)\n}\n\nvar isAbsolute = process.platform === \"win32\" ? absWin : absUnix\n\nfunction absWin (p) {\n  if (absUnix(p)) return true\n  // pull off the device/UNC bit from a windows path.\n  // from node's lib/path.js\n  var splitDeviceRe =\n        /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?([\\\\\\/])?/\n    , result = splitDeviceRe.exec(p)\n    , device = result[1] || ''\n    , isUnc = device && device.charAt(1) !== ':'\n    , isAbsolute = !!result[2] || isUnc // UNC paths are always absolute\n\n  return isAbsolute\n}\n\nfunction absUnix (p) {\n  return p.charAt(0) === \"/\" || p === \"\"\n}\n","/************************************************************************************************************\r\n * registry.js - contains a wrapper for the REG command under Windows, which provides access to the registry\r\n *\r\n * @author Paul Bottin a/k/a FrEsC\r\n *\r\n */\r\n\r\n/* imports */\r\nvar util          = require('util')\r\n,   path          = require('path')\r\n,   spawn         = require('child_process').spawn\r\n\r\n/* set to console.log for debugging */\r\n,   log           = function () {}\r\n\r\n/* registry hive ids */\r\n,   HKLM          = 'HKLM'\r\n,   HKCU          = 'HKCU'\r\n,   HKCR          = 'HKCR'\r\n,   HKU           = 'HKU'\r\n,   HKCC          = 'HKCC'\r\n,   HIVES         = [ HKLM, HKCU, HKCR, HKU, HKCC ]\r\n\r\n/* registry value type ids */\r\n,   REG_SZ        = 'REG_SZ'\r\n,   REG_MULTI_SZ  = 'REG_MULTI_SZ'\r\n,   REG_EXPAND_SZ = 'REG_EXPAND_SZ'\r\n,   REG_DWORD     = 'REG_DWORD'\r\n,   REG_QWORD     = 'REG_QWORD'\r\n,   REG_BINARY    = 'REG_BINARY'\r\n,   REG_NONE      = 'REG_NONE'\r\n,   REG_TYPES     = [ REG_SZ, REG_MULTI_SZ, REG_EXPAND_SZ, REG_DWORD, REG_QWORD, REG_BINARY, REG_NONE ]\r\n\r\n/* default registry value name */\r\n,   DEFAULT_VALUE = ''\r\n\r\n/* general key pattern */\r\n,   KEY_PATTERN   = /(\\\\[a-zA-Z0-9_\\s]+)*/\r\n\r\n/* key path pattern (as returned by REG-cli) */\r\n,   PATH_PATTERN  = /^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/\r\n\r\n/* registry item pattern */\r\n,   ITEM_PATTERN  = /^(.*)\\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\\s+([^\\s].*)$/\r\n\r\n/**\r\n * Creates an Error object that contains the exit code of the REG.EXE process.\r\n * This contructor is private. Objects of this type are created internally and returned in the <code>err</code> parameters in case the REG.EXE process doesn't exit cleanly.\r\n *\r\n * @private\r\n * @class\r\n *\r\n * @param {string} message - the error message\r\n * @param {number} code - the process exit code\r\n *\r\n */\r\nfunction ProcessUncleanExitError(message, code) {\r\n  if (!(this instanceof ProcessUncleanExitError))\r\n    return new ProcessUncleanExitError(message, code);\r\n\r\n  Error.captureStackTrace(this, ProcessUncleanExitError);\r\n\r\n  /**\r\n   * The error name.\r\n   * @readonly\r\n   * @member {string} ProcessUncleanExitError#name\r\n   */\r\n  this.__defineGetter__('name', function () { return ProcessUncleanExitError.name; });\r\n\r\n  /**\r\n   * The error message.\r\n   * @readonly\r\n   * @member {string} ProcessUncleanExitError#message\r\n   */\r\n  this.__defineGetter__('message', function () { return message; });\r\n\r\n  /**\r\n   * The process exit code.\r\n   * @readonly\r\n   * @member {number} ProcessUncleanExitError#code\r\n   */\r\n  this.__defineGetter__('code', function () { return code; });\r\n\r\n}\r\n\r\nutil.inherits(ProcessUncleanExitError, Error);\r\n\r\n/*\r\n * Captures stdout/stderr for a child process\r\n */\r\nfunction captureOutput(child) {\r\n  // Use a mutable data structure so we can append as we get new data and have\r\n  // the calling context see the new data\r\n  var output = {'stdout': '', 'stderr': ''};\r\n\r\n  child.stdout.on('data', function(data) { output[\"stdout\"] += data.toString(); });\r\n  child.stderr.on('data', function(data) { output[\"stderr\"] += data.toString(); });\r\n\r\n  return output;\r\n}\r\n\r\n\r\n/*\r\n * Returns an error message containing the stdout/stderr of the child process\r\n */\r\nfunction mkErrorMsg(registryCommand, code, output) {\r\n    var stdout = output['stdout'].trim();\r\n    var stderr = output['stderr'].trim();\r\n\r\n    var msg = util.format(\"%s command exited with code %d:\\n%s\\n%s\", registryCommand, code, stdout, stderr);\r\n    return new ProcessUncleanExitError(msg, code);\r\n}\r\n\r\n\r\n/*\r\n * Converts x86/x64 to 32/64\r\n */\r\nfunction convertArchString(archString) {\r\n  if (archString == 'x64') {\r\n    return '64';\r\n  } else if (archString == 'x86') {\r\n    return '32';\r\n  } else {\r\n    throw new Error('illegal architecture: ' + archString + ' (use x86 or x64)');\r\n  }\r\n}\r\n\r\n\r\n/*\r\n * Adds correct architecture to reg args\r\n */\r\nfunction pushArch(args, arch) {\r\n  if (arch) {\r\n    args.push('/reg:' + convertArchString(arch));\r\n  }\r\n}\r\n\r\n/*\r\n * Get the path to system's reg.exe. Useful when another reg.exe is added to the PATH\r\n * Implemented only for Windows\r\n */\r\nfunction getRegExePath() {\r\n    if (process.platform === 'win32') {\r\n        return path.join(process.env.windir, 'system32', 'reg.exe');\r\n    } else {\r\n        return \"REG\";\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Creates a single registry value record.\r\n * This contructor is private. Objects of this type are created internally and returned by methods of {@link Registry} objects.\r\n *\r\n * @private\r\n * @class\r\n *\r\n * @param {string} host - the hostname\r\n * @param {string} hive - the hive id\r\n * @param {string} key - the registry key\r\n * @param {string} name - the value name\r\n * @param {string} type - the value type\r\n * @param {string} value - the value\r\n * @param {string} arch - the hive architecture ('x86' or 'x64')\r\n *\r\n */\r\nfunction RegistryItem (host, hive, key, name, type, value, arch) {\r\n\r\n  if (!(this instanceof RegistryItem))\r\n    return new RegistryItem(host, hive, key, name, type, value, arch);\r\n\r\n  /* private members */\r\n  var _host = host    // hostname\r\n  ,   _hive = hive    // registry hive\r\n  ,   _key = key      // registry key\r\n  ,   _name = name    // property name\r\n  ,   _type = type    // property type\r\n  ,   _value = value  // property value\r\n  ,   _arch = arch    // hive architecture\r\n\r\n  /* getters/setters */\r\n\r\n  /**\r\n   * The hostname.\r\n   * @readonly\r\n   * @member {string} RegistryItem#host\r\n   */\r\n  this.__defineGetter__('host', function () { return _host; });\r\n\r\n  /**\r\n   * The hive id.\r\n   * @readonly\r\n   * @member {string} RegistryItem#hive\r\n   */\r\n  this.__defineGetter__('hive', function () { return _hive; });\r\n\r\n  /**\r\n   * The registry key.\r\n   * @readonly\r\n   * @member {string} RegistryItem#key\r\n   */\r\n  this.__defineGetter__('key', function () { return _key; });\r\n\r\n  /**\r\n   * The value name.\r\n   * @readonly\r\n   * @member {string} RegistryItem#name\r\n   */\r\n  this.__defineGetter__('name', function () { return _name; });\r\n\r\n  /**\r\n   * The value type.\r\n   * @readonly\r\n   * @member {string} RegistryItem#type\r\n   */\r\n  this.__defineGetter__('type', function () { return _type; });\r\n\r\n  /**\r\n   * The value.\r\n   * @readonly\r\n   * @member {string} RegistryItem#value\r\n   */\r\n  this.__defineGetter__('value', function () { return _value; });\r\n\r\n  /**\r\n   * The hive architecture.\r\n   * @readonly\r\n   * @member {string} RegistryItem#arch\r\n   */\r\n  this.__defineGetter__('arch', function () { return _arch; });\r\n\r\n}\r\n\r\nutil.inherits(RegistryItem, Object);\r\n\r\n/**\r\n * Creates a registry object, which provides access to a single registry key.\r\n * Note: This class is returned by a call to ```require('winreg')```.\r\n *\r\n * @public\r\n * @class\r\n *\r\n * @param {object} options - the options\r\n * @param {string=} options.host - the hostname\r\n * @param {string=} options.hive - the hive id\r\n * @param {string=} options.key - the registry key\r\n * @param {string=} options.arch - the optional registry hive architecture ('x86' or 'x64'; only valid on Windows 64 Bit Operating Systems)\r\n *\r\n * @example\r\n * var Registry = require('winreg')\r\n * ,   autoStartCurrentUser = new Registry({\r\n *       hive: Registry.HKCU,\r\n *       key:  '\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Run'\r\n *     });\r\n *\r\n */\r\nfunction Registry (options) {\r\n\r\n  if (!(this instanceof Registry))\r\n    return new Registry(options);\r\n\r\n  /* private members */\r\n  var _options = options || {}\r\n  ,   _host = '' + (_options.host || '')    // hostname\r\n  ,   _hive = '' + (_options.hive || HKLM)  // registry hive\r\n  ,   _key  = '' + (_options.key  || '')    // registry key\r\n  ,   _arch = _options.arch || null         // hive architecture\r\n\r\n  /* getters/setters */\r\n\r\n  /**\r\n   * The hostname.\r\n   * @readonly\r\n   * @member {string} Registry#host\r\n   */\r\n  this.__defineGetter__('host', function () { return _host; });\r\n\r\n  /**\r\n   * The hive id.\r\n   * @readonly\r\n   * @member {string} Registry#hive\r\n   */\r\n  this.__defineGetter__('hive', function () { return _hive; });\r\n\r\n  /**\r\n   * The registry key name.\r\n   * @readonly\r\n   * @member {string} Registry#key\r\n   */\r\n  this.__defineGetter__('key', function () { return _key; });\r\n\r\n  /**\r\n   * The full path to the registry key.\r\n   * @readonly\r\n   * @member {string} Registry#path\r\n   */\r\n  this.__defineGetter__('path', function () { return (_host.length == 0 ? '' : '\\\\\\\\' + _host + '\\\\') + _hive + _key; });\r\n\r\n  /**\r\n   * The registry hive architecture ('x86' or 'x64').\r\n   * @readonly\r\n   * @member {string} Registry#arch\r\n   */\r\n  this.__defineGetter__('arch', function () { return _arch; });\r\n\r\n  /**\r\n   * Creates a new {@link Registry} instance that points to the parent registry key.\r\n   * @readonly\r\n   * @member {Registry} Registry#parent\r\n   */\r\n  this.__defineGetter__('parent', function () {\r\n    var i = _key.lastIndexOf('\\\\')\r\n    return new Registry({\r\n      host: this.host,\r\n      hive: this.hive,\r\n      key:  (i == -1)?'':_key.substring(0, i),\r\n      arch: this.arch\r\n    });\r\n  });\r\n\r\n  // validate options...\r\n  if (HIVES.indexOf(_hive) == -1)\r\n    throw new Error('illegal hive specified.');\r\n\r\n  if (!KEY_PATTERN.test(_key))\r\n    throw new Error('illegal key specified.');\r\n\r\n  if (_arch && _arch != 'x64' && _arch != 'x86')\r\n    throw new Error('illegal architecture specified (use x86 or x64)');\r\n\r\n}\r\n\r\n/**\r\n * Registry hive key HKEY_LOCAL_MACHINE.\r\n * Note: For writing to this hive your program has to run with admin privileges.\r\n * @type {string}\r\n */\r\nRegistry.HKLM = HKLM;\r\n\r\n/**\r\n * Registry hive key HKEY_CURRENT_USER.\r\n * @type {string}\r\n */\r\nRegistry.HKCU = HKCU;\r\n\r\n/**\r\n * Registry hive key HKEY_CLASSES_ROOT.\r\n * Note: For writing to this hive your program has to run with admin privileges.\r\n * @type {string}\r\n */\r\nRegistry.HKCR = HKCR;\r\n\r\n/**\r\n * Registry hive key HKEY_USERS.\r\n * Note: For writing to this hive your program has to run with admin privileges.\r\n * @type {string}\r\n */\r\nRegistry.HKU = HKU;\r\n\r\n/**\r\n * Registry hive key HKEY_CURRENT_CONFIG.\r\n * Note: For writing to this hive your program has to run with admin privileges.\r\n * @type {string}\r\n */\r\nRegistry.HKCC = HKCC;\r\n\r\n/**\r\n * Collection of available registry hive keys.\r\n * @type {array}\r\n */\r\nRegistry.HIVES = HIVES;\r\n\r\n/**\r\n * Registry value type STRING.\r\n * @type {string}\r\n */\r\nRegistry.REG_SZ = REG_SZ;\r\n\r\n/**\r\n * Registry value type MULTILINE_STRING.\r\n * @type {string}\r\n */\r\nRegistry.REG_MULTI_SZ = REG_MULTI_SZ;\r\n\r\n/**\r\n * Registry value type EXPANDABLE_STRING.\r\n * @type {string}\r\n */\r\nRegistry.REG_EXPAND_SZ = REG_EXPAND_SZ;\r\n\r\n/**\r\n * Registry value type DOUBLE_WORD.\r\n * @type {string}\r\n */\r\nRegistry.REG_DWORD = REG_DWORD;\r\n\r\n/**\r\n * Registry value type QUAD_WORD.\r\n * @type {string}\r\n */\r\nRegistry.REG_QWORD = REG_QWORD;\r\n\r\n/**\r\n * Registry value type BINARY.\r\n * @type {string}\r\n */\r\nRegistry.REG_BINARY = REG_BINARY;\r\n\r\n/**\r\n * Registry value type UNKNOWN.\r\n * @type {string}\r\n */\r\nRegistry.REG_NONE = REG_NONE;\r\n\r\n/**\r\n * Collection of available registry value types.\r\n * @type {array}\r\n */\r\nRegistry.REG_TYPES = REG_TYPES;\r\n\r\n/**\r\n * The name of the default value. May be used instead of the empty string literal for better readability.\r\n * @type {string}\r\n */\r\nRegistry.DEFAULT_VALUE = DEFAULT_VALUE;\r\n\r\n/**\r\n * Retrieve all values from this registry key.\r\n * @param {valuesCallback} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @param {array=} cb.items - an array of {@link RegistryItem} objects\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.values = function values (cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  var args = [ 'QUERY', this.path ];\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   buffer = ''\r\n  ,   self = this\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if (error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg('QUERY', code, output), null);\r\n    } else {\r\n      var items = []\r\n      ,   result = []\r\n      ,   lines = buffer.split('\\n')\r\n      ,   lineNumber = 0\r\n\r\n      for (var i = 0, l = lines.length; i < l; i++) {\r\n        var line = lines[i].trim();\r\n        if (line.length > 0) {\r\n          log(line);\r\n          if (lineNumber != 0) {\r\n            items.push(line);\r\n          }\r\n          ++lineNumber;\r\n        }\r\n      }\r\n\r\n      for (var i = 0, l = items.length; i < l; i++) {\r\n\r\n        var match = ITEM_PATTERN.exec(items[i])\r\n        ,   name\r\n        ,   type\r\n        ,   value\r\n\r\n        if (match) {\r\n          name = match[1].trim();\r\n          type = match[2].trim();\r\n          value = match[3];\r\n          result.push(new RegistryItem(self.host, self.hive, self.key, name, type, value, self.arch));\r\n        }\r\n      }\r\n\r\n      cb(null, result);\r\n\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    buffer += data.toString();\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Retrieve all subkeys from this registry key.\r\n * @param {function (err, items)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @param {array=} cb.items - an array of {@link Registry} objects\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.keys = function keys (cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  var args = [ 'QUERY', this.path ];\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   buffer = ''\r\n  ,   self = this\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if (error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg('QUERY', code, output), null);\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    buffer += data.toString();\r\n  });\r\n\r\n  proc.stdout.on('end', function () {\r\n\r\n    var items = []\r\n    ,   result = []\r\n    ,   lines = buffer.split('\\n')\r\n\r\n    for (var i = 0, l = lines.length; i < l; i++) {\r\n      var line = lines[i].trim();\r\n      if (line.length > 0) {\r\n        log(line);\r\n        items.push(line);\r\n      }\r\n    }\r\n\r\n    for (var i = 0, l = items.length; i < l; i++) {\r\n\r\n      var match = PATH_PATTERN.exec(items[i])\r\n      ,   hive\r\n      ,   key\r\n\r\n      if (match) {\r\n        hive = match[1];\r\n        key  = match[2];\r\n        if (key && (key !== self.key)) {\r\n          result.push(new Registry({\r\n            host: self.host,\r\n            hive: self.hive,\r\n            key:  key,\r\n            arch: self.arch\r\n          }));\r\n        }\r\n      }\r\n    }\r\n\r\n    cb(null, result);\r\n\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Gets a named value from this registry key.\r\n * @param {string} name - the value name, use {@link Registry.DEFAULT_VALUE} or an empty string for the default value\r\n * @param {function (err, item)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @param {RegistryItem=} cb.item - the retrieved registry item\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.get = function get (name, cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  var args = ['QUERY', this.path];\r\n  if (name == '')\r\n    args.push('/ve');\r\n  else\r\n    args = args.concat(['/v', name]);\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   buffer = ''\r\n  ,   self = this\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if (error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg('QUERY', code, output), null);\r\n    } else {\r\n      var items = []\r\n      ,   result = null\r\n      ,   lines = buffer.split('\\n')\r\n      ,   lineNumber = 0\r\n\r\n      for (var i = 0, l = lines.length; i < l; i++) {\r\n        var line = lines[i].trim();\r\n        if (line.length > 0) {\r\n          log(line);\r\n          if (lineNumber != 0) {\r\n             items.push(line);\r\n          }\r\n          ++lineNumber;\r\n        }\r\n      }\r\n\r\n      //Get last item - so it works in XP where REG QUERY returns with a header\r\n      var item = items[items.length-1] || ''\r\n      ,   match = ITEM_PATTERN.exec(item)\r\n      ,   name\r\n      ,   type\r\n      ,   value\r\n\r\n      if (match) {\r\n        name = match[1].trim();\r\n        type = match[2].trim();\r\n        value = match[3];\r\n        result = new RegistryItem(self.host, self.hive, self.key, name, type, value, self.arch);\r\n      }\r\n\r\n      cb(null, result);\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    buffer += data.toString();\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Sets a named value in this registry key, overwriting an already existing value.\r\n * @param {string} name - the value name, use {@link Registry.DEFAULT_VALUE} or an empty string for the default value\r\n * @param {string} type - the value type\r\n * @param {string} value - the value\r\n * @param {function (err)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.set = function set (name, type, value, cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  if (REG_TYPES.indexOf(type) == -1)\r\n    throw Error('illegal type specified.');\r\n\r\n  var args = ['ADD', this.path];\r\n  if (name == '')\r\n    args.push('/ve');\r\n  else\r\n    args = args.concat(['/v', name]);\r\n\r\n  args = args.concat(['/t', type, '/d', value, '/f']);\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if(error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg('ADD', code, output, null));\r\n    } else {\r\n      cb(null);\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    // simply discard output\r\n    log(''+data);\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove a named value from this registry key. If name is empty, sets the default value of this key.\r\n * Note: This key must be already existing.\r\n * @param {string} name - the value name, use {@link Registry.DEFAULT_VALUE} or an empty string for the default value\r\n * @param {function (err)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.remove = function remove (name, cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  var args = name ? ['DELETE', this.path, '/f', '/v', name] : ['DELETE', this.path, '/f', '/ve'];\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if(error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg('DELETE', code, output), null);\r\n    } else {\r\n      cb(null);\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    // simply discard output\r\n    log(''+data);\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all subkeys and values (including the default value) from this registry key.\r\n * @param {function (err)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.clear = function clear (cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  var args = ['DELETE', this.path, '/f', '/va'];\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if(error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg(\"DELETE\", code, output), null);\r\n    } else {\r\n      cb(null);\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    // simply discard output\r\n    log(''+data);\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Alias for the clear method to keep it backward compatible.\r\n * @method\r\n * @deprecated Use {@link Registry#clear} or {@link Registry#destroy} in favour of this method.\r\n * @param {function (err)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.erase = Registry.prototype.clear;\r\n\r\n/**\r\n * Delete this key and all subkeys from the registry.\r\n * @param {function (err)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.destroy = function destroy (cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  var args = ['DELETE', this.path, '/f'];\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if (error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg('DELETE', code, output), null);\r\n    } else {\r\n      cb(null);\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    // simply discard output\r\n    log(''+data);\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Create this registry key. Note that this is a no-op if the key already exists.\r\n * @param {function (err)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.create = function create (cb) {\r\n\r\n  if (typeof cb !== 'function')\r\n    throw new TypeError('must specify a callback');\r\n\r\n  var args = ['ADD', this.path, '/f'];\r\n\r\n  pushArch(args, this.arch);\r\n\r\n  var proc = spawn(getRegExePath(), args, {\r\n        cwd: undefined,\r\n        env: process.env,\r\n        stdio: [ 'ignore', 'pipe', 'pipe' ]\r\n      })\r\n  ,   error = null // null means no error previously reported.\r\n\r\n  var output = captureOutput(proc);\r\n\r\n  proc.on('close', function (code) {\r\n    if (error) {\r\n      return;\r\n    } else if (code !== 0) {\r\n      log('process exited with code ' + code);\r\n      cb(mkErrorMsg('ADD', code, output), null);\r\n    } else {\r\n      cb(null);\r\n    }\r\n  });\r\n\r\n  proc.stdout.on('data', function (data) {\r\n    // simply discard output\r\n    log(''+data);\r\n  });\r\n\r\n  proc.on('error', function(err) {\r\n    error = err;\r\n    cb(err);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Checks if this key already exists.\r\n * @param {function (err, exists)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @param {boolean=} cb.exists - true if a registry key with this name already exists\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.keyExists = function keyExists (cb) {\r\n\r\n  this.values(function (err, items) {\r\n    if (err) {\r\n      // process should return with code 1 if key not found\r\n      if (err.code == 1) {\r\n        return cb(null, false);\r\n      }\r\n      // other error\r\n      return cb(err);\r\n    }\r\n    cb(null, true);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Checks if a value with the given name already exists within this key.\r\n * @param {string} name - the value name, use {@link Registry.DEFAULT_VALUE} or an empty string for the default value\r\n * @param {function (err, exists)} cb - callback function\r\n * @param {ProcessUncleanExitError=} cb.err - error object or null if successful\r\n * @param {boolean=} cb.exists - true if a value with the given name was found in this key\r\n * @returns {Registry} this registry key object\r\n */\r\nRegistry.prototype.valueExists = function valueExists (name, cb) {\r\n\r\n  this.get(name, function (err, item) {\r\n    if (err) {\r\n      // process should return with code 1 if value not found\r\n      if (err.code == 1) {\r\n        return cb(null, false);\r\n      }\r\n      // other error\r\n      return cb(err);\r\n    }\r\n    cb(null, true);\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\nmodule.exports = Registry;\r\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = require(\"assert\");;","module.exports = require(\"child_process\");;","module.exports = require(\"crypto\");;","module.exports = require(\"events\");;","module.exports = require(\"fs\");;","module.exports = require(\"http\");;","module.exports = require(\"https\");;","module.exports = require(\"net\");;","module.exports = require(\"os\");;","module.exports = require(\"path\");;","module.exports = require(\"stream\");;","module.exports = require(\"tty\");;","module.exports = require(\"url\");;","module.exports = require(\"util\");;","module.exports = require(\"vscode\");;","module.exports = require(\"zlib\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(112);\n"],"sourceRoot":""}